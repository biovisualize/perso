github issue name,github issue ID,Fix Version/s,Created timestamp,Updated timestamp,Description,Reporter,Labels,Assignee,Comment Body
changing chart color causes backend choropleth crash,4695,,2018-06-11T20:46:06Z,2018-06-11T21:16:54Z,"### :speech_balloon: Description

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
-
- **Actual result:**
- **Expected result:**

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

### :memo: Other Info",alexbaden,"bug,release blocker",alexbaden,"Can't repro, but here's the screenshot from @tmostak original issue:

<img width=""1920"" alt=""screen shot 2018-06-09 at 9 04 36 am"" src=""https://user-images.githubusercontent.com/5845842/41257341-572bda4c-6d81-11e8-8e12-afc6777da5a4.png"">
,alexbaden"
show popup for color measure when using a dimension w/ backend choropleth,4694,,2018-06-11T20:45:46Z,2018-06-11T20:45:46Z,"### :speech_balloon: Description


### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
-
- **Actual result:**
- **Expected result:**

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

### :memo: Other Info",alexbaden,bug,alexbaden,
Refactor backend choropleth color scales,4693,,2018-06-11T20:08:44Z,2018-06-11T21:05:45Z,"Supports solid and quantize scales
Removes text types from quantize scale, temporarily does not support ordinal scale (backend limitation https://github.com/mapd/mapd-core-internal/issues/1621)
Drop # Records from backend choropleth color measure without a dimension (was causing a crash previously)
Display aggregate selector in color measure when a dimension is present (#4678)
Properly handles std dev aggregate (#4641)

### 💬  Description
 
### 📄 Github Issue
Closes #0

### :camera_flash: Screenshot",alexbaden,,,"**Immerse**: http://immerse-4693.dev.frontend.builds.mapd.com

,mapd-bot
Doh, forget the most important part. If we have choropleth and we do a layer filter (meaning we click on a polygon) then we want the existing polygons to still be rendered, but in a more opaque and more neutral color. This allows us to do hit testing on existing polygons (note that we could actually ""render"" them as completely opaque, meaning only their outlines would disappear, if desirable. It's easy to change in charting). See screenshot below for example: 

![image](https://user-images.githubusercontent.com/5845842/41254830-8639e61a-6d79-11e8-88a1-fa237e7cd246.png)
,alexbaden
**Immerse**: http://immerse-4693.dev.frontend.builds.mapd.com

,mapd-bot
**Immerse**: http://immerse-4693.dev.frontend.builds.mapd.com

,mapd-bot
#4641 is still reproducible  if the original source contains a Geo column (map created without a join):
![screen shot 2018-06-11 at 4 16 48 pm](https://user-images.githubusercontent.com/39566471/41261961-221e4dc8-6d93-11e8-9ecc-c310cf590361.png)
,AlexHarutyunyan"
Investigate inconsistencies in column type labels,4692,,2018-06-11T18:00:58Z,2018-06-11T18:03:40Z,"### :speech_balloon: Description

e.g.  ""STR [dict. encoded]"" and not ""TEXT ENCODING DICT(32)"" in table preview (latter is the strict DDL syntax), and different labels again in the chart column selectors

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
-
- **Actual result:**
- **Expected result:**

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

### :memo: Other Info",jrajav,,,"I approve,simoneves"
Change GEOINT to COMPRESSED in Table Importer geo options,4691,,2018-06-11T17:41:41Z,2018-06-11T17:41:58Z,"### :speech_balloon: Description

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
-
- **Actual result:**
- **Expected result:**

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

### :memo: Other Info",jrajav,"geospatial,import",jrajav,
remove dead table selection code from table-picker-parent,4690,,2018-06-11T16:19:12Z,2018-06-11T18:26:37Z,"### 💬  Description
 Removes unused code in `table-picker-parent` that's no longer used to select a table for preview
### 📄 Github Issue
Closes #4600

### :camera_flash: Screenshot

### Testing Notes
Table previews should continue to work as expected, with users being able to select table from the list and see it's columns",jmenestr,,AlexHarutyunyan,"**Immerse**: http://immerse-4690.dev.frontend.builds.mapd.com

,mapd-bot
Verified on all supported browsers (Kali+Mahakali).,AlexHarutyunyan"
Imported geo columns do not show column name in selectors,4689,,2018-06-11T14:18:01Z,2018-06-11T16:02:44Z,"### :speech_balloon: Description

Unsure if this is meant to be supported yet or not, but mapd_geo columns that have a name upon import do not retain that column name in the data source (or at least, the chart selectors).

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
-
- **Actual result:**
- **Expected result:**

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

<img width=""1528"" alt=""mapd_geo field names 1"" src=""https://user-images.githubusercontent.com/2074135/41237063-3d675196-6d58-11e8-8726-5511cf87f0b2.png"">
<img width=""1528"" alt=""mapd_geo field names 2"" src=""https://user-images.githubusercontent.com/2074135/41237067-3f854596-6d58-11e8-9681-3e12c9d7306b.png"">

### :memo: Other Info

Dataset in screens above is trips.csv:

`COPY trips_geo FROM ‘/freenas-home/home/annette/inrix/trips’ with (lonlat=‘false’);`",jrajav,"Needs PM Review,geospatial,import",,"I can't think of any reason why they shouldn't be displayed in that list with their original name. The icon can still be the ""location"" icon to show that it's geo. The original name must have been used for sorting the list elements, too!,simoneves"
Bad filter when filtering on chart with unbinned integers.,4688,,2018-06-10T05:19:37Z,2018-06-11T20:32:10Z,"To repro on Kali:

Using flights dataset
1. Create a table chart with dimension as arrdelay (bar chart works as well).
2. Turn off binning for arrdelay in the dimension selector
3. Click on any of the rows or bars. Nothing happens.

This is the query that is issued:

""SELECT COUNT(*) as n FROM flights WHERE (arrdelay = [object Object])""

Marking as a release blocker until we can scope whether this is a regression (may still be even if not, its pretty serious).",tmostak,"P1,bug,release blocker",clhenrick,"I think this bug is related to https://github.com/mapd/mapd-immerse/issues/4557,alexbaden"
"Column header names revert to `column_1`, `column_2` etc. upon import after changing a CSV import setting",4687,,2018-06-09T18:32:05Z,2018-06-09T18:32:25Z,"### :speech_balloon: Description

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
-
- **Actual result:**
- **Expected result:**

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

### :memo: Other Info",jrajav,"bug,import",jrajav,
"[Geo - Choropleth] Reduce join types in dimensions or geo join column, if other is already selected",4685,,2018-06-09T16:00:08Z,2018-06-09T16:00:19Z,"### :speech_balloon: Description

If possible, restrict the list of selector values in dimensions selector or geo join column selector to the valid join types, if the opposite one is already filled.

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
-
- **Actual result:**
- **Expected result:**

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

### :memo: Other Info",jrajav,"BE-Choropleth,Needs PM Review,geospatial",,
Color By Dimension is not compatible with Timestamps/Numbers and can cause an error loop if used,4684,,2018-06-09T01:38:40Z,2018-06-09T01:38:40Z,"### :speech_balloon: Description
The Color By Dimension option in the palette is not compatible with Timestamps or Numbers. All values will be appear as Other even when a full palette is added. As soon as color by dimension is selected an error loop is triggered when the user navigates to another chart. 

### :computer: Environment
- **Chrome, 67.0.3396.79**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
- Create a bar chart (Source: flights | Dimension: arr_timestamp | Measure: # Records)
- Select Color By Dimension in the Color Palette 
- Add a color 
- Navigate to another chart (Histogram for example)

- **Actual result:**
The palette options don't seem to reflect the data being displayed. 
- **Expected result:**
The Color by Dimension feature should reflect the data being displayed similar to the default palettes. 



### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots
![colorpalettetimestamp](https://user-images.githubusercontent.com/39566471/41186387-7caa41b6-6b4a-11e8-9bb5-3825086baccf.gif)
![screen shot 2018-06-08 at 5 50 35 pm](https://user-images.githubusercontent.com/39566471/41186389-8547e562-6b4a-11e8-8130-31c2455dea0f.png)

### :memo: Other Info",AlexHarutyunyan,"P2,bug,found during 4.0",,
Connot switch to different chart type from geo heat map,4682,,2018-06-08T23:06:37Z,2018-06-08T23:07:12Z,"### :speech_balloon: Description

Connot switch to different chart type from geo heat map


### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
- Go to kali
- Create heat map 
-  Select source: Metro_station_Regional
- On long/ lat select mapd_geo
- Select records as color
- try to switch to a different chart


- **Actual result:**
Cannot switch to a different chart 
Heat map is not rendered anymore 

- **Expected result:**
Should be able to switch to a different chart 

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots
![jun-08-2018 16-04-06](https://user-images.githubusercontent.com/16374964/41184553-f5e1f4e4-6b35-11e8-9f11-d7d432a4b1bb.gif)

### :memo: Other Info",menaczar,"P2,bug,found during 4.0,geospatial",,
Unable to clear Measure Number Formatting after clearing Dimension Date Formatting,4681,,2018-06-08T22:53:14Z,2018-06-08T23:23:10Z,"### :speech_balloon: Description
Number formatting doesn't clear if it is performed right after clearing timestamp formatting on charts that contain both formatting options. 



### :computer: Environment
- **Chrome, 67.0.3396.79**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
- Create Bar chart using (Source: flights | Dimension: arr_timestamp | Measure: # Records)
- Apply Some different combinations of formatting to arr_timestamp and # Records
- Clear the formatting from Dimension arr_timestamp using the x button
- Clear the formatting from Measure # Records using the x button 

- **Actual result:**
Unable to clear the formatting from the Measure Number Formatting
- **Expected result:**
Clear button should always clear the formatting

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots
![formattingclear](https://user-images.githubusercontent.com/39566471/41184257-06adb17a-6b34-11e8-9aa2-e78f34b07594.gif)
### :memo: Other Info",AlexHarutyunyan,"P3,bug,found during 4.0",,
Formatting selections change the Sort By selection for number datatypes (Bar/Pie chart),4680,,2018-06-08T22:40:48Z,2018-06-08T22:41:24Z,"### :speech_balloon: Description
Changing the measure formatting on Pie chart and Bar chart applies the dimension Sort By selection

### :computer: Environment
- **Chrome, 67.0.3396.79**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
- Create a Bar chart (Source: Flights | Dimension: arr_timestamp | Measure: # Records)
- Changing the Sort By to arr_timestamp
- Change the Measure Number Formatting and observe 

- **Actual result:**
When the formatting is changed so is the Sort By selection (# Records)
- **Expected result:**
Formatting should only effect the way measures are displayed. 


### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots
![formatting sort](https://user-images.githubusercontent.com/39566471/41183952-242749ac-6b32-11e8-8acd-cb914d51ec49.gif)

### :memo: Other Info",AlexHarutyunyan,"P4,bug,found during 4.0",,
[Geo-Choropleth] Unable to add Geo-Measure after removing Dimension of existing chart,4679,,2018-06-08T22:28:34Z,2018-06-11T21:31:46Z,"### :speech_balloon: Description
Currently if user removes Dimension of an existing(saved) geo-choropleth chart with geo join (i.e. join flight table with mapd_state via state col.), and user adds new Dimension and Geo-measure, it would trigger an error pop-up `TypeError: Cannot read property 'getPolyGeoDomain' of null`, and exiting would cause immerse to hang. 

<img width=""1228"" alt=""screen shot 2018-06-08 at 3 09 39 pm"" src=""https://user-images.githubusercontent.com/35040876/41183320-f76f6f6e-6b2e-11e8-8cb1-307d4e437e7a.png"">
Navigating to dashboards after immerse hang trigger another error:

```
TypeError: Cannot read property 'attributes' of null
    at t.default (vendor.c61d4d71b89a4750eee8.js:1)
```

<img width=""1222"" alt=""screen shot 2018-06-08 at 3 07 55 pm"" src=""https://user-images.githubusercontent.com/35040876/41183326-fe2c8a62-6b2e-11e8-9c73-9679f9ed2d1b.png"">


### :computer: Environment
- **Browser Name, Version**: Chrome
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
1. Navigate to a saved Choropleth chart with the following:
Data Source: flight
**Dimension:** dest_state
**Measure - Geo:** mapd_geo (note need to create join table before selecting geo measure)
**Measure -Color:** airtime (avg)

Join Table:
**Data Source:** Mapd_states
**Table Column:** abbr

2. Remove Dimension and Measure color
3. Add new **Dimension:** dest_state and **Measure - Geo:** mapd_geo

- **Actual result:**
Error pop up triggered followed by immerse hang

- **Expected result:**
should be able to remove dimen. and add new dim. and geo measure

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots
![remove_dim_bug_4](https://user-images.githubusercontent.com/35040876/41183844-ab6f14ae-6b31-11e8-9b74-a51533071190.gif)




### :memo: Other Info",ericli5454,"BE-Choropleth,P2,bug,found during 4.0",alexbaden,"adding @alexbaden @jrajav ,ericli5454
I believe I fixed this in https://github.com/mapd/mapd-immerse/pull/4693 , too.,alexbaden
@alexbaden I was able to replicate this one in #4693, under the same conditions. Looks like it didn't impact this one. ,AlexHarutyunyan
Still can repro using the issue step.,menaczar
This was fixed in a PR that has not been merged. Make sure you are testing
the PR.

On Mon, Jun 11, 2018 at 17:10 menaczar <notifications@github.com> wrote:

> Still can repro using the issue step.
>
> —
> You are receiving this because you were mentioned.
>
>
> Reply to this email directly, view it on GitHub
> <https://github.com/mapd/mapd-immerse/issues/4679#issuecomment-396388432>,
> or mute the thread
> <https://github.com/notifications/unsubscribe-auth/AFkzUoWSVDs11Du4i7JsLxCxIYfkaVU9ks5t7tzFgaJpZM4UhB-D>
> .
>
,alexbaden
@alexbaden yes we are testing the PR #4693 ,menaczar
@alexbaden is the PR in question #4693?,AlexHarutyunyan"
[Geo - Choropleth] Does not display aggregate selector with Geo data source,4678,,2018-06-08T21:51:14Z,2018-06-11T21:44:30Z,"### :speech_balloon: Description
Currently when user creates a choropleth chart with table with geo col. as data source and user selects a numeric measure the aggregate selector does not appear.

### :computer: Environment
- **Browser Name, Version**: Chrome
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
1. Create a geo - choropleth chart with the following; (kali)
Data Source: nyc_buildings
Measure - Geo: mapd_geo
Measure - Color: heightroof

- **Actual result:**
aggregate selector not available

- **Expected result:**
aggregate selector available

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots
![nyc_no_aggregate](https://user-images.githubusercontent.com/35040876/41182617-44f41b4e-6b2b-11e8-890e-9cd660578aa0.gif)
### :memo: Other Info",ericli5454,"BE-Choropleth,P2,bug,found during 4.0",alexbaden,"Adding @jrajav and @alexbaden ,ericli5454
Have a fix for this in my ordinal branch. GitHub mobile doesn’t seem  to allow assignment but please assign to me. ,alexbaden
@alexbaden The aggregate only appears if a dimension from the primary source has been selected. 

If you select the color measure right after selecting the primary source data(skipping the dimension selection), the aggregate menu won't be there. Similarly if you select a Geo Join source/column and 'mapd_geo' as a Geo measure on the left the color Measure still won't have the aggregate menu. 

Once you clear the measure without aggregate you get the following error/hang:
![screen shot 2018-06-11 at 2 37 32 pm](https://user-images.githubusercontent.com/39566471/41258491-2f4243a0-6d85-11e8-9e60-334e10cedd4f.png)
,AlexHarutyunyan"
Choropleth with 2 geo measure should distinguish between source and geo join,4677,,2018-06-08T21:25:40Z,2018-06-11T20:19:42Z,"### :speech_balloon: Description
You can get into a state where you have 2 geo measures with the same name. One comes from a column in the source and one form the geojson to join with. It might be useful to add a label to distinguish them.

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
-
- **Actual result:**
- **Expected result:**

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

### :memo: Other Info",biovisualize,geospatial,,"@jrajav Can you add a screenshot and/or repro steps? No rush.,biovisualize
There is a `name_is_ambiguous` tag that it seems like we should be able to use to differentiate the two. I believe the chart should do the ""right thing"" now, since we pull the table name directly from the column metadata in the selector. But, it would be nice to disambiguate them. ,alexbaden"
Charts are out of position when editting after adding another chart to dashboard,4676,,2018-06-08T19:57:21Z,2018-06-11T20:40:03Z,"### :speech_balloon: Description
Text chart jumps to the top of the browser when you edit after adding another chart. 

### :computer: Environment
- **Browser Chrome, 67.0.3396.79 Safari, 11.1 (13605.1.33.1.4)**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
- Create a text chart and add to dashboard
- Create another chart and add to dashboard
- Go back and edit the text chart 
- **Actual result:**
The text chart jumps to the top of the browser and overlaps with the chart selection dock. 
- **Expected result:**
Text chart should remain in the intended position. 



### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots
![text number](https://user-images.githubusercontent.com/39566471/41178142-3aa384dc-6b1b-11e8-9ec4-47779f15ec8c.gif)

### :memo: Other Info
Unable to reproduce in the demo.",AlexHarutyunyan,"P4,bug,found during 4.0,regression",biovisualize,"@niviksha Just a heads up, I just noticed this issue is not confined to the text chart. 

![screen shot 2018-06-11 at 12 26 44 pm](https://user-images.githubusercontent.com/39566471/41252851-3fb713c6-6d73-11e8-8059-e699f12b1e75.png)
![screen shot 2018-06-11 at 12 27 01 pm](https://user-images.githubusercontent.com/39566471/41252855-43b0fcee-6d73-11e8-833b-6be9e9c1a068.png)
![screen shot 2018-06-11 at 12 29 44 pm](https://user-images.githubusercontent.com/39566471/41252860-4632da96-6d73-11e8-81fb-b92ad0b825bb.png)

Update: Still not a big deal. I found the repro. After it gets triggered on the text chart, it will extend to the other charts, but the initial trigger is still only the text chart. ,AlexHarutyunyan
Good to know. I started to investigate before this task got the release-blocker removed. So I may just finish it if I have time.,biovisualize"
Change choropleth mapd_geo selector icon to map pin icon,4675,,2018-06-08T19:05:22Z,2018-06-08T19:46:01Z,"### :speech_balloon: Description

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
-
- **Actual result:**
- **Expected result:**

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

### :memo: Other Info",jrajav,"BE-Choropleth,geospatial",,
support ordinal scale in backend choropleth chart,4674,,2018-06-08T18:46:13Z,2018-06-11T19:41:26Z,"### :speech_balloon: Description

Required to support text type color measures. 

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
-
- **Actual result:**
- **Expected result:**

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

### :memo: Other Info",alexbaden,"BE-Choropleth,enhancement,geospatial",alexbaden,"Pulling the plug on this for 4.0 and dropping text fields from the color measure for choropleth. It looks like there is additional backend work to do to support ordinal scales.,alexbaden"
Immerse doesn't support TinyInt,4673,,2018-06-08T16:47:07Z,2018-06-08T16:47:07Z,"### :speech_balloon: Description
Immerse doesn't support TinyInt

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
- run this query on Kali: select * from Paris_Mena;
- compare results from mapdql vs SQL Editor

- **Actual result:**
SQL editor doen't handle tiny int.

- **Expected result:**
Should see exactly same results.

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots
![Screen Shot 2018-06-07 at 2.16.03 PM.png](https://images.zenhubusercontent.com/59a47c158f62dc7798c4571a/88df4c5c-38a0-4a74-b2ee-c95300c57862)

![Screen Shot 2018-06-07 at 2.16.16 PM.png](https://images.zenhubusercontent.com/59a47c158f62dc7798c4571a/ca50c70d-3206-49ee-a002-c736323598e0)
### :memo: Other Info",menaczar,"P2,bug,found during 4.0",,
Add auto-zoom to geo-heatmap,4672,,2018-06-08T16:10:06Z,2018-06-08T18:09:52Z,"### :speech_balloon: Description
Add an auto-zoom feature to geo-heatmap on initial load to focus on the area where data is found, similar to pointmap/choropleth

### :computer: Environment
- **Browser Name, Version**: all
- **mapd-immerse Version or Branch**: master. 4.0 if it turns out to be easy to do

### :page_with_curl: Steps To Reproduce
N/A

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

### :memo: Other Info",vastcharade,enhancement,vastcharade,"I'm tagging it for the 4.0 release just so we can track it on the Zenhub board as a wishlist item, and maybe estimate if it can get in.,biovisualize"
Combo chart legend uses square instead of lines on multi-measure,4671,,2018-06-08T11:42:43Z,2018-06-08T11:42:59Z,"### :speech_balloon: Description

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
- any combo chart with multi-measure
- **Actual result:** all chart legend items has a square instead of line
- **Expected result:** should all be lines (when the mark is a line) as when the color dimension is used

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots
<img width=""1693"" alt=""screen shot 2018-06-07 at 10 57 43 pm"" src=""https://user-images.githubusercontent.com/824534/41156348-81f74ab6-6aef-11e8-8a94-be5163007256.png"">

### :memo: Other Info",biovisualize,"bug,combo-chart",,
[Line][Hist.][Combo] Adding Color Dim. after Measure renders empty chart,4670,,2018-06-08T09:28:57Z,2018-06-11T18:48:16Z,"### :speech_balloon: Description
Currently, if user selects a **Color Dimension** after **X-axis Dimension** and **Measure**, it would render an empty chart. This occurs in Line, Histogram, and Combo chart

### :computer: Environment
- **Browser Name, Version**: Chrome
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
1. Select a **X-axis Dimension** and **Measure**
2. Then add in **Color Dimension**

- **Actual result:**
renders blank chart

- **Expected result:**
chart renders correctly

### :dash: Smoke Test
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots
![line_chart](https://user-images.githubusercontent.com/35040876/41150761-a6c7db20-6ac3-11e8-8c43-0a03aad52c31.gif)

![hist](https://user-images.githubusercontent.com/35040876/41150775-ab5329e2-6ac3-11e8-90f2-dab19adc9d04.gif)


### :memo: Other Info",ericli5454,"P2,bug,found during 4.0,regression,release blocker",jmenestr,"@niviksha can you review this bug,ericli5454
@ericli5454 done.,niviksha
Enabling 'Show Range Chart' generates this error :
![screen shot 2018-06-11 at 11 45 28 am](https://user-images.githubusercontent.com/39566471/41250910-2698bb5c-6d6d-11e8-9443-af984cf2c609.png)
,AlexHarutyunyan"
dummy commit,4665,,2018-06-08T04:41:25Z,2018-06-08T17:10:30Z,Just for testing if the error we see on https://github.com/mapd/mapd-immerse/pull/4607 was also there before the work on the PR,biovisualize,,,"**Immerse**: http://immerse-4665.dev.frontend.builds.mapd.com

,mapd-bot
@biovisualize Here's the setup I was trying to explain unsuccessfully. The error reporting seems to work but an infinite spinner takes place. So I wasn't sure if it was because of the error handling or another thing to consider about the choropleth(different datasets, both with a mapd_geo). Say you use the same dataset for the left and right side with compatible columns the error is not generated (although both mapd_geo columns still appear in the list unlabeled).

<img width=""1175"" alt=""screen shot 2018-06-08 at 1 23 48 am"" src=""https://user-images.githubusercontent.com/39566471/41147234-b1acf33a-6aba-11e8-9633-c3e13fb0559c.png"">

<img width=""1183"" alt=""screen shot 2018-06-08 at 1 24 50 am"" src=""https://user-images.githubusercontent.com/39566471/41147365-12882cb0-6abb-11e8-809d-9516a074bb35.png"">

,AlexHarutyunyan
@AlexHarutyunyan And after the fix to pipe errors to the popup, it's properly exposed. 

Do you want to test more use cases? I know it's not an easy one to test, as we need to find errors on the fix branch when there's a popup and then come back here to see if the error was there before, to make sure that the popup is not causing the error. But FWIW, from the code path, I would be very surprised that the popup can cause any serious issue, as I merely wired an action to trigger it where it was just logged in the console, and fixed the error message that was not properly displayed, so it's fairly decoupled from any other code path. 

<img width=""1130"" alt=""screen shot 2018-06-08 at 8 24 35 am"" src=""https://user-images.githubusercontent.com/824534/41158181-fed551f8-6af5-11e8-91f3-b1890fa5f95a.png"">
,biovisualize
@biovisualize In that case I say we merge, so we can diagnose and file what the real issue is. 
I checked for the error popups with other datasets and and that portion is behaving as intended. 
I'll make sure everything is ok after merge. 
Meanwhile I'll check the issues for joining 2 tables with 'mapd_geo' columns, and the hang after a bad join in general and file an issue accordingly. 

Keep in mind I get the errors in console and the infinite spinner very consistently, I just can't tell if it's related to choropleth or the error piping. ,AlexHarutyunyan
@alexbaden Hey Alex, what do you think about this one? (a hang after a bad join)

https://github.com/mapd/mapd-immerse/pull/4607
https://github.com/mapd/mapd-immerse/issues/4565,AlexHarutyunyan"
remove select join data source machinery ,4664,,2018-06-08T04:05:17Z,2018-06-08T04:05:17Z,"### :speech_balloon: Description

Was originally added to autopopulate the geojoin with a ""self join"" for backend choropleth. Now that self joins are no longer necessary to just render the geo data, the actions and reducers are not being used. Leaving the code in place for now since we might want to use it later if we add joins across the product. Worth discussing after 4.0. 

Relevant action is `SELECT_GEO_JOIN_DATA_SOURCE_REQUEST`

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
-
- **Actual result:**
- **Expected result:**

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

### :memo: Other Info",alexbaden,enhancement,alexbaden,
Binned/Extracted Timestamp formatting and selected formatting display different values for timestamps ending in 00:00:00,4663,,2018-06-08T01:46:10Z,2018-06-08T01:58:36Z,"### :speech_balloon: Description
There is a difference in how certain Timestamps are displayed Binned, Extracted vs. with Formatting applied (and also in the SQL Editor)
A timestamp like: `2011-01-01 00:00:00`
will appear as Dec 31, 2010 with formatting applied and in the SQL Editor, but will display Jan 1, 2011 while binned or extracted.
Extracted/Binned with no formatting tends to 'round up' while the SQL Editor and The formatting dropdown menu tend to 'round down'. 


### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
- Create a Table chart (Source: 'family_3' on mahakali | Dimension: BIN 'birth_timestamp' | Dimension EXT birth_timestamp)
- Change the Date Formatting of the Auto Bin column to year only (%y)
- **Actual result:**
The same data may appear differently depending on the selection. 
- **Expected result:**  

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots
<img width=""650"" alt=""screen shot 2018-06-07 at 6 43 56 pm"" src=""https://user-images.githubusercontent.com/39566471/41134726-c58e16c8-6a82-11e8-863d-af1d94510c68.png"">

![screen shot 2018-06-07 at 6 24 31 pm](https://user-images.githubusercontent.com/39566471/41134707-ae0fa804-6a82-11e8-9d0e-cf7d43ea4a20.png)

![screen shot 2018-06-07 at 6 21 26 pm](https://user-images.githubusercontent.com/39566471/41134717-b67e23d0-6a82-11e8-90e5-8ca66e3cee5d.png)




### :memo: Other Info
Not quite sure what the expected result should be, since this seems like a timezone issue. Since the original data is listed as Jan 1, I think it should 'round up' regardless of the timezone.",AlexHarutyunyan,"P4,bug,found during 4.0",,
mapd_geo POINT column appears in charts that cannot utilize it and populates the field despite unsupported error message,4661,,2018-06-08T00:39:13Z,2018-06-08T21:32:56Z,"### :speech_balloon: Description
Able to add mapd_geo POINT column as a dimension and measurement is all charts. The field is populated despite an unsupported type error message and remains there when jumping around different charts, eventually triggering an error loop. 

### :computer: Environment
- **Browser Chrome, 67.0.3396.62**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
- Create Bar Chart (Source: 'Metro_Stations_in_DC' | Dimension: 'mapd_geo' | Measure: 'mapd_geo')
- Jump to Pie Chart
- **Actual result:**
The table containing mapd_geo POINT column is not handled properly by charts that cannot use it. 
- **Expected result:**
The geo column should only be available to charts that can utilize it (no crash)


### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots
![mapd_geo point](https://user-images.githubusercontent.com/39566471/41133032-746cc5ae-6a79-11e8-91ea-9b93fdaa0b1e.gif)

![screen shot 2018-06-07 at 5 24 34 pm](https://user-images.githubusercontent.com/39566471/41133041-873b7c7a-6a79-11e8-962f-e0a27ca12f0f.png)

### :memo: Other Info",AlexHarutyunyan,"P2,bug,found during 4.0",jrajav,"Added to the 4.0 release, from a decision from @niviksha to get it in if the fix is ready https://mapd.slack.com/archives/C165ZDWHJ/p1528431705000112,biovisualize"
[GeoHeat] Legend min/max revert to default after locking legend,4658,,2018-06-07T23:54:05Z,2018-06-08T06:13:21Z,"### :speech_balloon: Description
The geo heat  max/min would revert back to its default values after user has changed the map theme or any visual attribute settings

### :computer: Environment
- **Browser Name, Version**:  Chrome
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
1. Create a Geo heat map with the following:
Data Source: flights
Dimension Lon: dest_lon
Dimension Lat: dest_lat
Measure Color: airtime(avg)
2. Change min/max values in color legend
3. Lock legend

- **Actual result:**
min/max values revert to default

- **Expected result:**
should not revert to default

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots
![min_max_geoheat](https://user-images.githubusercontent.com/35040876/41132014-596986c6-6a73-11e8-8321-f9df07e2f977.gif)


### :memo: Other Info",ericli5454,"P3,bug,found during 4.0",,"@ericli5454 duplicate of https://github.com/mapd/mapd-immerse/issues/3992 ? May also relate to https://github.com/mapd/mapd-immerse/issues/4564,biovisualize
@biovisualize 
not a duplicate of #3992, but def related to #4564 (possible duplicate),ericli5454"
[Choropleth] Switching between layers of multi-layer choropleth chart creates duplicate color legend,4657,,2018-06-07T23:14:47Z,2018-06-11T20:54:53Z,"### :speech_balloon: Description
Currently, if user switches between layers of multi-layer choropleth chart, it would generate a duplicate color legend in chart editor

### :computer: Environment
- **Browser Name, Version**: Chrome
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
1. Create multi-layer choropleth chart such that each layer has different data table
2. Go to the chart editor and switch between laters
3.  Then click apply 

- **Actual result:**
Generates duplicate color legend in editor
Generates duplicate color legend in chart after clicking apply

- **Expected result:**
Does not generate duplicate color legend in  editor
Should not generate duplicate color legend in chart after clicking apply

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots
![choropleth after apply](https://user-images.githubusercontent.com/35040876/41132321-4a6fd7ae-6a75-11e8-8f00-034d4eb4404d.gif)




### :memo: Other Info",ericli5454,"P1,bug,found during 4.0",alexbaden,"Saving such a chart also is messed up. ,menaczar
@ericli5454 does this occur in a multi-layer chart with choropleth + pointmap or is this specific to 2 choropleth layers?,niviksha
Problem is here:
```
      color:
        chart.savedColors[nextColorType] ||
        getColors(CHARTS_DEFAULT_COLORS).defaultQuantitative,
```

Not sure what `savedColors` is for, but it's empty, and addRasterLayer defaults to the wrong color type for backend choropleth. Quantitative color scales don't make sense without a color measure, which you won't have by default. ,alexbaden"
Inconsistent color palette in Choropleth ,4655,,2018-06-07T20:55:42Z,2018-06-11T18:26:52Z,"### :speech_balloon: Description
Inconsistent color palet in Choropleth 

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
- Create a choropleth 
- Paris_Mena as source
- Geo as mapd_geo
- Inspect the color palette 

- **Actual result:**
You'll find color gradient although the map shows only one color
Click the palette and you'll see the single color options

- **Expected result:**
Should show the single color options not the color gradient

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots
![jun-07-2018 13-48-21](https://user-images.githubusercontent.com/16374964/41125838-809eb13a-6a5a-11e8-9246-541b57ec4b87.gif)

### :memo: Other Info",menaczar,"BE-Choropleth,P3,bug,found during 4.0,geospatial",menaczar,"Interesting. If you create a new chart, select pointmap, then select choropleth the color palette will be gradient. Same thing works in reverse. Add a chart, then go to choropleth, then pointmap. You will see single color palette instead of the gradient (since density accumulation is on by default). Looks like an issue setting those initial states.,alexbaden
I believe the issue is here: https://github.com/mapd/mapd-immerse/blob/master/src/reducers/charts/update-chart-type-reducer.js#L259

We end up falling through the `allowedColorTypes[currentColor.type]` case even though the chart has no saved colors. I think maybe just putting a check for `Object.keys(chart.savedColors) > 0` would be ok for now, but without being able to test custom colors or having much insight into what is going on in that function I'm going to let this sit overnight.,alexbaden
Cant repro this somehow now. closing for now. ,menaczar
I was just able to repro on immerse master on kali. 

1. Create dashboard
2. Add chart
3. Select choropleth
4. Select pointmap

You will notice that even though density accumulation is on, the color palette is a solid color not a gradient. Clicking on it shows ""quantitative scale"".

Fairly sure I know where the issue is, but fixing it and preserving custom colors might be tricky. ,alexbaden
@alexbaden is this the correct place for this? in QA pipeline?
,menaczar
@alexbaden I couldn't repro using the original steps on the issue. Maybe you're talking about a different issue?,menaczar
Cant repro with original issue steps. will open new issue for other bugs.,menaczar"
Add link in Immerse charts to show underlying SQL queries,4654,,2018-06-07T20:14:30Z,2018-06-07T20:19:08Z,"### :speech_balloon: Description
Currently if you want to view the underlying SQL query of a charts in Immerse, it is necessary to inspect the underlying Thrift calls. This is problematic if the average user wishes to export the data they see in the current (filtered or unfiltered) chart through the COPY command. A ""Show SQL"" link or similar on each chart would provide a way for the user to easily take that command and put it in the COPY command to export the data.

### :computer: Environment
- **Browser Name, Version**:  All
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
- **Actual result:**
N/A
- **Expected result:**
N/A

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

### :memo: Other Info",jp-harvey,,,
Https button reverts to http when clicking connect.,4652,,2018-06-07T17:14:26Z,2018-06-07T17:14:38Z,"### :speech_balloon: Description

Https button reverts to http when clicking connect.
Although functionality is fine, it visually confusing.

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
- Go to master
- logout
- change to Kali
- Change port # to 10043
- Click https
- Click connect

- **Actual result:** 
Although it connects fine, you'll find that the http button is highlighted instead of the https

- **Expected result:**
Https button should always be highlighted during connecting and even after logging out.

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots
![jun-07-2018 10-05-33](https://user-images.githubusercontent.com/16374964/41115171-94040b7c-6a3b-11e8-8bdd-e91838cbc380.gif)


### :memo: Other Info",menaczar,"P3,bug,found during 4.0",,
Prototype async redux flow patterns,4651,[object Object],2018-06-07T17:00:04Z,2018-06-07T17:12:40Z,"Problem / goal:
Redux-saga is causing problems for us because it is difficult to debug, maintain, and reason about async flows built with it. It's likely that we can improve these aspects of async flows in Immerse by starting to move to an improved pattern and/or framework.

Increment (prototype):
Re-implement a relatively digestible, yet complex saga from Immerse in other async Redux flow patterns and frameworks, so that we can see a real-world example of how they look and act:

- redux-observable
- redux-thunk + Promises (async / await, some Promise action translator such as redux-promise-middleware)

Stretch goals:
- redux-loop
- Full type coverage with something like https://github.com/aikoven/typescript-fsa or https://github.com/piotrwitek/typesafe-actions",jrajav,tech,jmenestr,
[Chroropleth] The flow for rendering geo measure option for non-geo tables is not intuitive,4646,,2018-06-07T02:43:51Z,2018-06-07T17:00:57Z,"### :speech_balloon: Description
Currently when a user wants to create choropleth chart with a non-geo table, user would have to select a join table and column thats compatible with selected dimension before Geo measure options is generated. In other words theres known way for user to know when option for geo measure has been generated


### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

### :memo: Other Info",ericli5454,"charts-ux,design",,"I agree, could certainly use some design there. @Christian-Baptiste 

One thought I had was putting an indicator on each measure for the number of columns available in the dropdown. That would alert the user to any changes in any measure without them having to actually open the dropdown.,alexbaden
A repaste of what I posted on Slack:

technically you could have multiple geo columns in the join table. but if we had only one, i suppose we could autoselect. This UI is actually much more logical (and consistent with the rest of the app) than the old one, but agree its not the easiest to grok at first. @alexb perhaps we should think about autopopulating a column with poly geo type for choropleth whether rendering a table directly or via a join, as long as there is one and only one poly column (which would be the typical case)

Another option would be to always auto-populate a column (across all charts) if there was one and only one valid choice for a measure and a dimension was populated. This might be a bit unexpected for people though.,tmostak"
Unable to importing large kml geoshape file(1gb),4644,,2018-06-07T00:10:54Z,2018-06-07T00:11:09Z,"### :speech_balloon: Description
Currently users are unable to successfully import large .kml geo file(1kb) thru both s3/manual import

File used:
https://s3-us-west-1.amazonaws.com/mapd-parquet-testdata/qa/shape_file/nyc_footprint_kml.kml

### :computer: Environment
- **Browser Name, Version**: Chrome
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
Upload 1g kml file either manually (drag and drop) or thru S3

- **Actual result:**
unable to upload
<img width=""1192"" alt=""screen shot 2018-06-04 at 10 24 11 am"" src=""https://user-images.githubusercontent.com/35040876/40933371-1c4d5c52-67e6-11e8-9250-d2f08230e30d.png"">

- **Expected result:**
upload successfully

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

### :memo: Other Info
Thread from Slack:
- Simon:

> 
> So Eric has pulled the KML & KMZ versions of the NYC building footprints dataset, and neither of them will load. The underlying LibKML parser fails with an out-of-memory error. Not even a GDAL problem. ogrinfo command-line tool reports the same, so it's nothing we are provoking. It's a big KML (1.1GB) but looks fine in a text editor. All the other versions of that data set load fine, as do other smaller KMLs I have. LibKML on my system is an Ubuntu lib, as is GDAL itself (although I have my own build of GDAL 2.3 using the same LibKML). LibKML code is from Google but old (not touched for five years) and the Ubuntu version seems to be up-to-date. Thoughts?
> 
> I have proven that the problem is in LibKML itself, and shows up even with my own build of that and a simple test program to just try and open the file. Turns out there are two KML ""drivers"" in GDAL, and if you configure GDAL to use the other one instead (which you can do even in the MapD context just by setting an env var) then the other one loads it, but drops all the extended fields from the file, so you only get the name and the geo for each feature.
> 
> I think we can justifiably ignore this one as there's a workaround, even if not a very good one, and IMHO, anyone who creates a 1.1GB KML file wants their brain examining along with those who create similarly large GeoJSONs...
> 
> For completeness, the LibKML one is falling over in the basic XML parse (using the Expat lib, presumably from the Ubuntu apt DSO install of such)
> 
> LibKML attempts to read in the entire document and gets Expat to parse the whole thing in one go. This is stupid, as Expat is explicitly written to support streaming and parsing of such files in chunks.
> 
> Shelving this because there's no easy solution
> 

-Andrew:

> Agreed. Just document as a known issue and wait & see if someone cares about massive KMLs?",ericli5454,"P3,enhancement,found during 4.0",,
"Provide reasonable default selectors for all charts (e.g. # records for measure), so when possible they can render immediately with minimal input",4642,,2018-06-06T21:58:29Z,2018-06-06T21:58:53Z,"### :speech_balloon: Description

e.g. provide geo column selection for geo charts when selecting a geo data source, select # records for single-measure charts by default

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
-
- **Actual result:**
- **Expected result:**

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

### :memo: Other Info",jrajav,"charts-ux,enhancement",,
[Choropleth] Setting a shape filter and measure aggregate to stdev causes immerse to hang,4641,,2018-06-06T19:58:03Z,2018-06-11T20:28:36Z,"### :speech_balloon: Description
Currently if user sets the shape filter and changes measure aggregate to stdev of choropleth chart, it causes immerse to hang.

### :computer: Environment
- **Browser Name, Version**:  Chrome
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
1. Create a choropleth chart with the following:
Data Source: nyc_building
Dimensions: mapd_geo
Measures: heightroof (avg)
2. Select a building footprint to create filter
3. Change aggregate of measure to stdev

- **Actual result:**
```
immerse hangs w/ error:
raygun.js:1667 Unhandled promise rejection Error: Exception: Aggregate function STDDEV not supported
    at a (vendor.ebfab6cc7738343a68b6.js:1)
    at vendor.ebfab6cc7738343a68b6.js:1
    at eval (eval at e.exports (vendor.ebfab6cc7738343a68b6.js:1), <anonymous>:12721:7)
    at XMLHttpRequest.eval (eval at e.exports (vendor.ebfab6cc7738343a68b6.js:1), <anonymous>:349:25)

```
- **Expected result:**
immerse should not hang

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots
![std_immerse_hang](https://user-images.githubusercontent.com/35040876/41061978-3074216c-6989-11e8-96e2-cced821f3e4f.gif)




### :memo: Other Info",ericli5454,"BE-Choropleth,P2,bug,found during 4.0",alexbaden,"Notes: 
1. Still occurring for geo choropleth that has a join. (i.e. join flight table with mapd_state via state col.)
2. Geo choropleth using only table with geo col. no longer has aggregate selector
,ericli5454"
Filter is not being applied properly to charts containing NULL / Binning Off columns,4639,,2018-06-06T17:59:20Z,2018-06-11T17:01:57Z,"### :speech_balloon: Description
When filtering TaColumns containing fields with NULL are generating an error 

### :computer: Environment
- **Chrome, 67.0.3396.62**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
- Create Table Chart (Source: 'flights' | Dimension: plane_type | Measure: '# Records')
- Apply filter to the unspecified plane type (NULL) and observe console

- Create Table Chart (Source: 'flights' | Dimension: plane_year(**Binning Off**) | Measure: '# Recrods')
- Apply filter by selecting any rows and observe console

- **Actual result:**
Cannot filter NULL. UI doesn't respond to Binning Off filters. 
- **Expected result:**
Filter is applied properly to all reasonable filtering selections. 



### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots
![filter](https://user-images.githubusercontent.com/39566471/41056184-2c7eed64-6978-11e8-8455-24536edd007e.gif)


![screen shot 2018-05-31 at 3 54 37 pm](https://user-images.githubusercontent.com/39566471/41056221-4d476dd2-6978-11e8-913b-acc6ff634e7a.png)


### :memo: Other Info",AlexHarutyunyan,"P1,bug,found during 4.0,regression",,"Added to the 4.0 release following answer by @niviksha https://mapd.slack.com/archives/C165ZDWHJ/p1528423964000263
Waiting for a confirmation of the release-blocker status, since a duplicate of this issue got it removed.,biovisualize
@AlexHarutyunyan isnt this why we have the NULL dimension filter on the right? what's the generated query in the console for trying to filter by NULL? also what's the cross filter here, since it's one chart?,niviksha
I removed the release-blocker tag from a decision by @niviksha https://mapd.slack.com/archives/C165ZDWHJ/p1528432855000160?thread_ts=1528431382.000224&cid=C165ZDWHJ,biovisualize
@niviksha Originally this ticket was about issues filtering with null values and also filtering with binning off values, but I think it was segmented because the binning off issue had been filed in #4557 (it was redundant, essentially a duplicate). I filed it as a general filtering ticket. 

I think not being able to filter by NULL might be a bug however. Disabling the NULL values removes them from list entirely, so it's not quite the same as using them as a filter. Say you select two dimensions you are able to filter by NULL. See Image here:

<img width=""1179"" alt=""screen shot 2018-06-08 at 12 53 51 am"" src=""https://user-images.githubusercontent.com/39566471/41146188-6977d1b4-6ab7-11e8-9ba7-723b541c15bf.png"">

But then the same is not true if you only select one dimension(it generates an error and you can't filter):

<img width=""1193"" alt=""screen shot 2018-06-08 at 1 02 02 am"" src=""https://user-images.githubusercontent.com/39566471/41146255-a15d8894-6ab7-11e8-8a43-b02cbbc43b96.png"">

Maybe this is expected behaviour, I'm just having a difficult time understanding why it makes sense for 2 dimension but not 1. I was just thinking maybe there is a scenario where someone would want to filter by NULL to see how many fields are not populated. I'm not actually seeing any Query being sent for the 1 dimension. 


,AlexHarutyunyan
@AlexHarutyunyan it's a bug, but I'm not convinced it's a release blocker for 4.0,niviksha"
Ordinal scale for choropleth (WIP),4638,,2018-06-06T17:41:22Z,2018-06-06T17:46:16Z,"### 💬  Description
 
Support ordinal scales for color measures using text / non-integer cols.

### 📄 Github Issue
Closes #0

### :camera_flash: Screenshot",alexbaden,,,"**Immerse**: http://immerse-4638.dev.frontend.builds.mapd.com

,mapd-bot"
[Geo Choropleth] Unable to create a multi-layer multi-source Choropleth,4632,,2018-06-05T22:23:51Z,2018-06-11T16:57:02Z,"### :speech_balloon: Description
User is unable to successfully a create multi-layer, multi-source geo choropleth chart.
Would encounter the following error:

```
2 "": error""
raygun.js:1667 Error: Exception: Failed to find physical column 'mapd_geo_bounds'
    at a (vendor.ebfab6cc7738343a68b6.js:1)
    at vendor.ebfab6cc7738343a68b6.js:1
    at eval (eval at e.exports (vendor.ebfab6cc7738343a68b6.js:1), <anonymous>:12721:7)
    at XMLHttpRequest.eval (eval at e.exports (vendor.ebfab6cc7738343a68b6.js:1), <anonymous>:349:25)
```
Dashboard Links:
http://immerse-master.prod.frontend.builds.mapd.com/#/dashboard/641?_k=k6h4aj
http://immerse-master.prod.frontend.builds.mapd.com/#/dashboard/625?_k=sx4fjr


### :computer: Environment
- **Browser Name, Version**: Chrome
- **mapd-immerse Version or Branch**: master, Kali

### :page_with_curl: Steps To Reproduce
- Create a multi-layer geo Choropleth chart with different data sources

- **Actual result:**
Generate Failed to Render Dashboard error pop, accepting would direct back to dashboard page

<img width=""1290"" alt=""screen shot 2018-06-05 at 3 20 27 pm"" src=""https://user-images.githubusercontent.com/35040876/41005942-51c90108-68d4-11e8-9d06-2bc7f24cfabc.png"">

- **Expected result:**
User able to successfully create multi-layer multi-source geo choropleth chart

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots
<img width=""1290"" alt=""screen shot 2018-06-05 at 3 20 27 pm"" src=""https://user-images.githubusercontent.com/35040876/41006031-b33d56f0-68d4-11e8-94cf-f7f367129ffe.png"">


### :memo: Other Info",ericli5454,"BE-Choropleth,P1,bug,found during 4.0,geospatial",,"This table likely needs to be reimported. ,alexbaden
@alexbaden still not working with freshly imported geo tables. Try: Paris_Mena,menaczar
That looks like a geo import problem. We need to double check the contents
of Paris_Mena. What server?

On Fri, Jun 8, 2018 at 10:54 menaczar <notifications@github.com> wrote:

> @alexbaden <https://github.com/alexbaden> still not working with freshly
> imported geo tables. Try: Paris_Mena
>
> —
> You are receiving this because you were mentioned.
>
>
> Reply to this email directly, view it on GitHub
> <https://github.com/mapd/mapd-immerse/issues/4632#issuecomment-395821590>,
> or mute the thread
> <https://github.com/notifications/unsubscribe-auth/AFkzUhW27iUDx1O86LgnmDmQYqiRH7JJks5t6qw0gaJpZM4UbqXP>
> .
>
,alexbaden
@alexbaden kali
,menaczar
@alexbaden no sure if this is related or more of a new rendering issue. Currently, when I try to create multi layer multi source dashboard it seems to have rendering/scaling issue after clicking apply


![multi_layer_msd_choropleth_2](https://user-images.githubusercontent.com/35040876/41175490-1cb2923c-6b12-11e8-9e59-64f087155a8f.gif)

<img width=""802"" alt=""screen shot 2018-06-08 at 11 53 28 am"" src=""https://user-images.githubusercontent.com/35040876/41175647-9e222044-6b12-11e8-8b02-bba2593af6bf.png"">

vendor.c61d4d71b89a4750eee8.js:1 Uncaught TypeError: Cannot read property '0' of null
    at vendor.c61d4d71b89a4750eee8.js:1
    at vendor.c61d4d71b89a4750eee8.js:1
    at Array.map (<anonymous>)
    at p (vendor.c61d4d71b89a4750eee8.js:1)
    at e.setState (vendor.c61d4d71b89a4750eee8.js:1)
    at Object.d._doRender (vendor.c61d4d71b89a4750eee8.js:1)
    at Object.d._doRedraw (vendor.c61d4d71b89a4750eee8.js:1)
    at Object.e.redraw (vendor.c61d4d71b89a4750eee8.js:1)
    at vendor.c61d4d71b89a4750eee8.js:1
    at vendor.c61d4d71b89a4750eee8.js:1
,ericli5454
assuming this is specifically targeting multi-layer multi-source choropleth (and not multi-layer with choropleth + pointmap), we can wait till post 4.0. Not a release blocker.,niviksha"
Adding custom measure without agg. generates error and kick user out to dashboard page,4629,,2018-06-05T21:44:34Z,2018-06-08T07:42:03Z,"### :speech_balloon: Description
If user creates a new dash and a new chart with custom measure without an aggregate and measure requires an aggregate. The user would encounter an error pop-up, and accepting the pop-up would kick the user back to the dashboard screen (unsaved dashboard data would be lost). This behavior currently affects Bubble, Bar, Choropleth, Pie, Heat Map, and Geo Heat map charts. 

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
1. Create a new dashboard
2. Add a new chart to dashboard (Needs to  be Bubble, Bar, Choropleth, Pie, Heat Map, and Geo Heat map chart)
3. Select Data Source, add a dimension, and then in the measures section add a column without aggregate.

Example for bar chart:
- Data Source: flights
- Dimension: carrier_name
- Measure: -> Custom Measure: depdelay

- **Actual result:**
User encounters an error pop-up, and accepting the pop-up would kick the user back to the dashboard screen 

![kickout_bar](https://user-images.githubusercontent.com/35040876/41004427-ab4051b0-68ce-11e8-9342-371780a95f25.gif)

- **Expected result:**
Should direct to correct chart render error, and accepting popup directs back to chart

![correct_bar](https://user-images.githubusercontent.com/35040876/41004423-a71fc8f4-68ce-11e8-9dfc-90607ddf015d.gif)


### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

### :memo: Other Info",ericli5454,"P2,bug,found during 4.0",ericli5454,"@ericli5454 I believe we fixed this with https://github.com/mapd/mapd-immerse/commit/daba637bba66448b6a962aca40622ade1f6733a2

Can you confirm on the RC? ,alexbaden
@alexbaden 
Its fixed for choropleth:
![rc_kick_out_choropleth](https://user-images.githubusercontent.com/35040876/41145347-abdbd026-6ab4-11e8-9651-bfb2c297b007.gif)

However, its still occurring on Bubble, Bar, Pie, Heat map, and geo heat
![rc_kick_out_bubble](https://user-images.githubusercontent.com/35040876/41145370-bcb407d8-6ab4-11e8-8bad-fe09fdefc467.gif)
![rc_kick_out_bubble_1](https://user-images.githubusercontent.com/35040876/41145376-c0d1a87a-6ab4-11e8-83ad-7e2066c220cb.gif)


,ericli5454"
Choropleth to create filter on zooming  #1,4628,,2018-06-05T21:38:37Z,2018-06-07T18:39:22Z,"### :speech_balloon: Description

Zooming in and out choropleth doesn't affect count widget. 

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
- Create choropleth geo map
- zoom in and out

- **Actual result:**
Count widget doesn't change

- **Expected result:**
Count widget should reflect visible shapes number.

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

### :memo: Other Info",menaczar,"BE-Choropleth,enhancement,geospatial",,"@menaczar I don't think the choropleth is expected to filter on zoom/pan, just on shape click-selection. @alexbaden can you confirm?

There's an issue to redesign the UX around filtering #4613 and one to maybe remove the zoom filter on scatter chart to match the behaviour on the other maps to not set a filter on zoom #4591.,biovisualize
@biovisualize I'll change it to be enhancement. ,menaczar
It doesn't appear that moving the choropleth changes any of the widgets, as I'm seeing this both with a count widget and bar widget.  Shouldn't the bar update here?

![chorpleth_doesnt_change_widget](https://user-images.githubusercontent.com/2762787/41102290-7fdb7c68-6a34-11e8-8cd6-98868e1b1ce8.gif)

The opposite direction does work: selecting a bar will modify a choropleth and the number widget
![widget_changes_choropleth](https://user-images.githubusercontent.com/2762787/41102341-a2a78fe8-6a34-11e8-853d-38bed2088665.gif)

Using master build from commit 1dd23b6 (June 5)
,randyzwitch
Yes, that's expected. This task is an [enhancement] task to decide and/or implement zoom filtering on choropleth, as on pointmap. Related discussions:
https://github.com/mapd/mapd-immerse/issues/4591
https://github.com/mapd/mapd-immerse/issues/4614
https://github.com/mapd/mapd-immerse/issues/4613,biovisualize
It's tricky for choropleth, since we would need some way of building the
list of objects in the current view. For example, if you have zoomed in on
SF and want to filter all the zipcodes in the view, would need to run
something like `ST_Intersects(mapd_geo,
ST_GeomFromText(POLYGON(<<view>>))))` (roughly). Since we store the
bounding box, this calculation could theoretically be done only on bounding
boxes -- though we might have to apply a transform, first. Either way we
will need to add the operator to the backend and figure out how to get the
query that is ""get all polygons in the current view"" to run efficiently
before we can crossfilter other widgets with choropleth.

On Thu, Jun 7, 2018 at 11:10 AM Chris Viau <notifications@github.com> wrote:

> Yes, that's expected. This task is an [enhancement] task to decide and/or
> implement zoom filtering on choropleth, as on pointmap. Related discussions:
> #4591 <https://github.com/mapd/mapd-immerse/issues/4591>
> #4614 <https://github.com/mapd/mapd-immerse/issues/4614>
> #4613 <https://github.com/mapd/mapd-immerse/issues/4613>
>
> —
> You are receiving this because you were mentioned.
> Reply to this email directly, view it on GitHub
> <https://github.com/mapd/mapd-immerse/issues/4628#issuecomment-395496038>,
> or mute the thread
> <https://github.com/notifications/unsubscribe-auth/AFkzUjmEhsC3MZGlguf82ZWdQATKRn2zks5t6V52gaJpZM4UbmWQ>
> .
>
,alexbaden
Would be easier on non-joined choropleth as we wouldn't need to support a subquery.  Doing it for joined tables likely requires some more work on plumbing.  Probably would just want to do with bounding boxes at first, and that's likely good enough for visual work.,tmostak"
Example of a Vega or Vega-lite chart using mapd-connector,4627,,2018-06-05T20:36:01Z,2018-06-05T20:36:01Z,"### :speech_balloon: Description
@dipti-kothari is working on a Bitcoin visualization demo and I suggested that she could use Vega with the data connector. This is a task to make sure we can support her and find other applications for this example.

https://vega.github.io/vega/
https://vega.github.io/vega-lite/
https://mapd.github.io/mapd-connector/
https://github.com/mapd/mapd-connector/blob/master/examples/browser.js

This example could be used as the base for her next project involving a 3D map. One ready-made chart library with 3D charts is https://plot.ly/javascript/#3d-charts",biovisualize,,,
"Do not change table type on detected geo columns in table importer, only show geo options",4623,,2018-06-05T16:43:05Z,2018-06-05T16:43:19Z,"### :speech_balloon: Description

Necessary to properly support csv's with geo columns, which should send back geo copy_params but with a table type of Delimited.

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
-
- **Actual result:**
- **Expected result:**

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

### :memo: Other Info",jrajav,"geospatial,import",,
Raygun report is broken,4621,,2018-06-05T13:52:50Z,2018-06-05T17:01:18Z,"### :speech_balloon: Description
It's been a while that clicking on the ""report"" button of error popup doesn't report to Raygun. We could fix it or we could take the opportunity to pipe all errors to Segment (which can then redispatch to any error reporting framework). Note that even when the Raygun reporting was working, there was no way to relate a report to a specific problem, for example when it was reported on Zendesk.

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
- Find a dashboard that pops up the error with a ""report"" button
- log in Raygun
- **Actual result:** the report doesn't show-up
- **Expected result:**

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

### :memo: Other Info",biovisualize,,,"@biovisualize I know of one instance in particular of it malfunctioning. If you refresh a page that still contains a dashboard that is already deleted neither the 'report' or 'no' button will work. Very quick to reproduce, you just save a dash, duplicated the tab and delete the dash(then refresh on the first tab). 
https://github.com/mapd/mapd-immerse/issues/4536

I will keep an eye on this and try to replicate more instances of 'report' not reporting. ,AlexHarutyunyan"
Point-map with multilayer/MSD has backward compatibility issues,4620,,2018-06-05T01:14:47Z,2018-06-06T22:21:58Z,"### :speech_balloon: Description

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
- Go to any of the dashboards below:
  - http://immerse-master.prod.frontend.builds.mapd.com/#/dashboard/1060?_k=oucyut
  - http://minos.mapd.com:8000/#/dashboard/426?_k=9jbbt4
  - http://kali.mapd.com:9092/#/dashboard/564?_k=yjofff
- launch the point map in the edit mode
- Try to select any other chart type (BUG 1)
- Tap on the button (+ new layer)
- Tap the button (Master) (BUG 2)

**Actual result:**
**BUG 1:** All chart types buttons are disabled
**BUG 2:** MAP will not render on MASTER 

**Expected result:**
**BUG 1:** All chart types buttons are _**enabled**_
**BUG 2:** MAP _**should always**_ render on MASTER 

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots
![pointmap compatability](https://user-images.githubusercontent.com/10747240/40949475-1803c1bc-6823-11e8-876c-2242a48643c9.gif)

### :memo: Other Info",Davidiskander,"P0,bug,found during 4.0,regression",,"I believe the first issue (all chart type buttons disabled on master) is expected behavior. You would need to select an individual layer for the chart buttons to re-enable.

For bug 2, it looks like there is indeed an issue where adding a layer is not properly ""cancelled"" (the base chart does not re-render when you go back to master). However, simply cancelling the edit returns everything to normal. ,alexbaden
thanks @alexbaden, makes sense. canceling the edit is a workaround, so this isnt a release blocker.,niviksha
@niviksha , is it still 4.0 bug? or 4.1?,Davidiskander"
[Geospatial] Choropleth Performance Lag when generating pop-up,4619,,2018-06-05T00:10:31Z,2018-06-05T05:36:15Z,"### :speech_balloon: Description
Currently, there seems to be a lag in generating pop-up after hovering mouse over geo-shape of Choropleth Charts. This behavior seems more apparent with larger polygon shapes

### :computer: Environment
- **Browser Name, Version**: Chrome
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
- Create Choropleth Chart with larger polygon shapes
- Hover over polygon shape to generate pop-up

- **Actual result:**
Seems to be a lag of ~1.5-2 secs before generating pop-up

- **Expected result:**
Should generate pop-up at faster rate

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots
![tool_tip_delay](https://user-images.githubusercontent.com/35040876/40947930-1e02fdb6-681a-11e8-8198-114b39f7a63a.gif)



### :memo: Other Info",ericli5454,"enhancement,found during 4.0,geospatial,performance",,"Currently, hit testing first queries the backend for the polygon and then converts the returned WKT string into geojson.  The geojson is then projected from latlng to mercator and transformed into a svg path. For particularly large polys, this process is likely going to be slow. There are several optimizations we can apply, most with a backend component.

cc https://github.com/mapd/mapd-core-internal/issues/1597
cc https://github.com/mapd/mapd-core-internal/issues/1197
,alexbaden"
Range Chart Y Axis on Histogram/Line chart not aligned with main Y Axis,4617,,2018-06-04T23:22:36Z,2018-06-05T05:03:28Z,"### :speech_balloon: Description
The X Axis with 'Show Range Chart' enabled doesn't seem to account for the label present on the 
Y axis of the main chart causing the Y axes to be misaligned. This may also be causing an issue when the measurement is locked on the X Axis of the Range chart (all elements of the main X axis are sent to the left). 

### :computer: Environment
- **All Browsers**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
- Create Histogram or Line chart (Source: 'flights' | Dimension X Axis: BIN 'actualelapsedtime' | Measure Height : '# Records')
- Enable 'Show Range Chart' on the right-side menu
- Observe alignment of Y Axes


- **Actual result:**
The Y axes are not aligned. The lock icon on the Range chart causes the main X Axis to be pushed to the left side. 
- **Expected result:**
The Y Axes on the charts are aligned. The lock icon on the Range chart has no impact on the GUI of the main X Axis.



### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots
![screen shot 2018-06-04 at 3 39 32 pm](https://user-images.githubusercontent.com/39566471/40946618-5104129c-6813-11e8-89fe-eeb7131e08b2.png)

![screen shot 2018-06-04 at 4 03 17 pm](https://user-images.githubusercontent.com/39566471/40946628-5da80aa8-6813-11e8-9851-7f3b55e1a996.png)

### :memo: Other Info",AlexHarutyunyan,"P3,bug,regression",,"this is annoying but cosmetic, and we can hold till 4.0 is done,niviksha"
Auto Populate Longitude and Latitude on the map charts,4615,,2018-06-04T22:48:06Z,2018-06-04T22:48:06Z,"### :speech_balloon: Description


For the charts that use longitude and latitude, we should see if we could auto-populate these fields for the user.  Example if the data column is title Longitude or Long, we could populate either of these in the longitude and same for latitude. 

In the use cases where the data has multiple longitudes and latitudes columns, we could offer a drop menu asking which one they would like to use. An example in the flights_123M data, there are two sets. dest_lat/dest_lon and origin_lat/orgin_log. The drop menu could be as simple as **dest** and **origin**, and based on the user's selection we populate the correct longitude and latitude fields. 


.........
Some difficulties that we will have:
- if the user titles the longitude and latitude something that is unrecognizable.   
- possibly when we are trying to identify if the Geo data has points versus longitude/latitude.

                                                                              


![image](https://user-images.githubusercontent.com/37127288/40945438-ab4bac66-680d-11e8-8dad-a87e6ca5320b.png)





### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
-
- **Actual result:**
- **Expected result:**

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

### :memo: Other Info",Christian-Baptiste,,,
Missing a removable GEO Zoom Filter Indicator,4614,,2018-06-04T22:31:30Z,2018-06-05T05:03:56Z,"### :speech_balloon: Description

When a user has a dashboard open and they zoom to a particular area this is treated as a filter. The problem is we don't show it as a filter in the cross filter section thus the user doesn't have a way to clear such filter. 

To make things worse, if the user had zoomed/or moved to an area that doesn't have data, this zeros out the rest of their charts in that dashboard. This can lead to a lot of confusion when the user doesn't realize what chart has the filter thus we should always place a clearable filter at the top filter area like we do with other filters. 



Desired behavior would be to either return the user their previous zoom state that had data or to a zoom to all data state (meaning the zoomed map would show to the size or where any data points exist).






### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
-
- **Actual result:**
- **Expected result:**

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

### :memo: Other Info",Christian-Baptiste,"P3,enhancement,found during 4.0",Christian-Baptiste,"**Steps:**
- Go to dashboard: http://kali.mapd.com:9092/#/dashboard/627?_k=3h2yrx
- Zoom in on the point map to where there is no data 
- Zoom works as a filter and filters out rows

**Expected:**
Filter Icon should show on the map so it works as an indicator of why I'm not seeing my data

**Actual:**
No filter icon for map zoom away from data, yet it's used for cross filtering

**Image:**
![zooming on a map](https://user-images.githubusercontent.com/10747240/40947950-3ec782f6-681a-11e8-9ca3-bab5704dbb58.gif)
,Davidiskander"
Address confusion around filtering and zooming. ,4613,,2018-06-04T22:12:53Z,2018-06-04T22:40:40Z,"### :speech_balloon: Description

Users have different intentions at different times.  Sometimes the user is intending on cross filtering based on a particular location(s) or based on a particular date/time range. 

Other times their intentions are to change their view to move around or to zoom in particular data in a map or move around to see data over different dates. 

The current behavior is to treat zooming as a filter (kind of).  This causes a lot of confusion and in some cases could render a dashboard useless without giving the user any idea why they are no longer seeing any data. 

One suggestion is to make an implicit request from the user to know their intent. Another is to use a different type of controls.

However, we offer these enhancements we need to give users the ability to both in an intuitive way.



>>>>>
One quick win that we could do is place a clearable filter pill anytime we are treating the zoom as a filter.







### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
-
- **Actual result:**
- **Expected result:**

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

### :memo: Other Info",Christian-Baptiste,design,Christian-Baptiste,"Examples to illustrate what you are saying:
* zooming/panning a map sets a filter, so you can't 2 maps with the view that doesn't intersect (focus+context, 2 different regions)
* the choropleth doesn't filter on pan/zoom
* the range chart sets a brush on the focus chart which sets a filter, but a lot of interaction around clearing filters and setting ranges gives unexpected behaviours
* some bar chart types like histogram are using a brush and others like row or stacked are using click selection. It makes sense when you figure out that charts with continuous main axis gets a brush and categorical gets a click, but it can be confusing when onboarding,biovisualize"
[Geo] mapd_geo point column as measures and dimensions for geo charts,4612,,2018-06-04T21:12:51Z,2018-06-04T21:13:32Z,"### :speech_balloon: Description

Support for (and quicker, more in-process UX for) selecting mapd_geo point column as a measure and/or dimension for the geo chart types.
",jrajav,"Epic,geospatial",,
[Internet Explorer] Eula accept button doesn't appears until resizing window,4611,,2018-06-04T21:10:38Z,2018-06-06T00:42:46Z,"### :speech_balloon: Description
Currently when user attempts to login to kali immerse, the Eula accept button populates would not appear until resizing window. This could cause a major issue with user experience. 

### :computer: Environment
- **Browser Name, Version**: Internet Explorer
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
- Login to Kali immerse with internet explorer

- **Actual result:**
-  Eula accept button populates would not appear until resizing window

- **Expected result:**
- Eula accept button should appear should appear after login to kali immerse with Internet Explorer browser. 

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

### :memo: Other Info",ericli5454,"P1,bug,found during 4.0,regression",,
[Geo - Heatmap] Ability to set mapd_geo point column as a dual dimension,4610,,2018-06-04T21:10:32Z,2018-06-08T21:24:03Z,"### :speech_balloon: Description

*For Heatmap*

mapd_geo appears as an option in the dimension selector for pointmap and, when selected, automatically adds two dimensions: `ST_x(mapd_geo)` and `ST_y(mapd_geo)`.

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
-
- **Actual result:**
- **Expected result:**

### :dash: Smoke Test
- [x] is feature working / bug resolved in chrome
- [x] is feature working / bug resolved in safari
- [x] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

### :memo: Other Info",jrajav,geospatial,ericli5454,"Note that @niviksha would want to get this one in if it's ready https://mapd.slack.com/archives/C165ZDWHJ/p1528418914000216,biovisualize
@jrajav it seems that mapd_geo column have been disabled from rendering in geoheat map selector options. Can you take a look when free

![geoheat](https://user-images.githubusercontent.com/35040876/41170334-a587b7de-6b00-11e8-912f-56b95c980d06.gif)
,ericli5454
I believe only the POINT column type is valid for geoheat and pointmap.
Similarly only the POLYGON or MULTIPOLYGON types are valid for choropleth.

On Fri, Jun 8, 2018 at 10:45 ericli5454 <notifications@github.com> wrote:

> @jrajav <https://github.com/jrajav> it seems that mapd_geo column have
> been disabled from rendering in geoheat map selector options. Can you take
> a look when free
>
> [image: geoheat]
> <https://user-images.githubusercontent.com/35040876/41170334-a587b7de-6b00-11e8-912f-56b95c980d06.gif>
>
> —
> You are receiving this because you are subscribed to this thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/mapd/mapd-immerse/issues/4610#issuecomment-395819323>,
> or mute the thread
> <https://github.com/notifications/unsubscribe-auth/AFkzUjSILnQIc2QzXY9KZQjxXcbcAWVIks5t6qovgaJpZM4UZyhO>
> .
>
,alexbaden
Thanks @alexbaden my bad i forgot ,,ericli5454
Seems I forgot to add the 'automatically adds two dimensions' portion, looking into it,jrajav
![geoheat_redo](https://user-images.githubusercontent.com/35040876/41170926-56143db4-6b03-11e8-82f4-80c72be57e6d.gif)
,ericli5454"
[Geo - Pointmap] Ability to mapd_geo point column as a dual measure,4608,,2018-06-04T21:08:03Z,2018-06-05T12:25:44Z,"### :speech_balloon: Description

*For Pointmap*

mapd_geo point column should be selectable in some form as an alternative to selecting two distinct float-number columns as longitude and latitude.

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
-
- **Actual result:**
- **Expected result:**

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

### :memo: Other Info",jrajav,geospatial,,"Basically completed and merged already in https://github.com/mapd/mapd-immerse/pull/4567 and https://github.com/mapd/mapd-immerse/pull/4603, but could use more refinement.,jrajav"
Accessibility Design Iterations,4606,[object Object],2018-06-04T17:24:05Z,2018-06-05T19:23:37Z,"### :speech_balloon: 

All government accounts require apps to be accessible. With the IQT work starting to take priority I would like to get in front of this issue before we are rushed into it.   Making apps both accessible and visually appealing can be a difficult challenge. If we wait until the last minute we will inevitably be forced to rush design changes that never look good. As a result, I would like to start to do some design cycles on this as soon as possible.




Some obvious changes:
- Change button color. The current light teal button color doesn't offer enough contrast.
- Change the light gray background areas to be dark enough to create passing contrast.
- Place tooltips on all icons
- Possibly offer alternative CSS to allow user control over text size, and additional contrast, etc.
- Test current font size, weight, and shades throughout the app.
- Continued work on default minimum size on charting elements. 
- Add points to things like line charts to make it easier to locate where the hover is.
- Improve zoom controls
- more to come.


### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
-
- **Actual result:**
- **Expected result:**

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

### :memo: Other Info",Christian-Baptiste,,Christian-Baptiste,
Review best practices for colors on demos,4605,,2018-06-04T16:50:09Z,2018-06-04T16:50:32Z,"### :speech_balloon: Description
We should validate if we are using the best practices for our demos, especially around colors. For example, @AnnetteMapD mentioned that using a dark to light palette is not so intuitive for the NY Taxi heatmap. Let's have a round of design to make sure our demos are reflecting the best practices we can provide.

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
-
- **Actual result:**
- **Expected result:**

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots
For example, this heatmap on the NY Taxi demo:

![image 3](https://user-images.githubusercontent.com/824534/40930441-b0c65af0-67f5-11e8-859d-a0a0db895166.png)

Could maybe use a light to dark palette:

<img width=""555"" alt=""screen shot 2018-06-04 at 12 42 00 pm"" src=""https://user-images.githubusercontent.com/824534/40930463-bf519f8a-67f5-11e8-94a3-d5b708ce08c6.png"">


### :memo: Other Info",biovisualize,"design,enhancement",Christian-Baptiste,
[Geo - Pointmap] Ability to set mapd_geo point column as a dual dimension,4604,,2018-06-04T14:19:21Z,2018-06-04T21:10:18Z,"### :speech_balloon: Description

*For Pointmap*

mapd_geo appears as an option in the dimension selector for pointmap and, when selected, automatically adds two dimensions: `ST_x(mapd_geo)` and `ST_y(mapd_geo)`.

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
-
- **Actual result:**
- **Expected result:**

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

<img width=""1623"" alt=""screen shot 2018-06-03 at 12 36 19 pm"" src=""https://user-images.githubusercontent.com/2074135/40922620-4d644a48-67d8-11e8-9796-fc8a33a148bc.png"">


### :memo: Other Info",jrajav,geospatial,,
[Cleanup] Remove dead code in table-picker,4600,,2018-06-03T15:27:02Z,2018-06-07T17:14:54Z,"### :speech_balloon: Description

Evaluate if `selectTable` method in TablePickerParent and all references to it (and `quickSelect`) in TablePicker and TablesList can be removed, no code paths seem to use it or the 'callback' parameter to LOAD_DASH:

```
selectTable(name) {
    dispatch(
      setDataSources({
        currentDataSource: name,
        dataSources: { [name]: { alias: ""A"" } }
      })
    )
    dispatch({
      type: LOAD_DASH,
      callback: () => {
        dispatch(routeToDashboard())
      }
    })
  }
```",jrajav,"good-first-issue,tech",jmenestr,
Combo chart GUI inconsistencies ,4594,,2018-06-02T01:00:23Z,2018-06-02T01:02:43Z,"### :speech_balloon: Description
There are some inconsistencies on the Combo chart that don't appear on other similar charts 
### :computer: Environment
- **Chrome: 66.0.3359.181, Firefox: 60.0.1, Safari: Version 11.1 **: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
- Create a line Combo chart (Source: 'flights' | Dimension: 'airtime' | Measure Y Axis: 'carrier_name')
- **Actual result:**
The label on the Y Axis measure reads top to bottom (also contains '# Unique' unlike Line chart). Combo chart contains what seems like a scroll bar. This bar doesn't seem to appear in any other charts. Please see highlight in attached image.
- **Expected result:**
The label reads bottom to top (does not contain #Unique). The scroll bar is only visible when needed. 

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots
![screen shot 2018-06-01 at 5 33 12 pm](https://user-images.githubusercontent.com/39566471/40868762-18faf69a-65c5-11e8-815e-c9275ea56ef8.png)

### :memo: Other Info",AlexHarutyunyan,"P4,bug,found during 4.0",,
TaxiDemo - Combo chart loosing focus chart data when opening the range slider ,4593,,2018-06-02T00:22:13Z,2018-06-05T15:50:08Z,"### :speech_balloon: Description
Combo chart losing focus chart data when opening the range slider. 
*Note so far the only data source that seems to be affected is TaxiDemo. 




### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
- Chose combo chart
- Chose TaxiDemo as the data source (note we tried this with other data and didn't have the same problem)
- Chose dimension pickup_datetime
- Chose AVG trip_distance as the measure. 
- Line chart for Visual Data Mapping
- Turn range chart on
- Adjust range chart
- Focus chart goes blank
- Moving range does nothing to show the missing data
- Turning range off still shows the focus chart selected and with no data
- *NOTE no filter icon shows up until I click in the chart header
- The only thing that brings the data back is to remove the filter. 

- **Actual result:**
- **Expected result:**
Should be able to zoom in on the selected data, should see the line chart.

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

![image](https://user-images.githubusercontent.com/37127288/40868107-a6461a86-65be-11e8-9486-f601e361e749.png)

### :memo: Other Info


http://immerse-master.prod.frontend.builds.mapd.com/#/dashboard/1482?_k=h5i4tt",Christian-Baptiste,bug,biovisualize,"There's something wrong with this specific dataset. The old line chart is blank, even without touching the range chart.

<img width=""1327"" alt=""screen shot 2018-06-05 at 11 42 48 am"" src=""https://user-images.githubusercontent.com/824534/40987043-a6d31b6c-68b5-11e8-8ef8-ea40d4bd3137.png"">

The combo chart at least works, with or without the range chart, and we could even argue that it properly handles the case with the brush selection, since there's just not data coming back from this query. 
```
SELECT date_trunc(day, pickup_datetime) as key0, avg(trip_distance) as val FROM TaxiDemo WHERE (CAST(pickup_datetime AS TIMESTAMP(0)) BETWEEN TIMESTAMP(0) '2015-01-05 19:19:19' AND TIMESTAMP(0) '2015-01-28 09:33:33') GROUP BY key0 ORDER BY key0
```
<img width=""1016"" alt=""screen shot 2018-06-05 at 11 46 10 am"" src=""https://user-images.githubusercontent.com/824534/40987244-189b7d20-68b6-11e8-85c9-3ac32d5feb54.png"">

We could of course look at what is wrong with this specific dataset or with the query, but the title of the issue could change to something like ""TaxiDemo dataset sometimes gives empty charts"". And it's probably not something to be fixed for 4.0. Although @niviksha has the last word on what goes into a release.,biovisualize"
Zooming in on scatter plot view generates a filter,4591,,2018-06-01T23:21:30Z,2018-06-11T20:03:42Z,"### :speech_balloon: Description
Currently a zoom on scatter plot would generate a filter, this is inconsistent with the zoom behavior in point map and geo_heat which do not create any filters.

### :computer: Environment
- **Browser Name, Version**: All Browsers
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
- Create a scatter plot and save to dashboard
- Zoom in on scatter plot

- **Actual result:**
Scatter plot zoom generates a filter

- **Expected result:**
Scatter plot zoom behavior should be consistent with geo_heat and point map

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots
![scatter_zoom](https://user-images.githubusercontent.com/35040876/40867260-c4975452-65b7-11e8-9836-f2f6b6ff7640.gif)


### :memo: Other Info",ericli5454,enhancement,,"@tmostak and I discussed this awhile ago. This is intended behavior for now per previous PM, but we may want to change it to be more consistent (I believe we want to have a filter button appear on the pointmap so you can reset to initial zoom -- now that we dynamically get the zoom we could run that for any combination of filters, too). Marking this as an enhancement. ,alexbaden"
Geo import table name pre-population inconsistencies,4590,,2018-06-01T22:43:47Z,2018-06-01T23:01:55Z,"If you import a local geo file, it pre-populates the table name with the name of the file.

If you import a local geo archive, it pre-populates the table name with the name of the archive file, rather than the name of the geo file it decides to pull from the archive file (which would match the above).

If you import from an archive on S3, it doesn't pre-populate the table name at all.

Importing from a geo file on S3 is currently broken (see #4589) but that should be consistent too.",simoneves,"P3,bug,s3-import",jrajav,
Mapbox watermark appears on top of popups in Firefox ,4588,,2018-06-01T22:25:45Z,2018-06-01T22:25:45Z,"### :speech_balloon: Description
The 
### :computer: Environment
- **Browser Firefox, 60.0.1 **: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
- On Kali open 'Campaign Performance Dashboard - Clicks' dashboard
- Duplicate Dashboard
- Navigate to back to the original 'Campaign Performance Dashboard - Clicks' dashboard and Duplicate dashboard again to trigger error. 
- **Actual result:**
Mapbox watermark will appear in the error Popup.
Also observed in other Popups like Sharing.
- **Expected result:**
Mapbox watermark should be behind all popups. 


### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

![screen shot 2018-06-01 at 2 58 09 pm](https://user-images.githubusercontent.com/39566471/40865894-b636819c-65af-11e8-9c2d-7d1cb31c55e5.png)
![screen shot 2018-05-23 at 4 04 02 pm](https://user-images.githubusercontent.com/39566471/40865909-c2213664-65af-11e8-8460-fce0d66b7e76.png)

### :memo: Other Info",AlexHarutyunyan,"P3,bug,found during 4.0",,
Deprecate legacy line chart,4587,[object Object],2018-06-01T22:11:44Z,2018-06-05T19:25:13Z,"### :speech_balloon: Description
The line chart was replaced by the combo chart, but both are still available in the UI. This Epic lists the issues that should be fixed before we can retire the legacy line chart.

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
-
- **Actual result:**
- **Expected result:**

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

### :memo: Other Info",biovisualize,Epic,biovisualize,
[Combo] Binning doesn't change for the smaller one when setting a date filter,4586,,2018-06-01T22:09:40Z,2018-06-08T23:32:12Z,"### :speech_balloon: Description
When setting a filter on a single date, the binning doesn't change to the smallest suitable increment.

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
- Set a combo chart and set a filter as in the screenshot or go there http://kali.mapd.com:9092/#/dashboard/565?_k=66j33q
- **Actual result:** binning should be on a smaller increment than month
- **Expected result:** binning is in month

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots
<img width=""899"" alt=""screen shot 2018-05-30 at 1 53 50 pm"" src=""https://user-images.githubusercontent.com/824534/40865566-efcdff2c-65c6-11e8-928c-1598c8bc0d43.png"">


### :memo: Other Info",biovisualize,"P1,bug,combo-chart",,
Dummy test PR for quantile testing - DO NOT MERGE,4583,,2018-06-01T21:46:08Z,2018-06-01T21:50:20Z,"### 💬  Description
 
### 📄 Github Issue
Closes #0

### :camera_flash: Screenshot",vastcharade,,,"**Immerse**: http://immerse-4583.dev.frontend.builds.mapd.com

,mapd-bot"
Should autopopulate mapd_geo column when picking a source for BE choropleth with poly column,4582,,2018-06-01T21:44:56Z,2018-06-08T21:01:51Z,"Currently if a user just wants to render a poly table (i.e. without a join), the user is required to know to group by mapd_geo, which is highly non-obvious. A better UI would be if once we detect that a user has selected a source on BE choropleth that has a geo column (which we already know so that we can display the correct geo join tables), we autopopulate mapd_geo as the dimension, which should trigger the right join expression to populate. 

As gravy we should probably at least slot in # Records as the measure so it renders straight away. A better thing would not to require a measure at all for rendering a poly table, and the user could just pick the static color of each poly (like most GIS systems work).

<img width=""326"" alt=""screen shot 2018-06-01 at 2 44 31 pm"" src=""https://user-images.githubusercontent.com/953210/40864834-589d4890-65aa-11e8-8044-3d823c811eec.png"">

Assigning to @alexbaden since he did most of this code, but this could be changed. Also cc'ing @uyanga-gb and @Christian-Baptiste.",tmostak,"BE-Choropleth,enhancement,geospatial",alexbaden,"@niviksha it's not obvious if this one should make it to 4.0. The PR is WIP and it's tagged as an [enhancement]. I will leave it out for now for you to revisit.,biovisualize
I believe this issue has been made obsolete by some conversations had with @alexbaden. A better approach would be to treat mapd_geo as a measure (it is) and not a dimension. @alexb do you have an issue for this?,tmostak
Actually the spirit of the issue is close enough to the new approach that I’m reopening, perhaps @alexbaden can fill in the details. ,tmostak
I moved the selection of the geo column into a measure and put the
framework in place to allow a “multi source measure” if joining using a
dimension. That’s all working fine, but in the process I uncovered some
issues with the redux flow in backend choropleth that need to be cleaned up
anyway, and may explain some of the other BE choropleth issues we have
seen.

On Mon, Jun 4, 2018 at 08:39 Todd Mostak <notifications@github.com> wrote:

> Actually the spirit of the issue is close enough to the new approach that
> I’m reopening, perhaps @alexbaden <https://github.com/alexbaden> can fill
> in the details.
>
> —
> You are receiving this because you were mentioned.
> Reply to this email directly, view it on GitHub
> <https://github.com/mapd/mapd-immerse/issues/4582#issuecomment-394400589>,
> or mute the thread
> <https://github.com/notifications/unsubscribe-auth/AFkzUvV4crVTGaHcPQLfOg1KZqTHAR4lks5t5VSygaJpZM4UXWwV>
> .
>
,alexbaden"
Zoom limitations for Scatter chart,4576,,2018-06-01T18:19:15Z,2018-06-01T23:11:51Z,"### :speech_balloon: Description
Currently there are no zooming limitations for the Scatter chart, allowing the user to zoom out to measurements where the points are impossible to see or zoom in so far that the user could drag and drop forever and not encounter a single point. The scatter map can be reset by removing the filter, but it would be nice if there was some limitation even if the user decides to use this chart incorrectly. 

The infinite zoom also causes errors in the console and will actually hang immerse with certain datasets and measurements while the zooming in/out past a reasonable measure. 

### :computer: Environment
- **All Browser**: 
- **mapd-immerse Version or Branch**: master


### :camera_flash: Screenshots
![screen shot 2018-06-01 at 11 23 03 am](https://user-images.githubusercontent.com/39566471/40856866-30759960-658e-11e8-8a36-19c0ecdd2cc8.png)

### :memo: Other Info",AlexHarutyunyan,"design,enhancement",Davidiskander,"@Christian-Baptiste the problem here is: as a user if I got lost on the map, there is no way for me to go back. I believe we need to add a button to have the data point fill the screen or zoom to data if that makes any sense. Grab me whenever this is a priority,Davidiskander"
Immerse won't redraw choropleth,4575,,2018-06-01T17:07:40Z,2018-06-08T21:27:21Z,"### :speech_balloon: Description
I found this 4 rows dataset but it has huge polygons for water worldwide. The unexpected behavior I'm seeing is: when I reverse the colors on the *Color Pallet*, BE sends the correct image where I can verify in the console but the chart it self-doesn't update all polygons colors accordingly unless I hover on the polygons.
Find the chart here: http://kali.mapd.com:9092/#/dashboard/576?_k=1kp6yw

### :computer: Environment
- **Browser Name, Version**: Latest Chrome, Mac
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
- Create a new dashboard
- Create a new chart
- Select data source: water_polygons_generalized_3857
- Select choropleth chart type
- Dimension: mapd_geo, Measure: FID
- Geo Join:  water_polygons_generalized_3857, mapd_geo
- Reverse the colors on the color palette 
- Wait and observe the colors changing

**Actual result:**
The BE returns the correct image in the network calls, but immerse won't re-draw unless I hover over the image/choropleth 

**Expected result:**

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots
https://mapd.slack.com/files/U6E0U2F8A/FB03Y7JJX/big_polygons_rendering.gif

### :memo: Other Info
- No console errors
- BE is returning the image in a timely manner",Davidiskander,"BE-Choropleth,Needs PM Review,P1,bug,found during 4.0",,"This dataset needs to be re-uploaded after the purge - can't reproduce any longer,jrajav"
[WIP] label truncation,4570,,2018-06-01T10:39:35Z,2018-06-01T12:11:14Z,"### 💬  Description
Exposes the label truncation option from mapd3. potential solution for #4363

### 📄 Github Issue
Closes #0

### :camera_flash: Screenshot",biovisualize,,,"**Immerse**: http://immerse-4570.dev.frontend.builds.mapd.com

,mapd-bot"
Should handle import GEO Files errors gracefully ,4566,,2018-05-31T21:28:50Z,2018-05-31T21:28:50Z,"### :speech_balloon: Description

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
-Noticed that the backend could through an error but Immerse would just be in what looks like loading
- **Actual result:**
- **Expected result:**

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots
<img width=""1439"" alt=""screen shot 2018-05-31 at 2 21 58 pm"" src=""https://user-images.githubusercontent.com/10747240/40809123-390336ec-64de-11e8-9705-bbaf55056fc9.png"">
<img width=""1440"" alt=""screen shot 2018-05-31 at 2 22 11 pm"" src=""https://user-images.githubusercontent.com/10747240/40809124-391b0b0a-64de-11e8-8467-258027939be1.png"">

### :memo: Other Info",Davidiskander,"P3,bug,found during 4.0,geospatial",,
Raster chart legend lock/unlock state is not saved,4564,,2018-05-31T19:05:39Z,2018-06-07T23:44:06Z,"### :speech_balloon: Description
Legend lock is not keeping its state when dashboard saved and defaults to its min max scale when locking the color legend on a raster charts, Pointmap, Geo Heatmap, and Choropleth.

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
-  Lock the color legend on any of the charts, and Apply then Save the dashboard. Reopen the chart to see the lock is unlocked and min max is default values.
- **Actual result:**
Legend lock state is not saved for raster charts
- **Expected result:**
Legend lock/unlock state should be saved and persistent

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

### :memo: Other Info",uyanga-gb,"P1,bug,found during 4.0",,
Enhance file upload to use chunking instead of multi part POST request ,4563,,2018-05-31T18:48:57Z,2018-05-31T18:48:57Z,"### :speech_balloon: Description
Currently the file uploader has a nice progress bar that gives feedback to the user, however it uses a multipart POST request that holds a single request open waiting for a response. The implications of this are that if there is a connection interruption the file must be uploaded again from the beginning, and large files will hold a single connection open for a long time depending on the size of the file and the bandwidth of the connection. This is problematic in Cloud since connections are not held open indefinitely, and most web servers have an idle timeout on the connections. They will thus be killed if the file takes too long.

Using a library that can chunk the uploads into multiple requests instead of a single POST request will mitigate the issues with connections being killed due to timeouts, and will make the upload more robust in cases of poor connections, allowing the browser to resume an upload instead of having to start from the beginning every time.

### :computer: Environment
- **Browser Name, Version**: All
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
Upload a file to MapD and cause a network event such as turning off wireless / unplugging the network cable. The file upload fails and does not resume.

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

### :memo: Other Info

This requires both server side and client side code to work, and there are several existing libraries that implement this. Since MapD Cloud does not use MapD Webserver we should ensure whichever library is chosen is easily integrated into both, however it may be deemed unnecessary to have this functionality in MapD Webserver at all. Legacy mode should still be supported for older browsers anyway, and a detection could be done on the Immerse side to see if the destination webserver supported the chunked uploads. 

Initial investigation shows these are two that are likely easily integrated into MapD Cloud:

https://github.com/23/resumable.js - likely the most compatible
https://github.com/blueimp/jQuery-File-Upload - requires jquery",jp-harvey,,,
Formatting doesn't roll back to previous when cancelling edit,4560,,2018-05-31T15:43:09Z,2018-05-31T15:43:17Z,"### :speech_balloon: Description

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
- set-up any chart, set a format
- cancel
- **Actual result:** the format is applied
- **Expected result:** it should revert to what it was before

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

### :memo: Other Info",biovisualize,formatting,,
User unable to cross filter by dimension to non-choropleth chart with geospatial data set when binning of dim. is off,4557,[object Object],2018-05-31T00:11:47Z,2018-06-08T00:40:17Z,"### :speech_balloon: Description
Currently, user are unable to  cross filter by dimension (**w/ binning turned off**) non-choropleth chart using table that has geospatial. 

_Note: Cross filtering by measure seems to work_

**Example 1,** if user creates  geo choropleth chart for nyc building foot print and a table with Dimension: `cntrct_yr` (**binning switched off**) and Measure: `height`, and attempts to cross filter choropleth by selecting `cnstrct_yr` from table. It would trigger a `Unhandled promise rejection Error: Exception: Parse failed:` and no filter would be generated.

![chror_cross](https://user-images.githubusercontent.com/35040876/41126776-7f04e58a-6a5d-11e8-9393-dd13c07f218d.gif)

**Dashboard link:** http://immerse-master.prod.frontend.builds.mapd.com/#/dashboard/667?_k=tz2hj6

- **Actual result:**
Although filter icon can be seen on chart, filter is not applied
- **Expected result:**
- Filter can be applied successfully

**Example 2**, Similarly, if user create a pie chart and table (both with the same dimensions) using a data set with geospatial data (i.e.` nyc_buildings`) and filters by dimension (**Dim. Col. needs to be numeric with binning switched off**) , it would also trigger a Error:
`raygun.js:1721 Error: Exception: Parse failed: Encountered ""= ["" at line 1, column 59.` and no filter is generated as well.

![geo_cross](https://user-images.githubusercontent.com/35040876/41127057-759faa4c-6a5e-11e8-99fe-e4273036308f.gif)

**Dashboard link:** http://immerse-master.prod.frontend.builds.mapd.com/#/dashboard/668?_k=uo4sr4

- **Actual result:**
Although filter icon can be seen on chart, filter is not applied
- **Expected result:**
- Filter can be applied successfully


### :computer: Environment
- **Browser Name, Version**: Chrome
- **mapd-immerse Version or Branch**: master kali

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots
![filter_non_geo](https://user-images.githubusercontent.com/35040876/40755587-d4e4e8fe-6433-11e8-96cd-acf8eb11d4cd.gif)


### :memo: Other Info
Note: From the filter icon, filter count seems to be limited to 1. For example, a user could select multiple rows on table,  but from filter icon count would still be 1. 

Also Note: If user attempts to create multiple filters to non-choropleth chart and theres a choropleth chart in dashboard, it would generate `Unhandled promise rejection Error: Exception: Parse failed: Encountered
` error

![filter_non_geo_2](https://user-images.githubusercontent.com/35040876/40755592-d8ca43a6-6433-11e8-8dcd-92918bafcce6.gif)

```
Unhandled promise rejection Error: Exception: Parse failed: Encountered ""= ["" at line 1, column 121.
Was expecting one of:
    "")"" ...
    ""ORDER"" ...
    ""LIMIT"" ...
    ""OFFSET"" ...
    ""FETCH"" ...
    "","" ...
    ""UNION"" ...
    ""INTERSECT"" ...
    ""EXCEPT"" ...
    ""MINUS"" ...
    ""."" ...
    ""NOT"" ...
    ""IN"" ...
    ""<"" ...
    ""<="" ...
    "">"" ...
    "">="" ...
    ""="" ...
    ""="" ""SOME"" ...
    ""="" ""ANY"" ...
    ""="" ""ALL"" ...
    ""BETWEEN"" ...
    ""LIKE"" ...
    ""SIMILAR"" ...
    ""="" ""+"" ...
    ""="" ""-"" ...
    ""="" ""NOT"" ...
    ""="" ""EXISTS"" ...
    ""="" <UNSIGNED_INTEGER_LITERAL> ...
    ""="" <DECIMAL_NUMERIC_LITERAL> ...
    ""="" <APPROX_NUMERIC_LITERAL> ...
    ""="" <BINARY_STRING_LITERAL> ...
    ""="" <PREFIXED_STRING_LITERAL> ...
    ""="" <QUOTED_STRING> ...
    ""="" <UNICODE_STRING_LITERAL> ...
    ""="" ""TRUE"" ...
    ""="" ""FALSE"" ...
    ""="" ""UNKNOWN"" ...
    ""="" ""NULL"" ...
    ""="" <LBRACE_D> ...
    ""="" <LBRACE_T> ...
    ""="" <LBRACE_TS> ...
    ""="" ""DATE"" ...
    ""="" ""TIME"" ...
    ""="" ""TIMESTAMP"" ...
    ""="" ""INTERVAL"" ...
    ""="" ""?"" ...
    ""="" ""CAST"" ...
    ""="" ""EXTRACT"" ...
    ""="" ""POSITION"" ...
    ""="" ""CONVERT"" ...
    ""="" ""TRANSLATE"" ...
    ""="" ""OVERLAY"" ...
    ""="" ""FLOOR"" ...
    ""="" ""CEIL"" ...
    ""="" ""CEILING"" ...
    ""="" ""SUBSTRING"" ...
    ""="" ""TRIM"" ...
    ""="" ""CLASSIFIER"" ...
    ""="" ""MATCH_NUMBER"" ...
    ""="" ""RUNNING"" ...
    ""="" ""PREV"" ...
    ""="" ""NEXT"" ...
    ""="" <LBRACE_FN> ...
    ""="" ""MULTISET"" ...
    ""="" ""ARRAY"" ...
    ""="" ""PERIOD"" ...
    ""="" ""SPECIFIC"" ...
    ""="" <IDENTIFIER> ...
    ""="" <QUOTED_IDENTIFIER> ...
    ""="" <BACK_QUOTED_IDENTIFIER> ...
    ""="" <BRACKET_QUOTED_IDENTIFIER> ...
    ""="" <UNICODE_QUOTED_IDENTIFIER> ...
    ""="" ""ABS"" ...
    ""="" ""AVG"" ...
    ""="" ""CARDINALITY"" ...
    ""="" ""CHAR_LENGTH"" ...
    ""="" ""CHARACTER_LENGTH"" ...
    ""="" ""COALESCE"" ...
    ""="" ""COLLECT"" ...
    ""="" ""COVAR_POP"" ...
    ""="" ""COVAR_SAMP"" ...
    ""="" ""CUME_DIST"" ...
    ""="" ""COUNT"" ...
    ""="" ""CURRENT_DATE"" ...
    ""="" ""CURRENT_TIME"" ...
    ""="" ""CURRENT_TIMESTAMP"" ...
    ""="" ""DENSE_RANK"" ...
    ""="" ""ELEMENT"" ...
    ""="" ""EXP"" ...
    ""="" ""FIRST_VALUE"" ...
    ""="" ""FUSION"" ...
    ""="" ""GROUPING"" ...
    ""="" ""HOUR"" ...
    ""="" ""LAG"" ...
    ""="" ""LEAD"" ...
    ""="" ""LAST_VALUE"" ...
    ""="" ""LN"" ...
    ""="" ""LOCALTIME"" ...
    ""="" ""LOCALTIMESTAMP"" ...
    ""="" ""LOWER"" ...
    ""="" ""MAX"" ...
    ""="" ""MIN"" ...
    ""="" ""MINUTE"" ...
    ""="" ""MOD"" ...
    ""="" ""MONTH"" ...
    ""="" ""NTILE"" ...
    ""="" ""NULLIF"" ...
    ""="" ""OCTET_LENGTH"" ...
    ""="" ""PERCENT_RANK"" ...
    ""="" ""POWER"" ...
    ""="" ""RANK"" ...
    ""="" ""REGR_SXX"" ...
    ""="" ""REGR_SYY"" ...
    ""="" ""ROW_NUMBER"" ...
    ""="" ""SECOND"" ...
    ""="" ""SQRT"" ...
    ""="" ""STDDEV_POP"" ...
    ""="" ""STDDEV_SAMP"" ...
    ""="" ""SUM"" ...
    ""="" ""UPPER"" ...
    ""="" ""TRUNCATE"" ...
    ""="" ""USER"" ...
    ""="" ""VAR_POP"" ...
    ""="" ""VAR_SAMP"" ...
    ""="" ""YEAR"" ...
    ""="" ""CURRENT_CATALOG"" ...
    ""="" ""CURRENT_DEFAULT_TRANSFORM_GROUP"" ...
    ""="" ""CURRENT_PATH"" ...
    ""="" ""CURRENT_ROLE"" ...
    ""="" ""CURRENT_SCHEMA"" ...
    ""="" ""CURRENT_USER"" ...
    ""="" ""SESSION_USER"" ...
    ""="" ""SYSTEM_USER"" ...
    ""="" ""NEW"" ...
    ""="" ""CASE"" ...
    ""="" ""CURRENT"" ...
    ""="" ""CURSOR"" ...
    ""="" ""ROW"" ...
    ""="" ""("" ...
    ""["" ...
    ""IS"" ...
    ""("" ...
    
    
    at a (vendor.fd14b120ba5acdf2c175.js:1)
    at vendor.fd14b120ba5acdf2c175.js:1
    at eval (eval at e.exports (vendor.fd14b120ba5acdf2c175.js:1), <anonymous>:12721:7)
    at XMLHttpRequest.eval (eval at e.exports (vendor.fd14b120ba5acdf2c175.js:1), <anonymous>:349:25)
```",ericli5454,"bug,found during 4.0,geospatial",,"adding @alexbaden ,ericli5454
Can it be related to how when setting a filter on a choropleth, it can't be removed? #4556 
If that's the case, maybe the fix from @alexbaden mentioned here https://github.com/mapd/mapd-immerse/issues/4556#issuecomment-394600597 will be related? ,biovisualize
Clicking on a row in the table returns `{ key0: <<cnstrct_yr>>, col0: <<#records>> }`. It appears that the raster charts are not sure how to handle an object like that. We could add something in https://github.com/mapd/mapd-crossfilter/blob/master/src/mapd-crossfilter.js#L130 to parse the object, pulling out `key0`, but not knowing much about the rest of the immerse codebase I am worried this might break something else. We could also just ignore crossfiltering with the table for now.

I don't see these issues with a bar chart, but maybe that's because my bar chart uses different params than my table. ,alexbaden
@ericli5454 I'm unable to reproduce with row and pie. Can you verify, on master or rc? I will check on table now.

![geo-filter](https://user-images.githubusercontent.com/824534/41125421-6a4dab08-6a72-11e8-8913-25bc51deee2c.gif)
,biovisualize
@ericli5454 I can't repro with choropleth and table neither.

![geo-filter2](https://user-images.githubusercontent.com/824534/41125668-1d8d0e48-6a73-11e8-97f4-213f26598db8.gif)
,biovisualize
@biovisualize  actually it seems to occur when binning of dimension has been removed,ericli5454
Thanks for the insight tho @biovisualize, none-the-less this seems to be more of an edge case now. I'm not sure if it release blocker,ericli5454
@ericli5454 I see it. It only happens when specifically the binning is turned off on the table. Can you change the title and repro steps and make sure @niviksha review the release-blocker label? Thanks!,biovisualize
@niviksha  seems to be more of an edge case where it only occurs when dimension is numeric and binning is switched off,ericli5454
Note: may be duplicate or have the same cause as https://github.com/mapd/mapd-immerse/issues/4639,ericli5454"
Multilayered Pointmap Chart with Decimal Theme generates errors during Drag and Drop/Zoom In and Out,4550,,2018-05-30T01:39:39Z,2018-06-06T00:06:08Z,"### :speech_balloon: Description
Errors spotted in console when dragging and dropping Multilayered Pointmap
### :computer: Environment
- **Chrome, 66.0.3359.181**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
- Open Dashboard and Create New Pointmap Chart (Add Chart)
- Create chart using DataSource: 'tweets_2017_may'(kali) | Dimension: 'followees' | Measure Lon: AVG 'lon' | Measure Lat: AVG 'lat' | Measure Size: 'COUNT # Records'
- Add Layer with Dimension: 'amount' | Measure Lon: AVG 'lon' | Measure Lat: AVG 'lat'
- Open console,  drag the map around, drop it in new position and observe. 
- **Actual result:**
While dragging the map around or zooming in and out of it, uncaught errors are generated in the console
- **Expected result:**
Using the map should not generate any errors

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots
![drag-drop point map.gif](https://images.zenhubusercontent.com/5b05a3aa4b5806bc2bd45a14/cd5f202c-f4ec-40d9-b2fd-3dea53869bbc)

### :memo: Other Info
The map does not generate this error message in previous builds. Checked on Demos.",AlexHarutyunyan,"P3,bug,found during 4.0,regression",,
Add legend to pointmap when density gradient mode is active,4548,,2018-05-30T00:59:16Z,2018-05-30T00:59:16Z,"### :speech_balloon: Description
Add a legend to BE-rendered pointmap for when accumulation rendering/density gradient mode is active. 
Currently there is no legend and it is unclear to the user what value the colors represent. All they get is the intuition by color alone what is more dense. But by how much? Adding a legend could make that clear.

The values to use for the legend are currently returned as meta-data as part of the render_vega() call to the server. These returned values in the meta-data can be used to drive a legend.

The behavior of the legend can than be similar to other quantitative legends - when locking the colors can stay fixed, when unlocked, the colors would be dynamic.

### :computer: Environment
N/A

### :page_with_curl: Steps To Reproduce
N/A

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

### :memo: Other Info",vastcharade,"charts-ux,component-raster,enhancement",,
[Geo import] Make geo type detection and / or disabling of column type selectors more granular in Importer,4539,,2018-05-25T15:41:02Z,2018-05-25T15:41:18Z,"### :speech_balloon: Description

Shapefiles are mostly predictable but geojsons and csv's with lat/lon columns can both have arbitrary column types that should be able to be overridden by the user - and csv's with lat/lon columns should be toggle-able back and forth between geo and non, currently this would be one-way.

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
-
- **Actual result:**
- **Expected result:**

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

### :memo: Other Info",jrajav,"geospatial,import",,
"[Geo import] Indicate geo columns with a map pin icon, wherever they can be selected (chart columns, table importer)",4538,,2018-05-25T15:18:01Z,2018-05-29T16:32:16Z,"### :speech_balloon: Description

Indicate geo columns with a map pin icon for a visual indicator of geo features being active on them.

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
-
- **Actual result:**
- **Expected result:**

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

![image](https://user-images.githubusercontent.com/2074135/40552300-e2559c32-6004-11e8-8c27-aff49f53aee4.png)


### :memo: Other Info",jrajav,"geospatial,import",,"Do we want to do this for geo cols in the measure / dimensions dropdowns as well? ,alexbaden
@alexbaden Ideally, yes.,jrajav
Yeah, I think an icon would be nice in those dropdowns. Looks like I put the geo css here: https://github.com/mapd/mapd-immerse/blob/master/src/components/chart-editor/styles.scss#L803 ,alexbaden"
Unable to reach resolution for 'Failed To Load Dashboard' error popup ,4536,,2018-05-25T01:51:42Z,2018-05-30T17:56:54Z,"### :speech_balloon: Description
'Failed To Load Dashboard' popup displays some errors in the console  
### :computer: Environment
- **Safari, 11.1**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
- Create New Dashboard and Edit Title
- Add Chart to Dashboard ( Type: Bar | Data Source: 'flights' | Dimension: 'airtime' | Measure Width: # Records)
- Save Dashboard
- Copy Dashboard Url, open a new tab in browser and paste the url in the new tab (2 tabs with the same dashboard)
- Navigate back to Dashboards and delete the newly created Dashboard
- Open up the second tab that still contains the Dashboard prior to deletion and refresh the page
- **Actual result:**
'Failed To Load Dashboard' error popup appears, but the 'No' and 'Report' buttons fail to navigate away from page. 
- **Expected result:**
'No' button returns the user back to the list of Dashboards. 
'Report' button navigates to the error report page. 

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

![Deleted Dashboard.gif](https://images.zenhubusercontent.com/5b05a3aa4b5806bc2bd45a14/bcb9bd83-4d8c-4c6f-902b-ba86570ca7ea)

![Screen Shot 2018-05-24 at 12.43.41 PM.png](https://images.zenhubusercontent.com/5b05a3aa4b5806bc2bd45a14/0804709a-d2f8-4d98-9356-198f76834838)
### :memo: Other Info
In this scenario an error report may not be appropriate since the Dashboard no longer exists.",AlexHarutyunyan,"P4,bug,found during 4.0",,
Stacked Bar: auto rotate x axis labels,4533,,2018-05-24T23:58:50Z,2018-05-31T19:24:48Z,"### 💬  Description
New `mapd3` feature to allow `config.labelsAreRotated` to have an ""auto"" option.
 
### 📄 Github Issue
Closes #4416 

### :camera_flash: Screenshot",clhenrick,,AlexHarutyunyan,"**Immerse**: http://immerse-4533.dev.frontend.builds.mapd.com

,mapd-bot
**Immerse**: http://immerse-4533.dev.frontend.builds.mapd.com

,mapd-bot
@clhenrick the labels are rotating, but there are some instances of overlapping if the values are not clearly long or short enough to fit ('origin' in 'flights' has 3 characters).
![screen shot 2018-05-30 at 9 41 33 am](https://user-images.githubusercontent.com/39566471/40734630-d7f14e48-63ed-11e8-96bd-73dce556654d.png)
,AlexHarutyunyan
thanks @AlexHarutyunyan I'll take a look,clhenrick
**Immerse**: http://immerse-4533.dev.frontend.builds.mapd.com

,mapd-bot
@AlexHarutyunyan let me know if this latest change fixes the issue for you.,clhenrick
@clhenrick Heya Chris, I spotted an issue with the city names that have spaces in them. 
![screen shot 2018-05-30 at 1 43 29 pm](https://user-images.githubusercontent.com/39566471/40748053-14dd5eac-6414-11e8-9df9-a6902d5ec522.png)
,AlexHarutyunyan
@AlexHarutyunyan that's actually a feature right now in mapd3, when labels are a certain width every other one will be skipped.,clhenrick
@clhenrick Aa ok gotcha, thanks! It's looking ok right now, just have to check on all the browsers in that case. ,AlexHarutyunyan
**Immerse**: http://immerse-4533.dev.frontend.builds.mapd.com

,mapd-bot
**Immerse**: http://immerse-4533.dev.frontend.builds.mapd.com

,mapd-bot
**Immerse**: http://immerse-4533.dev.frontend.builds.mapd.com

,mapd-bot"
Turning off binning on geo table hangs immerse.,4524,,2018-05-23T22:19:58Z,2018-05-30T17:57:19Z,"### :speech_balloon: Description
Turning off binning on geo table hangs immerse.

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
- Go to Kali
- Create histogram (nyc_buildings) has to be geo table
- heightroof vs #Records
- Turn off binning on heightroof.

- **Actual result:**
Immerse hangs
- **Expected result:**
Should render correctly.

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

### :memo: Other Info",menaczar,"P2,bug,found during 4.0",alexbaden,
Stacked Bar: Fix Aggregate Measures,4523,,2018-05-23T22:05:19Z,2018-05-30T17:54:40Z,"### 💬  Description
Only construct the SQL subquery for topN when a 2nd dimension is enabled by the user, handle a custom measure.

### 📄 Github Issue
Closes #4518 
Closes #4520 

### :camera_flash: Screenshot",clhenrick,,AlexHarutyunyan,"**Immerse**: http://immerse-4523.dev.frontend.builds.mapd.com

,mapd-bot
**Immerse**: http://immerse-4523.dev.frontend.builds.mapd.com

,mapd-bot
It works well. The only one that is broken is stddev: `Exception: Aggregate function STDDEV not supported`. It's weird because if I run the query in the sql editor, it returns some values
```
SELECT payment_type AS key0, stddev(fare_amount) AS val FROM nyc_taxis_1M_enriched  GROUP BY key0 ORDER BY val asc LIMIT 5
```
<img width=""743"" alt=""screen shot 2018-05-24 at 1 21 06 pm"" src=""https://user-images.githubusercontent.com/824534/40501265-5bbc83c0-5f55-11e8-8be1-1b7cce3fd185.png"">
,biovisualize
**Immerse**: http://immerse-4523.dev.frontend.builds.mapd.com

,mapd-bot
@biovisualize it seems to be an issue with the backend when using `stddev` in a subquery. Guess it will remain a known bug for now as I didn't get a straight answer from PM on what to do about it. ([link to Slack discussion](https://mapd.slack.com/archives/C02QMNKU8/p1527116004000224))

@jrajav made some updates as per your review.,clhenrick
But why does the same query works in the sql editor?,biovisualize
@biovisualize that's not the same query. The query that fails is the one with the subquery:

```sql
    SELECT
        dest_city AS key0,
        CASE 
            WHEN carrier_name IN  ('Delta Air Lines',
            'United Air Lines',
            'American Airlines',
            'US Airways',
            'Southwest Airlines')  THEN carrier_name  
            ELSE 'other'  
        END AS key1,
        stddev(arrdelay) AS val  
    FROM
        flights  
    WHERE
        (
            dest_city IN (
                SELECT
                    dest_city 
                FROM
                    flights 
                GROUP BY
                    dest_city 
                ORDER BY
                    Stddev (arrdelay) DESC LIMIT 98 
            )  
            OR dest_city IS NULL
        )  
    GROUP BY
        key0,
        key1
```,clhenrick
**Immerse**: http://immerse-4523.dev.frontend.builds.mapd.com

,mapd-bot
Cool. Let's move it to QA and @niviksha can decide if `stddev` being broken is a blocker, should be hidden or could be noted in the known issue.,biovisualize
**Immerse**: http://immerse-4523.dev.frontend.builds.mapd.com

,mapd-bot
retest this please @mapd-bot ,clhenrick
**Immerse**: http://immerse-4523.dev.frontend.builds.mapd.com

,mapd-bot
**Immerse**: http://immerse-4523.dev.frontend.builds.mapd.com

,mapd-bot
Hey @AlexHarutyunyan feel free to retest this, thanks!,clhenrick
@clhenrick Hey Chris,
I checked MIN, MAX, SUM, AVG, APPROX_COUNT_DISTINCT, STDDEV in the custom measure field. They all yield results except STDDEV (as expected).
Oddly enough the APPROX_COUNT_DISTINCT custom measure give no errors, but the '# Unique' from the drop down menu does.

I haven't gotten a chance to check the bug Christophe submitted in all the browsers, but when I checked against the Master the bars that were missing appear now. I just need a bit more time to check this. I'll continue checking tomorrow so we can move to merge. @biovisualize 

There are quite a few features that seem to be effected by the STDDEV Issue. The Null Dimension button, 'All Others' in the Color Palette, '# Of Groups', Asc. Dsc. with # of Records in the sorting. 

Here are some common error messages I've been seeing in the console:
![screen shot 2018-05-25 at 6 49 54 pm](https://user-images.githubusercontent.com/39566471/40571785-fbf856a8-6053-11e8-9133-b30cc6842ecd.png)

![screen shot 2018-05-25 at 6 36 47 pm](https://user-images.githubusercontent.com/39566471/40571847-0977f26a-6055-11e8-9e5d-39c18e23eb93.png)

![screen shot 2018-05-25 at 6 39 55 pm](https://user-images.githubusercontent.com/39566471/40571812-5844cedc-6054-11e8-82f4-7e2cd6461b5d.png)

![screen shot 2018-05-25 at 6 40 45 pm](https://user-images.githubusercontent.com/39566471/40571778-e82bfff8-6053-11e8-8edb-57055873c0ec.png)
,AlexHarutyunyan
@AlexHarutyunyan thanks again for testing. I'm not getting any of those errors you're seeing other than the `STDDEV` one when replicating the same chart. Let's sync up IRL on tuesday to see if we can figure out what's going on.,clhenrick
@AlexHarutyunyan I just pushed a fix to the errors you identified above, not including the `stddev` one, let me know if they still persist.,clhenrick
**Immerse**: http://immerse-4523.dev.frontend.builds.mapd.com

,mapd-bot
@clhenrick 
I haven't been able to reproduce most of the error messages I was previously seeing (besides the stddev one).
There is one scenario that I thought was worth pointing out. There are certain instances of custom measurements that shouldn't produce results, but also don't generate the appropriate error message. 

![screen shot 2018-05-29 at 7 25 24 pm](https://user-images.githubusercontent.com/39566471/40695434-14a91d66-6376-11e8-83f2-c4d06f2d560d.png)

'all(airtime)' also generates this sort of error.
,AlexHarutyunyan
thanks @AlexHarutyunyan I'll take another pass looking at the error handling for custom measure.,clhenrick
@AlexHarutyunyan I pushed a fix for the error handling for custom measure, let me know if this is resolved for you.,clhenrick
**Immerse**: http://immerse-4523.dev.frontend.builds.mapd.com

,mapd-bot
**Immerse**: http://immerse-4523.dev.frontend.builds.mapd.com

,mapd-bot"
[stacked bar] doesn't seem to work with custom measures,4520,[object Object],2018-05-23T17:34:01Z,2018-06-05T19:18:07Z,"### :speech_balloon: Description
Maybe I'm doing it wrong, but all the custom measures I try fail. It's normal for categorical measures as there's an issue with it anyway, but numerical should work.

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
- set-up a stacked bar chart as in the screenshot
- **Actual result:** fails with error `Exception: Exception occurred: org.apache.calcite.runtime.CalciteContextException: From line 6, column 10 to line 6, column 34: No match found for function signature Custom(<NUMERIC>)`
- **Expected result:** should work the same as when using the measure directly

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots
<img width=""1674"" alt=""screen shot 2018-05-23 at 1 29 58 pm"" src=""https://user-images.githubusercontent.com/824534/40440968-8f0b2114-5e8d-11e8-9587-ecc281e5a096.png"">

### :memo: Other Info",biovisualize,"P1,bug,found during 4.0,stacked-bar-chart",clhenrick,"#4523 should fix this one as well.,clhenrick
Hi guys,
The custom commands seem to work when a Color Dimension is not added. When I add a Color Dimension the custom command no longer seems to work. The same measure from the dropdown menu gives results. The 'Sort By Asc./Dsc.' area to the right is also impacted. 

My setup was -
Source: flights
Dimension X Axis: origin
Dimension Color: carrier_name
Measure: airtime

![screen shot 2018-05-25 at 9 58 27 am](https://user-images.githubusercontent.com/39566471/40556941-4d4c9f56-6003-11e8-90e3-c12910a8af02.png)
![screen shot 2018-05-25 at 9 59 23 am](https://user-images.githubusercontent.com/39566471/40556942-4d621f48-6003-11e8-89ad-b658f1b7639c.png)
![screen shot 2018-05-25 at 10 01 03 am](https://user-images.githubusercontent.com/39566471/40556943-4d7a14a4-6003-11e8-9b22-bcef27e2c8ba.png)
,AlexHarutyunyan
thanks @AlexHarutyunyan, I'll take a look.,clhenrick
@AlexHarutyunyan I just pushed a fix for the error you found. Please test it again once the CI Build has finished in the PR.,clhenrick"
[stacked bar] Inconsistent measure aggregations,4518,[object Object],2018-05-23T15:06:47Z,2018-05-31T15:05:46Z,"### :speech_balloon: Description
I would expect to see bars or at maybe a value of 0 when using min, avg and other aggregations that currently just doesn't show any bars. Maybe we are filtering out zeroes as if they were nulls. There are some values on `max`, so the values are definitely not just nulls.

A separate issue in the same area is `stddev` aggregation gives an error: `Exception: Aggregate function STDDEV not supported`

`# unique` also gives an error: `Exception: Parse failed: Lexical error at line 1, column 292.  Encountered: ""#"" (35), after : """"`

These 2 errors could be extracted into separate tasks.

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: 
https://github.com/mapd/mapd-immerse/pull/4511
chrish/stacked-bar-4435

### :page_with_curl: Steps To Reproduce
- set-up a stacked bar chart with for example flights, dest_city, carrier_name, arrdelay
- try all aggregation types for arrdelay
- **Actual result:** all aggregation should give a meaningful results
- **Expected result:** some errors-out, some gives empty bars, some seem ok (like max)

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots
<img width=""1191"" alt=""screen shot 2018-05-23 at 10 56 51 am"" src=""https://user-images.githubusercontent.com/824534/40433080-27e47b70-5e79-11e8-9d12-052f9a34be78.png"">
<img width=""1680"" alt=""screen shot 2018-05-23 at 10 56 29 am"" src=""https://user-images.githubusercontent.com/824534/40433081-27fbcafa-5e79-11e8-88b4-4432e585c8c1.png"">
<img width=""1680"" alt=""screen shot 2018-05-23 at 10 56 21 am"" src=""https://user-images.githubusercontent.com/824534/40433082-280dbd46-5e79-11e8-906c-58ec4c689b5a.png"">
<img width=""1672"" alt=""screen shot 2018-05-23 at 10 56 06 am"" src=""https://user-images.githubusercontent.com/824534/40433084-28217c8c-5e79-11e8-8be7-e2a674faeb34.png"">
<img width=""1679"" alt=""screen shot 2018-05-23 at 10 55 58 am"" src=""https://user-images.githubusercontent.com/824534/40433085-2833d4f4-5e79-11e8-953d-ec5fda01a1a4.png"">
<img width=""1678"" alt=""screen shot 2018-05-23 at 10 55 35 am"" src=""https://user-images.githubusercontent.com/824534/40433086-28541890-5e79-11e8-98a2-b89a1db22e00.png"">


### :memo: Other Info",biovisualize,"P1,bug,found during 4.0,stacked-bar-chart",clhenrick,"Part of the problem was that the sub-query was still being used even when the 2nd dimension wasn't enabled.

The issue with `stddev` in the last screenshot seems to be a backend limitation, will require more investigation.,clhenrick
@clhenrick I think you are working on this one, so I'm moving it to In Progress,biovisualize"
Ideas for new chart editor panel,4517,,2018-05-23T01:17:57Z,2018-05-24T17:25:57Z,"### :speech_balloon: 

Conceptual for future discussions.  - The following mockup is only to start discussions of what improvements we might make in the future to the chart editor panels. Please don't take anything in these screens as planned work. 

![2 y axis copy](https://user-images.githubusercontent.com/37127288/40398352-6ba40138-5dec-11e8-930f-8a5fb16ecfb9.png)


Some of the ideas in this design:

1. Combining the most if not all of the right panel content into a more contextual left panel.
2. (not really depicted here), identifying Dashboard versus individual chart data source(s). Basically allowing the user to set a dashboard source file as the default that is used in most of the charts so the user doesn't have to keeps looking for and selecting the same data set.
3. (also not really depicted here very well) show dashboard applied filters.
4. Have chart type selector. An idea here is that we could potentially do progressive disclosure of what objects need or can be included based on the type of chart the user selects. Example if the user select the number chart we could hide the dimension selector. *Note that we currently do a decent job of telling the user the differences with a tool tip. If we turned this information into logic we could guide the user through chart set up and chart changes.
5. Under Dimension use a date range as a default. Basically any chart that is based on trend or time/date comparison.  Also identifying not only the date range but also the date aggregate that we would display by default. (currently presented as Bins). This selector would be mirrored in the chart presentation area as well. 
6. For measures we  would continue to provide calculation type in addition to formatting, chart selection (when it makes sense to do so) chart color selector, and if additional filtering was applied.
7. In use cases like combo charts we could have the additional set for the second Y axis.
8. In the chart the color would be indicated with the Y labels. 
9. The y Labels would also display the calculation type.

Please do poke holes and provide ideas. Treat this issue as an open forum for UX ideas and improvements.",Christian-Baptiste,,Christian-Baptiste,"Posting these links so we don't lose track of previous work that was done on measure formatting. 
https://sketch.cloud/s/pYgyZ
https://sketch.cloud/s/zy0JM,Christian-Baptiste
Lots of interesting ideas. 

### Information architecture
One thing we could work on is the **information architecture**. For example, I like the current separation between data and visual options. But various attributes around color can be set from both the data and visual options panel. And some data attributes like number of groups are in the visual options panel.

It would be fun to try a typical information architecture card sorting using the current set of options we have, like:

DATA SELECTION
**Schema**
* Source
* Dimensions
* Measures
* Custom SQL

**Data Types**
* Categorical
* Time
* Numerical

**Data Transform**
* Top n
* ""All Others""
* Nulls
* Cap, number of groups/points
* Binning (time, numerical)
* Aggregation (sum, avg, max, min)

VISUAL CONFIGURATION
**Chart types**
* Cartesian (line, bar, combo, histo, row, scatterplot, heatmap)
* Maps (choropleth, geo heatmap, pointmap)
* Pie
* Table
* Text
* Number
* Preset/auto (comparison, trend, distribution, ratio)

**Data mapping**
* Color assignment (1 to 1, palette)
* Color by dimension
* Line style
* Axis orientation
* Sort
* Tooltip

**Map specific visual attributes**
* Point size
* Basemap, map theme
* Mark/bin shape
* Density gradient
* Bin pixel size
* Geo JSON selection

### UI component library
Another discussion to have is the pros and cons of using a UI framework vs very specific custom widgets.

### Flattening nested widgets
One related exercise would be to try flattening the UX flow. We have a lot of nested widgets, like opening a selector that opens a series of contextual selectors. We also have this pattern in the global filters. I can see how it makes things more compact, but it also means that we have a lots of modes and contexts, which translates to some cognitive load on the user and to complex state management on the implementation side.

Nested widgets in filter
![filter_context](https://user-images.githubusercontent.com/824534/40492143-da5adbc2-5f3d-11e8-9f53-7227ccc86f73.gif)

Nested widgets in one of the various mode of the color palette
![color_context](https://user-images.githubusercontent.com/824534/40492150-ddbd9a02-5f3d-11e8-9491-dd0bf901f899.gif),biovisualize
Just for the sake of brainstorming, maybe some ideas could be taken from a quick geekout a made a few months ago: [mapd-b.pdf](https://github.com/mapd/mapd-immerse/files/2035953/mapd-b.pdf)
,biovisualize"
[Geo import] Add support for dual lon / lat column type to table importer,4515,,2018-05-22T22:00:10Z,2018-05-22T23:52:41Z,"### :speech_balloon: Description

Allow choosing a lon / lat or a lat / lon column type in the preview of the table importer, which will consume the following column as well creating a dual longitude / latitude or latitude / longitude Point-type geo column.

The header for the columns should somehow indicate they are paired together (one way might be to indicate Latitude and Longitude as lighter, grey sub headers and have the main header only on the left column).

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
-
- **Actual result:**
- **Expected result:**

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

### :memo: Other Info",jrajav,"geospatial,import",clhenrick,"Clarifying that this will in fact does mean that two separate lat lon columns become a single mapd_geo column with the geometry type of Point.,clhenrick
But that this is not a requirement for 4.0 so we should probably punt it to 4.1 which will give us some time to figure out the UX. 

cc @Christian-Baptiste ,clhenrick
Noting result of discussion from Slack, this is being descoped for now since we need to more carefully consider the technical approach for this, and then once that's determined, the UX and frontend design.

It's possible we drift towards a different approach that does not impose the adjacent-column restriction to simplify things, but this requires backend work to be possible.,jrajav"
[Design spike] Consolidate chart types,4513,,2018-05-22T15:01:18Z,2018-05-22T15:03:25Z,"### :speech_balloon: Description
We have multiple chart types that are in fact variants of the same base type. The most obvious is row chart, histogram, stacked bar, combo chart (with simple and grouped bars). We also are in an intermediate stage where the line chart is not yet removed from the UI, even though it is fully replicated by the combo chart (task #4050). Another example is scatterplot and bubble chart. They have different implementations, but from the user standpoint, they could be treated as variants.

One way of consolidating the chart types, from a conceptual standpoint without thinking of implementation constraints, could be to have 3 base charts: geo, categorical and continuous

**Geo**
It's clear how all of our maps are of the geo type. Small detail: from implementation standpoint, the scatterplot is backend-rendered and some of its feature visually show that it is somewhat related. 

**Categorical**
The row chart, pie chart and stacked bar charts have categorical data on their primary axis.

**Continuous**
Scatterplot/bubble, combo, histogram, have a continuous primary axis, which can be time, numerical or a binning of those (which could still be considered a discretization of a continuous space rather than an ordinal dimension).

### Acceptance criteria
Documenting alternatives (in text, wireframes or mockups) to the current presentation of our chart types in a way that can lead to discussions and decisions.",biovisualize,design,Christian-Baptiste,"@Christian-Baptiste Let me know if you need more info on this task. It's basically a redesign of our choice of chart types in the chart editor. It's just a heads-up though as it needs to get prioritized by PM. cc @niviksha ,biovisualize"
Encrypt passwords over network calls.,4507,,2018-05-17T22:12:47Z,2018-05-17T22:13:48Z,"### :speech_balloon: Description
Encrypt passwords over network calls.

Passwords are sent as plain text over network. Might be security concern for some users.

### :camera_flash: Screenshots
<img width=""645"" alt=""screen shot 2018-05-17 at 3 13 14 pm"" src=""https://user-images.githubusercontent.com/16374964/40206414-db89316e-59e4-11e8-95e3-310f088f7be5.png"">

### :memo: Other Info",menaczar,enhancement,,"wrong screen shot posted. updated now ,menaczar"
"Combo line chart and date time interval overlap - Safari, Edge, Explorer",4501,,2018-05-16T02:55:53Z,2018-05-31T03:22:53Z,"### :speech_balloon: Description
Currently when user creates a line graph in combo charts there would be an overlap between line chart and date time interval. 

### :computer: Environment
- **Browser Name, Version**:  Safari, Edge, Explorer
- **mapd-immerse Version or Branch**: minos

### :page_with_curl: Steps To Reproduce
- Create a Combo chart with the following:
Dimension - X-axis: `arr_timestamp (auto-binning)`
Measure: `record`

- **Actual result:**
Line graph overlaps with date time interval (right hand corner)

- **Expected result:**
no overlap

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots
![screen shot 2018-05-15 at 7 55 38 pm](https://user-images.githubusercontent.com/35040876/40094115-f7691938-5879-11e8-8ace-c897e8e22dc2.png)


### :memo: Other Info
Issue is not present in the demos.",ericli5454,"P3,bug,found during 4.0,regression",,"adding in @niviksha ,ericli5454
ugly, but not worth holding up release for,niviksha"
Unable to grant create dashboard to role,4497,,2018-05-15T00:06:53Z,2018-05-15T16:31:15Z,"### :speech_balloon: Description
Currently we are unable to grant create dashboard privileges to a role. After granting create dashboard to role and logging to a user who has been assigned to role, create dashboard button does not appear.

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
In sql editor
- Assign user to role  - grant `role` to `user`
- Grant create dashboard on database `db`  to `role`
Login as user
- **Actual result:**
New Dashboard button does not appear

- **Expected result:**
New Dashboard button appears in dashboard list page

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

### :memo: Other Info",ericli5454,"dashboard-sharing,design",,"Adding in @wamsiv  @jrajav ,ericli5454
@ericli5454 @jrajav There's an open question regarding backend returning permissions of users assigned to a role along with the role. Currently, backend returns only privileges associated with the role, not any users associated with it. That is the reason you don't see a button, but you would be successfully able to create a dashboard with `user`,wamsiv"
Mapd3 + Crossfilter design spike and example,4496,,2018-05-14T22:47:59Z,2018-05-29T23:59:28Z,"### :speech_balloon: Description
Carlson Capital would like to have a combo chart but still using Crossfilter instead of mapd-data-layer, so they can just plug it in their current setup. The best would probably be to wrap the mapd3 combo chart in mapd-charting, a bit like we are currently doing for the cross-filtering side of combo chart. 

Questions from MikeG, *answers by @biovisualize*:
1. Can we do combo chart with mapd-charting, or do we need mapd3? *No*
2. If mapd3, can we tie it into crossfilter? *It should be possible. We need to try it*
3. Can you somehow do joins in crossfilter? *I don't know Crossfilter enough to answer*

cc @MarcBalaban",biovisualize,,,"Referencing this issue from mapd3 https://github.com/mapd/mapd3/issues/33,biovisualize
More insights from a meeting with Carlson.

They have a custom app using vanilla js just to glue together our components. They have a very specific dashboard using line, row and pie charts connected to a single Crossfilter. They need the quickest way to get a 2nd line and a 2nd axis to their line chart, regardless of how they could use a more scalable pattern in the longer term.

The simplest solutions are:
* try to add a 2nd line and axis using [dc.compositeChart](https://dc-js.github.io/dc.js/docs/html/dc.compositeChart.html). I started an [example](https://github.com/mapd/mapd-charting/blob/chrisv/example-multi-axis/example/example_multi-axis.html) to try that last year.
* use mapd3 + mapd-data-layer the same way we do in Immerse. Although we will need to show an example of using Crossfilter for cross-filtering, as we are currently using it with React/Redux.
,biovisualize
@biovisualize looks like there's a `useRightYAxis()` option in DC that could work. Here's an example chart: https://github.com/dc-js/dc.js/blob/develop/web/examples/right-axis.html

I'll look into seeing if I can get it to work where you left off.,clhenrick
@biovisualize update: I started looking into the composite chart option in our version of DCJS and it seems that part of the code hasn't been updated since the repository was re-structured on Apr 26, 2017: https://github.com/mapd/mapd-charting/commits/master/src/charts/composite-chart.js so I'm not very confident that it will work, but could be wrong. I haven't made much progress by following the DCJS example for composite charts / dual y axises.,clhenrick
@biovisualize @clhenrick 
I'd be weary of going down the **""try to add a 2nd line and axis using dc.compositeChart. I started an example to try that last year.""** route.  

Although it might be the fastest implementation, Carlson expressed that they would like integration with whatever charts we release moving forward;  Because new charts will be put in MapD3 -- it would make sense to offer that bridge between MapD-Charting + MapD3.

I think @biovisualize suggestion of **""use mapd3 + mapd-data-layer the same way we do in Immerse. Although we will need to show an example of using Crossfilter for cross-filtering, as we are currently using it with React/Redux.""** is the best approach as it will help Carlson adapt to both MapD3 charts and will support future customers to create custom apps with the Immerse chart offering.

@miiklay might want to chime in as he's had the most contact with them.,MarcBalaban"
Tiny Immerse demo,4495,,2018-05-14T22:41:50Z,2018-05-14T22:43:12Z,Make a tiny Immerse from scratch as testbed for pure react / redux patterns on top of mapd3 and mapd-connector. Will also support work in #4494,jrajav,"demo,tech",jrajav,
Openlayers / MapD demo,4494,[object Object],2018-05-14T22:40:26Z,2018-06-05T20:16:25Z,,jrajav,"demo,tech",uyanga-gb,
Dashboard Management,4492,,2018-05-14T21:07:17Z,2018-05-14T21:07:18Z,"### :speech_balloon: Description

Not slated for any release yet:

As user create more and more dashboards, tools to manage their dashboards will become necessary. This Issue will start to describe some of the initial thoughts and ideas around this topic. Eventually this issue might evolve into an Epic.

Ideas:
(BTW) many of these ideas could also work on the Data Manger Screen and a future chart/report manager screen.

- Sorting
- Filtering
- Searching
- Saved Views (combination of sort, filter and display settings)
- Pre filters (things like: Recents, Favorites, Shared with me, Shared by me, etc.)


- Different presentation styles, cards displayed with some type of grid system, current data grid/table. 
- Thumbnail images of the reports 


Advanced features:
- Auto Perge
- Reassign Dashboard to someone else
- Tagging system
- Foldering system 


### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
-
- **Actual result:**
- **Expected result:**


### :memo: Other Info",Christian-Baptiste,"Design System,charts-ux,design",Christian-Baptiste,
Re-use dashboard state when saving a new dashboard for the first time,4483,,2018-05-10T23:10:24Z,2018-05-11T18:10:46Z,"### :speech_balloon: Description

Currently, the dashboard is reloaded and re-initialized when saved and given an ID for the first time.

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
-
- **Actual result:**
- **Expected result:**

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

### :memo: Other Info",jrajav,dashboard-sharing,,
Design spike on line chart null values,4480,,2018-05-10T19:52:16Z,2018-06-08T00:42:30Z,"### :speech_balloon: Description
A feature request from a client, https://github.com/mapd/mapd-immerse/issues/4270, started a discussion about the various ways to represent the null values (dropping to 0, gap, dots, etc.). This task is for documenting the ideas around that and generate any artifact that can help us make a decision on the best way to handle the various needs.

### Acceptance criteria
* Document the needs an ideas that doesn't already exist in the related issue https://github.com/mapd/mapd-immerse/issues/4270
* generate some mockups or any document to help with decision",biovisualize,design,Christian-Baptiste,"@niviksha feel free to set the priority level of this design task,biovisualize
For my own benefit - I didn't want to lose the conversation that we had in Slack.
I will delete this post after the design is finished. 

christian baptiste [11:15 AM]
uploaded and commented on this image: @chrisv 


![image](https://user-images.githubusercontent.com/37127288/39900374-548e7958-5476-11e8-9898-43b09cef9e7a.png)

I like the trend line with the dots for the data points. I was going to suggest this so I am glad that you were thinking the same and that you were able to implement it.

This being said I am a little confused by the data that I did a screen capture for.  My assumption in looking at this example is that there were 3 days (or what ever time aggregate for the points) that are missing. My question is, if they are missing why do we have a slight increase on null point 1? Why a even higher increase on null point 2? Null point 3 looks even with 2 so that seems correct.

christian baptiste [11:17 AM]
@chrisv Should the points just level out with the last real data point?

jonathan [11:17 AM]
It looks more like there are 4 days missing and those ‘null points’ are actually *non*-missing points

christian baptiste [11:18 AM]
Not sure I understand
non-missing points?

jonathan [11:19 AM]
Count forward from Feb 25 - the missing points seem to be Feb 28, Mar 2, Mar 4, and Mar 6
Mar 1, Mar 3 and Mar 5 are all actually there, with those values though (the single dots)
So, there doesn’t seem to be an ‘increase on null points’, it’s actual data

christian baptiste [11:21 AM]
I can see the middle point having data and being surrounded by missing data on the outsides, thus the increase for the third point, just not the slight increase on Feb 28

jonathan [11:22 AM]
Feb 28 is missing though. The increase lies in actual data

christian baptiste [11:22 AM]
Maybe we are reading this different.

jonathan [11:22 AM]
Look closely at the spacing of the data points
There are twice as many as you are reading, I think
And count the days between each tick

christian baptiste [11:23 AM]
So the lack of a point is the null

jonathan [11:23 AM]
Right. Imagine invisible dots in each space

christian baptiste [11:23 AM]
and the point is a entry

jonathan [11:23 AM]
Right

christian baptiste [11:25 AM]
ah, not what I was expecting. I was assuming the points were places for each expected data point. the connecting line would indicate if there was continuous data or if the data was missing.
By doing what I described it would give the user a click point to see the hover label indicate missing data.
hmmm.  Maybe the lack of a line is indication enough and the user would just know there was missing data.

jonathan [11:27 AM]
You’re expecting that we extrapolate?
Wouldn’t that normally be indicated by something more like a dashed or faded line?
(Also, I think, not really the scope of this effort)
But yeah I think the expectation here was mainly to make it act like Excel charts that merely elegantly show the missing data in this way for these kind of measures, rather than drawing a line down to zero

christian baptiste [11:28 AM]
No, not necessarily, because missing data  (and why) is still interesting. Having points for where expected data should be gives the user a place to click/hover to get the additional information

chrisv [11:29 AM]
This points are actual data points surrounded by nulls

christian baptiste [11:29 AM]
Right. We don’t want to assume that we should zero out the data.

chrisv [11:29 AM]
The nulls are just invisible. You can see them on the tooltip if you hover their position

christian baptiste [11:30 AM]
ah, okay. thought that might not be immediately discoverable

chrisv [11:30 AM]
> We don’t want to assume that we should zero out the data
That’s exactly the feature Verizon want, not have nulls replaced by zeros

christian baptiste [11:31 AM]
I was thinking that we could have two types of data point circles. solid and outline. The only problem is when they are really small the user might not be able to see the difference

jonathan [11:31 AM]
Yeah, imagine that on the above screenshot - much more busy

christian baptiste [11:31 AM]
Right I got that this was the request.

chrisv [11:31 AM]
As @jonathan mentions, there can also be a confusion over when the data point is null and when there’s no entry for this timestamp.

christian baptiste [11:32 AM]
Maybe if I play with it it would make more sense. I totally didn’t know you could hover on the blank areas

jonathan [11:32 AM]
Umm yes that’s also valid actually, but I was actually mentioning more that we should probably indicate if there’s no value for a tick and we’re just guessing it
Rather than act like it’s also a data point

christian baptiste [11:34 AM]
Great Jonathan, you just made something simple so complicated. JK!
Hover on the blanks might be enough to connect the dots (no pune intended)

chrisv [11:36 AM]
IMO, interpolating or visually linking is misleading as it kind of invents data points. But you can see on the issue’s screenshot that Excels provides it as an option (as well as zeros and gaps).

jonathan [11:37 AM]
It can be useful if seeing trends in incomplete data is your goal

christian baptiste [11:38 AM]
I definetely understand why users would want it to zero out and in other cases why they would not. Missing data is something that you often want to address and have that jump out at you. So in those cases zeroing still makes sense.

chrisv [11:38 AM]
A trend is an abstraction of the data. The best is to show the gaps in a way that you don’t visually lose the trend.

jonathan [11:38 AM]
Is zeroing the right thing to do in that case? Seems like a nonideal interpolation function …

chrisv [11:39 AM]
I’m used to see handling missing data at the data level. I think we have a way to do it on data import.

todd [11:39 AM]
As mentioned, on sum or count you’d often want to 0
Avg min max no

christian baptiste [11:39 AM]
In the case where you are really more interested in the trend than seeing the gap (i.e. Verizon’s use case) without zeroing makes sense

chrisv [11:40 AM]
@todd I see 2 simple ways:
* Doing it on data import

todd [11:40 AM]
Not sure there is a clean way to do it on import, typically depends on the bin size used

chrisv [11:40 AM]
uploaded this image: Screen Shot 2018-05-09 at 2.39.57 PM.png 


chrisv [11:41 AM]
* for aggregation, I guess doing it as a custom measure

christian baptiste [11:41 AM]
I don’t like on data import because there is use cases for both when visualizing the data.

chrisv [11:41 AM]
* or on calculated columns on a data manager
* as a config switch in the chart editor. MapD3 has an option to enable converting nulls to zeros now

todd [11:42 AM]
Ideally it’s an option on the aggregate

christian baptiste [11:42 AM]
Agreed

todd [11:42 AM]
You could default count and sum to showing 0
And not for the other aggregates

christian baptiste [11:44 AM]
right.

todd [11:44 AM]
Or just default one way or the other
Frankly if it’s something like revenue or number of users the sensible thing is to show 0 for no data

christian baptiste [11:45 AM]
The one thing I wanted to be careful of is not offering a choice to the users.

jonathan [11:45 AM]
Yes but it actually seems like it’s not as bad to show missing for count and sum aggregates than it is to show 0 for avg
So probably missing should be the default

todd [11:58 AM]
Ok, @christian baptiste are you doing designs? Also need from @mythili on if this is a blocker.
We have to be careful imo as changing the default without a way to make it an option will be a regression for some users

christian baptiste [12:00 PM]
I agree, and yes I will work on designs for this.

chrisv [1:14 PM]
uploaded and commented on this image: Screen Shot 2018-05-09 at 4.13.17 PM.png 

Multi line chart with gaps for null values and dots for isolated data points
![image](https://user-images.githubusercontent.com/37127288/39900408-8fdd630c-5476-11e8-85f9-7b97958d2458.png)

clhenrick [1:30 PM]
looks pretty

todd [1:44 PM]
That’s nice Chris!,Christian-Baptiste
@biovisualize I think this was implemented, should this issue be closed?,clhenrick
#4270 was implemented, but this is a follow-up design discussion for exploring other cases than simply not showing the null values. I will let @Christian-Baptiste close it when he's ready. The acceptance criteria is to document some alternatives or to decide to not explore further.,biovisualize"
"Selecting ""Duplicate"" pops a modal that allows the user to keep the appended (copy) as the name or the ability to rename the dashboard to something new",4479,,2018-05-10T19:04:35Z,2018-05-14T18:35:50Z,"### :speech_balloon: Description

MVP - when a user chooses to duplicate a dashboard (assuming they have permission to do) the duplicate shows up the in the dashboard list as ""originalName(copy)"". If the user is not satisfied with the ""(Copy)"" appended as the new name they can then select the dashboard and rename it.

This MVP flow can be seen starting with slide 30 from [The DM-Permission-Sharing ISG First Drop Prototype](https://invis.io/MPIGRA7BGXF). 

- The enhancement for this workflow would be as follows:

1 - A user selects a dashboard and chooses to duplicate it

2 - Rather than placing the new duplicate in the list view with ""OriginalName(Copy)"", instead we would launch a ""Duplicate"" modal that shows the name field with the ""OriginalName(Copy)"" pre-populated and highlighted. 

3 - the user has two choices. Choice A is to simply select the done button (or enter keystroke) and keep the ""OriginalName(Copy)"" name or Choice B, they rename the dashboard to a new more meaningful name then click done.

To see the enhanced flow: Look for the easter egg targets on Slide [31](https://invis.io/MPIGRA7BGXF).  just below the grid on the right side. 

- **_In short the enhanced modal is basically duplicate and rename in a single modal._**

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
-
- **Actual result:**
- **Expected result:**

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

### :memo: Other Info",jrajav,dashboard-sharing,,
changing chart color causes backend choropleth crash,4695,,2018-06-11T20:46:06Z,2018-06-11T21:16:54Z,"### :speech_balloon: Description

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
-
- **Actual result:**
- **Expected result:**

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

### :memo: Other Info",alexbaden,"bug,release blocker",alexbaden,"Can't repro, but here's the screenshot from @tmostak original issue:

<img width=""1920"" alt=""screen shot 2018-06-09 at 9 04 36 am"" src=""https://user-images.githubusercontent.com/5845842/41257341-572bda4c-6d81-11e8-8e12-afc6777da5a4.png"">
,alexbaden"
show popup for color measure when using a dimension w/ backend choropleth,4694,,2018-06-11T20:45:46Z,2018-06-11T20:45:46Z,"### :speech_balloon: Description


### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
-
- **Actual result:**
- **Expected result:**

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

### :memo: Other Info",alexbaden,bug,alexbaden,
Refactor backend choropleth color scales,4693,,2018-06-11T20:08:44Z,2018-06-11T21:05:45Z,"Supports solid and quantize scales
Removes text types from quantize scale, temporarily does not support ordinal scale (backend limitation https://github.com/mapd/mapd-core-internal/issues/1621)
Drop # Records from backend choropleth color measure without a dimension (was causing a crash previously)
Display aggregate selector in color measure when a dimension is present (#4678)
Properly handles std dev aggregate (#4641)

### 💬  Description
 
### 📄 Github Issue
Closes #0

### :camera_flash: Screenshot",alexbaden,,,"**Immerse**: http://immerse-4693.dev.frontend.builds.mapd.com

,mapd-bot
Doh, forget the most important part. If we have choropleth and we do a layer filter (meaning we click on a polygon) then we want the existing polygons to still be rendered, but in a more opaque and more neutral color. This allows us to do hit testing on existing polygons (note that we could actually ""render"" them as completely opaque, meaning only their outlines would disappear, if desirable. It's easy to change in charting). See screenshot below for example: 

![image](https://user-images.githubusercontent.com/5845842/41254830-8639e61a-6d79-11e8-88a1-fa237e7cd246.png)
,alexbaden
**Immerse**: http://immerse-4693.dev.frontend.builds.mapd.com

,mapd-bot
**Immerse**: http://immerse-4693.dev.frontend.builds.mapd.com

,mapd-bot
#4641 is still reproducible  if the original source contains a Geo column (map created without a join):
![screen shot 2018-06-11 at 4 16 48 pm](https://user-images.githubusercontent.com/39566471/41261961-221e4dc8-6d93-11e8-9ecc-c310cf590361.png)
,AlexHarutyunyan"
Investigate inconsistencies in column type labels,4692,,2018-06-11T18:00:58Z,2018-06-11T18:03:40Z,"### :speech_balloon: Description

e.g.  ""STR [dict. encoded]"" and not ""TEXT ENCODING DICT(32)"" in table preview (latter is the strict DDL syntax), and different labels again in the chart column selectors

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
-
- **Actual result:**
- **Expected result:**

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

### :memo: Other Info",jrajav,,,"I approve,simoneves"
Change GEOINT to COMPRESSED in Table Importer geo options,4691,,2018-06-11T17:41:41Z,2018-06-11T17:41:58Z,"### :speech_balloon: Description

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
-
- **Actual result:**
- **Expected result:**

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

### :memo: Other Info",jrajav,"geospatial,import",jrajav,
remove dead table selection code from table-picker-parent,4690,,2018-06-11T16:19:12Z,2018-06-11T18:26:37Z,"### 💬  Description
 Removes unused code in `table-picker-parent` that's no longer used to select a table for preview
### 📄 Github Issue
Closes #4600

### :camera_flash: Screenshot

### Testing Notes
Table previews should continue to work as expected, with users being able to select table from the list and see it's columns",jmenestr,,AlexHarutyunyan,"**Immerse**: http://immerse-4690.dev.frontend.builds.mapd.com

,mapd-bot
Verified on all supported browsers (Kali+Mahakali).,AlexHarutyunyan"
Imported geo columns do not show column name in selectors,4689,,2018-06-11T14:18:01Z,2018-06-11T16:02:44Z,"### :speech_balloon: Description

Unsure if this is meant to be supported yet or not, but mapd_geo columns that have a name upon import do not retain that column name in the data source (or at least, the chart selectors).

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
-
- **Actual result:**
- **Expected result:**

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

<img width=""1528"" alt=""mapd_geo field names 1"" src=""https://user-images.githubusercontent.com/2074135/41237063-3d675196-6d58-11e8-8726-5511cf87f0b2.png"">
<img width=""1528"" alt=""mapd_geo field names 2"" src=""https://user-images.githubusercontent.com/2074135/41237067-3f854596-6d58-11e8-9681-3e12c9d7306b.png"">

### :memo: Other Info

Dataset in screens above is trips.csv:

`COPY trips_geo FROM ‘/freenas-home/home/annette/inrix/trips’ with (lonlat=‘false’);`",jrajav,"Needs PM Review,geospatial,import",,"I can't think of any reason why they shouldn't be displayed in that list with their original name. The icon can still be the ""location"" icon to show that it's geo. The original name must have been used for sorting the list elements, too!,simoneves"
Bad filter when filtering on chart with unbinned integers.,4688,,2018-06-10T05:19:37Z,2018-06-11T20:32:10Z,"To repro on Kali:

Using flights dataset
1. Create a table chart with dimension as arrdelay (bar chart works as well).
2. Turn off binning for arrdelay in the dimension selector
3. Click on any of the rows or bars. Nothing happens.

This is the query that is issued:

""SELECT COUNT(*) as n FROM flights WHERE (arrdelay = [object Object])""

Marking as a release blocker until we can scope whether this is a regression (may still be even if not, its pretty serious).",tmostak,"P1,bug,release blocker",clhenrick,"I think this bug is related to https://github.com/mapd/mapd-immerse/issues/4557,alexbaden"
"Column header names revert to `column_1`, `column_2` etc. upon import after changing a CSV import setting",4687,,2018-06-09T18:32:05Z,2018-06-09T18:32:25Z,"### :speech_balloon: Description

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
-
- **Actual result:**
- **Expected result:**

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

### :memo: Other Info",jrajav,"bug,import",jrajav,
"[Geo - Choropleth] Reduce join types in dimensions or geo join column, if other is already selected",4685,,2018-06-09T16:00:08Z,2018-06-09T16:00:19Z,"### :speech_balloon: Description

If possible, restrict the list of selector values in dimensions selector or geo join column selector to the valid join types, if the opposite one is already filled.

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
-
- **Actual result:**
- **Expected result:**

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

### :memo: Other Info",jrajav,"BE-Choropleth,Needs PM Review,geospatial",,
Color By Dimension is not compatible with Timestamps/Numbers and can cause an error loop if used,4684,,2018-06-09T01:38:40Z,2018-06-09T01:38:40Z,"### :speech_balloon: Description
The Color By Dimension option in the palette is not compatible with Timestamps or Numbers. All values will be appear as Other even when a full palette is added. As soon as color by dimension is selected an error loop is triggered when the user navigates to another chart. 

### :computer: Environment
- **Chrome, 67.0.3396.79**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
- Create a bar chart (Source: flights | Dimension: arr_timestamp | Measure: # Records)
- Select Color By Dimension in the Color Palette 
- Add a color 
- Navigate to another chart (Histogram for example)

- **Actual result:**
The palette options don't seem to reflect the data being displayed. 
- **Expected result:**
The Color by Dimension feature should reflect the data being displayed similar to the default palettes. 



### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots
![colorpalettetimestamp](https://user-images.githubusercontent.com/39566471/41186387-7caa41b6-6b4a-11e8-9bb5-3825086baccf.gif)
![screen shot 2018-06-08 at 5 50 35 pm](https://user-images.githubusercontent.com/39566471/41186389-8547e562-6b4a-11e8-8130-31c2455dea0f.png)

### :memo: Other Info",AlexHarutyunyan,"P2,bug,found during 4.0",,
Connot switch to different chart type from geo heat map,4682,,2018-06-08T23:06:37Z,2018-06-08T23:07:12Z,"### :speech_balloon: Description

Connot switch to different chart type from geo heat map


### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
- Go to kali
- Create heat map 
-  Select source: Metro_station_Regional
- On long/ lat select mapd_geo
- Select records as color
- try to switch to a different chart


- **Actual result:**
Cannot switch to a different chart 
Heat map is not rendered anymore 

- **Expected result:**
Should be able to switch to a different chart 

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots
![jun-08-2018 16-04-06](https://user-images.githubusercontent.com/16374964/41184553-f5e1f4e4-6b35-11e8-9f11-d7d432a4b1bb.gif)

### :memo: Other Info",menaczar,"P2,bug,found during 4.0,geospatial",,
Unable to clear Measure Number Formatting after clearing Dimension Date Formatting,4681,,2018-06-08T22:53:14Z,2018-06-08T23:23:10Z,"### :speech_balloon: Description
Number formatting doesn't clear if it is performed right after clearing timestamp formatting on charts that contain both formatting options. 



### :computer: Environment
- **Chrome, 67.0.3396.79**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
- Create Bar chart using (Source: flights | Dimension: arr_timestamp | Measure: # Records)
- Apply Some different combinations of formatting to arr_timestamp and # Records
- Clear the formatting from Dimension arr_timestamp using the x button
- Clear the formatting from Measure # Records using the x button 

- **Actual result:**
Unable to clear the formatting from the Measure Number Formatting
- **Expected result:**
Clear button should always clear the formatting

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots
![formattingclear](https://user-images.githubusercontent.com/39566471/41184257-06adb17a-6b34-11e8-9aa2-e78f34b07594.gif)
### :memo: Other Info",AlexHarutyunyan,"P3,bug,found during 4.0",,
Formatting selections change the Sort By selection for number datatypes (Bar/Pie chart),4680,,2018-06-08T22:40:48Z,2018-06-08T22:41:24Z,"### :speech_balloon: Description
Changing the measure formatting on Pie chart and Bar chart applies the dimension Sort By selection

### :computer: Environment
- **Chrome, 67.0.3396.79**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
- Create a Bar chart (Source: Flights | Dimension: arr_timestamp | Measure: # Records)
- Changing the Sort By to arr_timestamp
- Change the Measure Number Formatting and observe 

- **Actual result:**
When the formatting is changed so is the Sort By selection (# Records)
- **Expected result:**
Formatting should only effect the way measures are displayed. 


### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots
![formatting sort](https://user-images.githubusercontent.com/39566471/41183952-242749ac-6b32-11e8-8acd-cb914d51ec49.gif)

### :memo: Other Info",AlexHarutyunyan,"P4,bug,found during 4.0",,
[Geo-Choropleth] Unable to add Geo-Measure after removing Dimension of existing chart,4679,,2018-06-08T22:28:34Z,2018-06-11T21:31:46Z,"### :speech_balloon: Description
Currently if user removes Dimension of an existing(saved) geo-choropleth chart with geo join (i.e. join flight table with mapd_state via state col.), and user adds new Dimension and Geo-measure, it would trigger an error pop-up `TypeError: Cannot read property 'getPolyGeoDomain' of null`, and exiting would cause immerse to hang. 

<img width=""1228"" alt=""screen shot 2018-06-08 at 3 09 39 pm"" src=""https://user-images.githubusercontent.com/35040876/41183320-f76f6f6e-6b2e-11e8-8cb1-307d4e437e7a.png"">
Navigating to dashboards after immerse hang trigger another error:

```
TypeError: Cannot read property 'attributes' of null
    at t.default (vendor.c61d4d71b89a4750eee8.js:1)
```

<img width=""1222"" alt=""screen shot 2018-06-08 at 3 07 55 pm"" src=""https://user-images.githubusercontent.com/35040876/41183326-fe2c8a62-6b2e-11e8-9c73-9679f9ed2d1b.png"">


### :computer: Environment
- **Browser Name, Version**: Chrome
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
1. Navigate to a saved Choropleth chart with the following:
Data Source: flight
**Dimension:** dest_state
**Measure - Geo:** mapd_geo (note need to create join table before selecting geo measure)
**Measure -Color:** airtime (avg)

Join Table:
**Data Source:** Mapd_states
**Table Column:** abbr

2. Remove Dimension and Measure color
3. Add new **Dimension:** dest_state and **Measure - Geo:** mapd_geo

- **Actual result:**
Error pop up triggered followed by immerse hang

- **Expected result:**
should be able to remove dimen. and add new dim. and geo measure

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots
![remove_dim_bug_4](https://user-images.githubusercontent.com/35040876/41183844-ab6f14ae-6b31-11e8-9b74-a51533071190.gif)




### :memo: Other Info",ericli5454,"BE-Choropleth,P2,bug,found during 4.0",alexbaden,"adding @alexbaden @jrajav ,ericli5454
I believe I fixed this in https://github.com/mapd/mapd-immerse/pull/4693 , too.,alexbaden
@alexbaden I was able to replicate this one in #4693, under the same conditions. Looks like it didn't impact this one. ,AlexHarutyunyan
Still can repro using the issue step.,menaczar
This was fixed in a PR that has not been merged. Make sure you are testing
the PR.

On Mon, Jun 11, 2018 at 17:10 menaczar <notifications@github.com> wrote:

> Still can repro using the issue step.
>
> —
> You are receiving this because you were mentioned.
>
>
> Reply to this email directly, view it on GitHub
> <https://github.com/mapd/mapd-immerse/issues/4679#issuecomment-396388432>,
> or mute the thread
> <https://github.com/notifications/unsubscribe-auth/AFkzUoWSVDs11Du4i7JsLxCxIYfkaVU9ks5t7tzFgaJpZM4UhB-D>
> .
>
,alexbaden
@alexbaden yes we are testing the PR #4693 ,menaczar
@alexbaden is the PR in question #4693?,AlexHarutyunyan"
[Geo - Choropleth] Does not display aggregate selector with Geo data source,4678,,2018-06-08T21:51:14Z,2018-06-11T21:44:30Z,"### :speech_balloon: Description
Currently when user creates a choropleth chart with table with geo col. as data source and user selects a numeric measure the aggregate selector does not appear.

### :computer: Environment
- **Browser Name, Version**: Chrome
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
1. Create a geo - choropleth chart with the following; (kali)
Data Source: nyc_buildings
Measure - Geo: mapd_geo
Measure - Color: heightroof

- **Actual result:**
aggregate selector not available

- **Expected result:**
aggregate selector available

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots
![nyc_no_aggregate](https://user-images.githubusercontent.com/35040876/41182617-44f41b4e-6b2b-11e8-890e-9cd660578aa0.gif)
### :memo: Other Info",ericli5454,"BE-Choropleth,P2,bug,found during 4.0",alexbaden,"Adding @jrajav and @alexbaden ,ericli5454
Have a fix for this in my ordinal branch. GitHub mobile doesn’t seem  to allow assignment but please assign to me. ,alexbaden
@alexbaden The aggregate only appears if a dimension from the primary source has been selected. 

If you select the color measure right after selecting the primary source data(skipping the dimension selection), the aggregate menu won't be there. Similarly if you select a Geo Join source/column and 'mapd_geo' as a Geo measure on the left the color Measure still won't have the aggregate menu. 

Once you clear the measure without aggregate you get the following error/hang:
![screen shot 2018-06-11 at 2 37 32 pm](https://user-images.githubusercontent.com/39566471/41258491-2f4243a0-6d85-11e8-9e60-334e10cedd4f.png)
,AlexHarutyunyan"
Choropleth with 2 geo measure should distinguish between source and geo join,4677,,2018-06-08T21:25:40Z,2018-06-11T20:19:42Z,"### :speech_balloon: Description
You can get into a state where you have 2 geo measures with the same name. One comes from a column in the source and one form the geojson to join with. It might be useful to add a label to distinguish them.

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
-
- **Actual result:**
- **Expected result:**

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

### :memo: Other Info",biovisualize,geospatial,,"@jrajav Can you add a screenshot and/or repro steps? No rush.,biovisualize
There is a `name_is_ambiguous` tag that it seems like we should be able to use to differentiate the two. I believe the chart should do the ""right thing"" now, since we pull the table name directly from the column metadata in the selector. But, it would be nice to disambiguate them. ,alexbaden"
Charts are out of position when editting after adding another chart to dashboard,4676,,2018-06-08T19:57:21Z,2018-06-11T20:40:03Z,"### :speech_balloon: Description
Text chart jumps to the top of the browser when you edit after adding another chart. 

### :computer: Environment
- **Browser Chrome, 67.0.3396.79 Safari, 11.1 (13605.1.33.1.4)**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
- Create a text chart and add to dashboard
- Create another chart and add to dashboard
- Go back and edit the text chart 
- **Actual result:**
The text chart jumps to the top of the browser and overlaps with the chart selection dock. 
- **Expected result:**
Text chart should remain in the intended position. 



### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots
![text number](https://user-images.githubusercontent.com/39566471/41178142-3aa384dc-6b1b-11e8-9ec4-47779f15ec8c.gif)

### :memo: Other Info
Unable to reproduce in the demo.",AlexHarutyunyan,"P4,bug,found during 4.0,regression",biovisualize,"@niviksha Just a heads up, I just noticed this issue is not confined to the text chart. 

![screen shot 2018-06-11 at 12 26 44 pm](https://user-images.githubusercontent.com/39566471/41252851-3fb713c6-6d73-11e8-8059-e699f12b1e75.png)
![screen shot 2018-06-11 at 12 27 01 pm](https://user-images.githubusercontent.com/39566471/41252855-43b0fcee-6d73-11e8-833b-6be9e9c1a068.png)
![screen shot 2018-06-11 at 12 29 44 pm](https://user-images.githubusercontent.com/39566471/41252860-4632da96-6d73-11e8-81fb-b92ad0b825bb.png)

Update: Still not a big deal. I found the repro. After it gets triggered on the text chart, it will extend to the other charts, but the initial trigger is still only the text chart. ,AlexHarutyunyan
Good to know. I started to investigate before this task got the release-blocker removed. So I may just finish it if I have time.,biovisualize"
Change choropleth mapd_geo selector icon to map pin icon,4675,,2018-06-08T19:05:22Z,2018-06-08T19:46:01Z,"### :speech_balloon: Description

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
-
- **Actual result:**
- **Expected result:**

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

### :memo: Other Info",jrajav,"BE-Choropleth,geospatial",,
support ordinal scale in backend choropleth chart,4674,,2018-06-08T18:46:13Z,2018-06-11T19:41:26Z,"### :speech_balloon: Description

Required to support text type color measures. 

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
-
- **Actual result:**
- **Expected result:**

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

### :memo: Other Info",alexbaden,"BE-Choropleth,enhancement,geospatial",alexbaden,"Pulling the plug on this for 4.0 and dropping text fields from the color measure for choropleth. It looks like there is additional backend work to do to support ordinal scales.,alexbaden"
Immerse doesn't support TinyInt,4673,,2018-06-08T16:47:07Z,2018-06-08T16:47:07Z,"### :speech_balloon: Description
Immerse doesn't support TinyInt

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
- run this query on Kali: select * from Paris_Mena;
- compare results from mapdql vs SQL Editor

- **Actual result:**
SQL editor doen't handle tiny int.

- **Expected result:**
Should see exactly same results.

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots
![Screen Shot 2018-06-07 at 2.16.03 PM.png](https://images.zenhubusercontent.com/59a47c158f62dc7798c4571a/88df4c5c-38a0-4a74-b2ee-c95300c57862)

![Screen Shot 2018-06-07 at 2.16.16 PM.png](https://images.zenhubusercontent.com/59a47c158f62dc7798c4571a/ca50c70d-3206-49ee-a002-c736323598e0)
### :memo: Other Info",menaczar,"P2,bug,found during 4.0",,
Add auto-zoom to geo-heatmap,4672,,2018-06-08T16:10:06Z,2018-06-08T18:09:52Z,"### :speech_balloon: Description
Add an auto-zoom feature to geo-heatmap on initial load to focus on the area where data is found, similar to pointmap/choropleth

### :computer: Environment
- **Browser Name, Version**: all
- **mapd-immerse Version or Branch**: master. 4.0 if it turns out to be easy to do

### :page_with_curl: Steps To Reproduce
N/A

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

### :memo: Other Info",vastcharade,enhancement,vastcharade,"I'm tagging it for the 4.0 release just so we can track it on the Zenhub board as a wishlist item, and maybe estimate if it can get in.,biovisualize"
Combo chart legend uses square instead of lines on multi-measure,4671,,2018-06-08T11:42:43Z,2018-06-08T11:42:59Z,"### :speech_balloon: Description

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
- any combo chart with multi-measure
- **Actual result:** all chart legend items has a square instead of line
- **Expected result:** should all be lines (when the mark is a line) as when the color dimension is used

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots
<img width=""1693"" alt=""screen shot 2018-06-07 at 10 57 43 pm"" src=""https://user-images.githubusercontent.com/824534/41156348-81f74ab6-6aef-11e8-8a94-be5163007256.png"">

### :memo: Other Info",biovisualize,"bug,combo-chart",,
[Line][Hist.][Combo] Adding Color Dim. after Measure renders empty chart,4670,,2018-06-08T09:28:57Z,2018-06-11T18:48:16Z,"### :speech_balloon: Description
Currently, if user selects a **Color Dimension** after **X-axis Dimension** and **Measure**, it would render an empty chart. This occurs in Line, Histogram, and Combo chart

### :computer: Environment
- **Browser Name, Version**: Chrome
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
1. Select a **X-axis Dimension** and **Measure**
2. Then add in **Color Dimension**

- **Actual result:**
renders blank chart

- **Expected result:**
chart renders correctly

### :dash: Smoke Test
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots
![line_chart](https://user-images.githubusercontent.com/35040876/41150761-a6c7db20-6ac3-11e8-8c43-0a03aad52c31.gif)

![hist](https://user-images.githubusercontent.com/35040876/41150775-ab5329e2-6ac3-11e8-90f2-dab19adc9d04.gif)


### :memo: Other Info",ericli5454,"P2,bug,found during 4.0,regression,release blocker",jmenestr,"@niviksha can you review this bug,ericli5454
@ericli5454 done.,niviksha
Enabling 'Show Range Chart' generates this error :
![screen shot 2018-06-11 at 11 45 28 am](https://user-images.githubusercontent.com/39566471/41250910-2698bb5c-6d6d-11e8-9443-af984cf2c609.png)
,AlexHarutyunyan"
dummy commit,4665,,2018-06-08T04:41:25Z,2018-06-08T17:10:30Z,Just for testing if the error we see on https://github.com/mapd/mapd-immerse/pull/4607 was also there before the work on the PR,biovisualize,,,"**Immerse**: http://immerse-4665.dev.frontend.builds.mapd.com

,mapd-bot
@biovisualize Here's the setup I was trying to explain unsuccessfully. The error reporting seems to work but an infinite spinner takes place. So I wasn't sure if it was because of the error handling or another thing to consider about the choropleth(different datasets, both with a mapd_geo). Say you use the same dataset for the left and right side with compatible columns the error is not generated (although both mapd_geo columns still appear in the list unlabeled).

<img width=""1175"" alt=""screen shot 2018-06-08 at 1 23 48 am"" src=""https://user-images.githubusercontent.com/39566471/41147234-b1acf33a-6aba-11e8-9633-c3e13fb0559c.png"">

<img width=""1183"" alt=""screen shot 2018-06-08 at 1 24 50 am"" src=""https://user-images.githubusercontent.com/39566471/41147365-12882cb0-6abb-11e8-809d-9516a074bb35.png"">

,AlexHarutyunyan
@AlexHarutyunyan And after the fix to pipe errors to the popup, it's properly exposed. 

Do you want to test more use cases? I know it's not an easy one to test, as we need to find errors on the fix branch when there's a popup and then come back here to see if the error was there before, to make sure that the popup is not causing the error. But FWIW, from the code path, I would be very surprised that the popup can cause any serious issue, as I merely wired an action to trigger it where it was just logged in the console, and fixed the error message that was not properly displayed, so it's fairly decoupled from any other code path. 

<img width=""1130"" alt=""screen shot 2018-06-08 at 8 24 35 am"" src=""https://user-images.githubusercontent.com/824534/41158181-fed551f8-6af5-11e8-91f3-b1890fa5f95a.png"">
,biovisualize
@biovisualize In that case I say we merge, so we can diagnose and file what the real issue is. 
I checked for the error popups with other datasets and and that portion is behaving as intended. 
I'll make sure everything is ok after merge. 
Meanwhile I'll check the issues for joining 2 tables with 'mapd_geo' columns, and the hang after a bad join in general and file an issue accordingly. 

Keep in mind I get the errors in console and the infinite spinner very consistently, I just can't tell if it's related to choropleth or the error piping. ,AlexHarutyunyan
@alexbaden Hey Alex, what do you think about this one? (a hang after a bad join)

https://github.com/mapd/mapd-immerse/pull/4607
https://github.com/mapd/mapd-immerse/issues/4565,AlexHarutyunyan"
remove select join data source machinery ,4664,,2018-06-08T04:05:17Z,2018-06-08T04:05:17Z,"### :speech_balloon: Description

Was originally added to autopopulate the geojoin with a ""self join"" for backend choropleth. Now that self joins are no longer necessary to just render the geo data, the actions and reducers are not being used. Leaving the code in place for now since we might want to use it later if we add joins across the product. Worth discussing after 4.0. 

Relevant action is `SELECT_GEO_JOIN_DATA_SOURCE_REQUEST`

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
-
- **Actual result:**
- **Expected result:**

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

### :memo: Other Info",alexbaden,enhancement,alexbaden,
Binned/Extracted Timestamp formatting and selected formatting display different values for timestamps ending in 00:00:00,4663,,2018-06-08T01:46:10Z,2018-06-08T01:58:36Z,"### :speech_balloon: Description
There is a difference in how certain Timestamps are displayed Binned, Extracted vs. with Formatting applied (and also in the SQL Editor)
A timestamp like: `2011-01-01 00:00:00`
will appear as Dec 31, 2010 with formatting applied and in the SQL Editor, but will display Jan 1, 2011 while binned or extracted.
Extracted/Binned with no formatting tends to 'round up' while the SQL Editor and The formatting dropdown menu tend to 'round down'. 


### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
- Create a Table chart (Source: 'family_3' on mahakali | Dimension: BIN 'birth_timestamp' | Dimension EXT birth_timestamp)
- Change the Date Formatting of the Auto Bin column to year only (%y)
- **Actual result:**
The same data may appear differently depending on the selection. 
- **Expected result:**  

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots
<img width=""650"" alt=""screen shot 2018-06-07 at 6 43 56 pm"" src=""https://user-images.githubusercontent.com/39566471/41134726-c58e16c8-6a82-11e8-863d-af1d94510c68.png"">

![screen shot 2018-06-07 at 6 24 31 pm](https://user-images.githubusercontent.com/39566471/41134707-ae0fa804-6a82-11e8-9d0e-cf7d43ea4a20.png)

![screen shot 2018-06-07 at 6 21 26 pm](https://user-images.githubusercontent.com/39566471/41134717-b67e23d0-6a82-11e8-90e5-8ca66e3cee5d.png)




### :memo: Other Info
Not quite sure what the expected result should be, since this seems like a timezone issue. Since the original data is listed as Jan 1, I think it should 'round up' regardless of the timezone.",AlexHarutyunyan,"P4,bug,found during 4.0",,
mapd_geo POINT column appears in charts that cannot utilize it and populates the field despite unsupported error message,4661,,2018-06-08T00:39:13Z,2018-06-08T21:32:56Z,"### :speech_balloon: Description
Able to add mapd_geo POINT column as a dimension and measurement is all charts. The field is populated despite an unsupported type error message and remains there when jumping around different charts, eventually triggering an error loop. 

### :computer: Environment
- **Browser Chrome, 67.0.3396.62**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
- Create Bar Chart (Source: 'Metro_Stations_in_DC' | Dimension: 'mapd_geo' | Measure: 'mapd_geo')
- Jump to Pie Chart
- **Actual result:**
The table containing mapd_geo POINT column is not handled properly by charts that cannot use it. 
- **Expected result:**
The geo column should only be available to charts that can utilize it (no crash)


### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots
![mapd_geo point](https://user-images.githubusercontent.com/39566471/41133032-746cc5ae-6a79-11e8-91ea-9b93fdaa0b1e.gif)

![screen shot 2018-06-07 at 5 24 34 pm](https://user-images.githubusercontent.com/39566471/41133041-873b7c7a-6a79-11e8-962f-e0a27ca12f0f.png)

### :memo: Other Info",AlexHarutyunyan,"P2,bug,found during 4.0",jrajav,"Added to the 4.0 release, from a decision from @niviksha to get it in if the fix is ready https://mapd.slack.com/archives/C165ZDWHJ/p1528431705000112,biovisualize"
[GeoHeat] Legend min/max revert to default after locking legend,4658,,2018-06-07T23:54:05Z,2018-06-08T06:13:21Z,"### :speech_balloon: Description
The geo heat  max/min would revert back to its default values after user has changed the map theme or any visual attribute settings

### :computer: Environment
- **Browser Name, Version**:  Chrome
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
1. Create a Geo heat map with the following:
Data Source: flights
Dimension Lon: dest_lon
Dimension Lat: dest_lat
Measure Color: airtime(avg)
2. Change min/max values in color legend
3. Lock legend

- **Actual result:**
min/max values revert to default

- **Expected result:**
should not revert to default

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots
![min_max_geoheat](https://user-images.githubusercontent.com/35040876/41132014-596986c6-6a73-11e8-8321-f9df07e2f977.gif)


### :memo: Other Info",ericli5454,"P3,bug,found during 4.0",,"@ericli5454 duplicate of https://github.com/mapd/mapd-immerse/issues/3992 ? May also relate to https://github.com/mapd/mapd-immerse/issues/4564,biovisualize
@biovisualize 
not a duplicate of #3992, but def related to #4564 (possible duplicate),ericli5454"
[Choropleth] Switching between layers of multi-layer choropleth chart creates duplicate color legend,4657,,2018-06-07T23:14:47Z,2018-06-11T20:54:53Z,"### :speech_balloon: Description
Currently, if user switches between layers of multi-layer choropleth chart, it would generate a duplicate color legend in chart editor

### :computer: Environment
- **Browser Name, Version**: Chrome
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
1. Create multi-layer choropleth chart such that each layer has different data table
2. Go to the chart editor and switch between laters
3.  Then click apply 

- **Actual result:**
Generates duplicate color legend in editor
Generates duplicate color legend in chart after clicking apply

- **Expected result:**
Does not generate duplicate color legend in  editor
Should not generate duplicate color legend in chart after clicking apply

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots
![choropleth after apply](https://user-images.githubusercontent.com/35040876/41132321-4a6fd7ae-6a75-11e8-8f00-034d4eb4404d.gif)




### :memo: Other Info",ericli5454,"P1,bug,found during 4.0",alexbaden,"Saving such a chart also is messed up. ,menaczar
@ericli5454 does this occur in a multi-layer chart with choropleth + pointmap or is this specific to 2 choropleth layers?,niviksha
Problem is here:
```
      color:
        chart.savedColors[nextColorType] ||
        getColors(CHARTS_DEFAULT_COLORS).defaultQuantitative,
```

Not sure what `savedColors` is for, but it's empty, and addRasterLayer defaults to the wrong color type for backend choropleth. Quantitative color scales don't make sense without a color measure, which you won't have by default. ,alexbaden"
Inconsistent color palette in Choropleth ,4655,,2018-06-07T20:55:42Z,2018-06-11T18:26:52Z,"### :speech_balloon: Description
Inconsistent color palet in Choropleth 

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
- Create a choropleth 
- Paris_Mena as source
- Geo as mapd_geo
- Inspect the color palette 

- **Actual result:**
You'll find color gradient although the map shows only one color
Click the palette and you'll see the single color options

- **Expected result:**
Should show the single color options not the color gradient

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots
![jun-07-2018 13-48-21](https://user-images.githubusercontent.com/16374964/41125838-809eb13a-6a5a-11e8-9246-541b57ec4b87.gif)

### :memo: Other Info",menaczar,"BE-Choropleth,P3,bug,found during 4.0,geospatial",menaczar,"Interesting. If you create a new chart, select pointmap, then select choropleth the color palette will be gradient. Same thing works in reverse. Add a chart, then go to choropleth, then pointmap. You will see single color palette instead of the gradient (since density accumulation is on by default). Looks like an issue setting those initial states.,alexbaden
I believe the issue is here: https://github.com/mapd/mapd-immerse/blob/master/src/reducers/charts/update-chart-type-reducer.js#L259

We end up falling through the `allowedColorTypes[currentColor.type]` case even though the chart has no saved colors. I think maybe just putting a check for `Object.keys(chart.savedColors) > 0` would be ok for now, but without being able to test custom colors or having much insight into what is going on in that function I'm going to let this sit overnight.,alexbaden
Cant repro this somehow now. closing for now. ,menaczar
I was just able to repro on immerse master on kali. 

1. Create dashboard
2. Add chart
3. Select choropleth
4. Select pointmap

You will notice that even though density accumulation is on, the color palette is a solid color not a gradient. Clicking on it shows ""quantitative scale"".

Fairly sure I know where the issue is, but fixing it and preserving custom colors might be tricky. ,alexbaden
@alexbaden is this the correct place for this? in QA pipeline?
,menaczar
@alexbaden I couldn't repro using the original steps on the issue. Maybe you're talking about a different issue?,menaczar
Cant repro with original issue steps. will open new issue for other bugs.,menaczar"
Add link in Immerse charts to show underlying SQL queries,4654,,2018-06-07T20:14:30Z,2018-06-07T20:19:08Z,"### :speech_balloon: Description
Currently if you want to view the underlying SQL query of a charts in Immerse, it is necessary to inspect the underlying Thrift calls. This is problematic if the average user wishes to export the data they see in the current (filtered or unfiltered) chart through the COPY command. A ""Show SQL"" link or similar on each chart would provide a way for the user to easily take that command and put it in the COPY command to export the data.

### :computer: Environment
- **Browser Name, Version**:  All
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
- **Actual result:**
N/A
- **Expected result:**
N/A

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

### :memo: Other Info",jp-harvey,,,
Https button reverts to http when clicking connect.,4652,,2018-06-07T17:14:26Z,2018-06-07T17:14:38Z,"### :speech_balloon: Description

Https button reverts to http when clicking connect.
Although functionality is fine, it visually confusing.

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
- Go to master
- logout
- change to Kali
- Change port # to 10043
- Click https
- Click connect

- **Actual result:** 
Although it connects fine, you'll find that the http button is highlighted instead of the https

- **Expected result:**
Https button should always be highlighted during connecting and even after logging out.

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots
![jun-07-2018 10-05-33](https://user-images.githubusercontent.com/16374964/41115171-94040b7c-6a3b-11e8-8bdd-e91838cbc380.gif)


### :memo: Other Info",menaczar,"P3,bug,found during 4.0",,
Prototype async redux flow patterns,4651,[object Object],2018-06-07T17:00:04Z,2018-06-07T17:12:40Z,"Problem / goal:
Redux-saga is causing problems for us because it is difficult to debug, maintain, and reason about async flows built with it. It's likely that we can improve these aspects of async flows in Immerse by starting to move to an improved pattern and/or framework.

Increment (prototype):
Re-implement a relatively digestible, yet complex saga from Immerse in other async Redux flow patterns and frameworks, so that we can see a real-world example of how they look and act:

- redux-observable
- redux-thunk + Promises (async / await, some Promise action translator such as redux-promise-middleware)

Stretch goals:
- redux-loop
- Full type coverage with something like https://github.com/aikoven/typescript-fsa or https://github.com/piotrwitek/typesafe-actions",jrajav,tech,jmenestr,
[Chroropleth] The flow for rendering geo measure option for non-geo tables is not intuitive,4646,,2018-06-07T02:43:51Z,2018-06-07T17:00:57Z,"### :speech_balloon: Description
Currently when a user wants to create choropleth chart with a non-geo table, user would have to select a join table and column thats compatible with selected dimension before Geo measure options is generated. In other words theres known way for user to know when option for geo measure has been generated


### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

### :memo: Other Info",ericli5454,"charts-ux,design",,"I agree, could certainly use some design there. @Christian-Baptiste 

One thought I had was putting an indicator on each measure for the number of columns available in the dropdown. That would alert the user to any changes in any measure without them having to actually open the dropdown.,alexbaden
A repaste of what I posted on Slack:

technically you could have multiple geo columns in the join table. but if we had only one, i suppose we could autoselect. This UI is actually much more logical (and consistent with the rest of the app) than the old one, but agree its not the easiest to grok at first. @alexb perhaps we should think about autopopulating a column with poly geo type for choropleth whether rendering a table directly or via a join, as long as there is one and only one poly column (which would be the typical case)

Another option would be to always auto-populate a column (across all charts) if there was one and only one valid choice for a measure and a dimension was populated. This might be a bit unexpected for people though.,tmostak"
Unable to importing large kml geoshape file(1gb),4644,,2018-06-07T00:10:54Z,2018-06-07T00:11:09Z,"### :speech_balloon: Description
Currently users are unable to successfully import large .kml geo file(1kb) thru both s3/manual import

File used:
https://s3-us-west-1.amazonaws.com/mapd-parquet-testdata/qa/shape_file/nyc_footprint_kml.kml

### :computer: Environment
- **Browser Name, Version**: Chrome
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
Upload 1g kml file either manually (drag and drop) or thru S3

- **Actual result:**
unable to upload
<img width=""1192"" alt=""screen shot 2018-06-04 at 10 24 11 am"" src=""https://user-images.githubusercontent.com/35040876/40933371-1c4d5c52-67e6-11e8-9250-d2f08230e30d.png"">

- **Expected result:**
upload successfully

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

### :memo: Other Info
Thread from Slack:
- Simon:

> 
> So Eric has pulled the KML & KMZ versions of the NYC building footprints dataset, and neither of them will load. The underlying LibKML parser fails with an out-of-memory error. Not even a GDAL problem. ogrinfo command-line tool reports the same, so it's nothing we are provoking. It's a big KML (1.1GB) but looks fine in a text editor. All the other versions of that data set load fine, as do other smaller KMLs I have. LibKML on my system is an Ubuntu lib, as is GDAL itself (although I have my own build of GDAL 2.3 using the same LibKML). LibKML code is from Google but old (not touched for five years) and the Ubuntu version seems to be up-to-date. Thoughts?
> 
> I have proven that the problem is in LibKML itself, and shows up even with my own build of that and a simple test program to just try and open the file. Turns out there are two KML ""drivers"" in GDAL, and if you configure GDAL to use the other one instead (which you can do even in the MapD context just by setting an env var) then the other one loads it, but drops all the extended fields from the file, so you only get the name and the geo for each feature.
> 
> I think we can justifiably ignore this one as there's a workaround, even if not a very good one, and IMHO, anyone who creates a 1.1GB KML file wants their brain examining along with those who create similarly large GeoJSONs...
> 
> For completeness, the LibKML one is falling over in the basic XML parse (using the Expat lib, presumably from the Ubuntu apt DSO install of such)
> 
> LibKML attempts to read in the entire document and gets Expat to parse the whole thing in one go. This is stupid, as Expat is explicitly written to support streaming and parsing of such files in chunks.
> 
> Shelving this because there's no easy solution
> 

-Andrew:

> Agreed. Just document as a known issue and wait & see if someone cares about massive KMLs?",ericli5454,"P3,enhancement,found during 4.0",,
"Provide reasonable default selectors for all charts (e.g. # records for measure), so when possible they can render immediately with minimal input",4642,,2018-06-06T21:58:29Z,2018-06-06T21:58:53Z,"### :speech_balloon: Description

e.g. provide geo column selection for geo charts when selecting a geo data source, select # records for single-measure charts by default

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
-
- **Actual result:**
- **Expected result:**

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

### :memo: Other Info",jrajav,"charts-ux,enhancement",,
[Choropleth] Setting a shape filter and measure aggregate to stdev causes immerse to hang,4641,,2018-06-06T19:58:03Z,2018-06-11T20:28:36Z,"### :speech_balloon: Description
Currently if user sets the shape filter and changes measure aggregate to stdev of choropleth chart, it causes immerse to hang.

### :computer: Environment
- **Browser Name, Version**:  Chrome
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
1. Create a choropleth chart with the following:
Data Source: nyc_building
Dimensions: mapd_geo
Measures: heightroof (avg)
2. Select a building footprint to create filter
3. Change aggregate of measure to stdev

- **Actual result:**
```
immerse hangs w/ error:
raygun.js:1667 Unhandled promise rejection Error: Exception: Aggregate function STDDEV not supported
    at a (vendor.ebfab6cc7738343a68b6.js:1)
    at vendor.ebfab6cc7738343a68b6.js:1
    at eval (eval at e.exports (vendor.ebfab6cc7738343a68b6.js:1), <anonymous>:12721:7)
    at XMLHttpRequest.eval (eval at e.exports (vendor.ebfab6cc7738343a68b6.js:1), <anonymous>:349:25)

```
- **Expected result:**
immerse should not hang

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots
![std_immerse_hang](https://user-images.githubusercontent.com/35040876/41061978-3074216c-6989-11e8-96e2-cced821f3e4f.gif)




### :memo: Other Info",ericli5454,"BE-Choropleth,P2,bug,found during 4.0",alexbaden,"Notes: 
1. Still occurring for geo choropleth that has a join. (i.e. join flight table with mapd_state via state col.)
2. Geo choropleth using only table with geo col. no longer has aggregate selector
,ericli5454"
Filter is not being applied properly to charts containing NULL / Binning Off columns,4639,,2018-06-06T17:59:20Z,2018-06-11T17:01:57Z,"### :speech_balloon: Description
When filtering TaColumns containing fields with NULL are generating an error 

### :computer: Environment
- **Chrome, 67.0.3396.62**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
- Create Table Chart (Source: 'flights' | Dimension: plane_type | Measure: '# Records')
- Apply filter to the unspecified plane type (NULL) and observe console

- Create Table Chart (Source: 'flights' | Dimension: plane_year(**Binning Off**) | Measure: '# Recrods')
- Apply filter by selecting any rows and observe console

- **Actual result:**
Cannot filter NULL. UI doesn't respond to Binning Off filters. 
- **Expected result:**
Filter is applied properly to all reasonable filtering selections. 



### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots
![filter](https://user-images.githubusercontent.com/39566471/41056184-2c7eed64-6978-11e8-8455-24536edd007e.gif)


![screen shot 2018-05-31 at 3 54 37 pm](https://user-images.githubusercontent.com/39566471/41056221-4d476dd2-6978-11e8-913b-acc6ff634e7a.png)


### :memo: Other Info",AlexHarutyunyan,"P1,bug,found during 4.0,regression",,"Added to the 4.0 release following answer by @niviksha https://mapd.slack.com/archives/C165ZDWHJ/p1528423964000263
Waiting for a confirmation of the release-blocker status, since a duplicate of this issue got it removed.,biovisualize
@AlexHarutyunyan isnt this why we have the NULL dimension filter on the right? what's the generated query in the console for trying to filter by NULL? also what's the cross filter here, since it's one chart?,niviksha
I removed the release-blocker tag from a decision by @niviksha https://mapd.slack.com/archives/C165ZDWHJ/p1528432855000160?thread_ts=1528431382.000224&cid=C165ZDWHJ,biovisualize
@niviksha Originally this ticket was about issues filtering with null values and also filtering with binning off values, but I think it was segmented because the binning off issue had been filed in #4557 (it was redundant, essentially a duplicate). I filed it as a general filtering ticket. 

I think not being able to filter by NULL might be a bug however. Disabling the NULL values removes them from list entirely, so it's not quite the same as using them as a filter. Say you select two dimensions you are able to filter by NULL. See Image here:

<img width=""1179"" alt=""screen shot 2018-06-08 at 12 53 51 am"" src=""https://user-images.githubusercontent.com/39566471/41146188-6977d1b4-6ab7-11e8-9ba7-723b541c15bf.png"">

But then the same is not true if you only select one dimension(it generates an error and you can't filter):

<img width=""1193"" alt=""screen shot 2018-06-08 at 1 02 02 am"" src=""https://user-images.githubusercontent.com/39566471/41146255-a15d8894-6ab7-11e8-8a43-b02cbbc43b96.png"">

Maybe this is expected behaviour, I'm just having a difficult time understanding why it makes sense for 2 dimension but not 1. I was just thinking maybe there is a scenario where someone would want to filter by NULL to see how many fields are not populated. I'm not actually seeing any Query being sent for the 1 dimension. 


,AlexHarutyunyan
@AlexHarutyunyan it's a bug, but I'm not convinced it's a release blocker for 4.0,niviksha"
Ordinal scale for choropleth (WIP),4638,,2018-06-06T17:41:22Z,2018-06-06T17:46:16Z,"### 💬  Description
 
Support ordinal scales for color measures using text / non-integer cols.

### 📄 Github Issue
Closes #0

### :camera_flash: Screenshot",alexbaden,,,"**Immerse**: http://immerse-4638.dev.frontend.builds.mapd.com

,mapd-bot"
[Geo Choropleth] Unable to create a multi-layer multi-source Choropleth,4632,,2018-06-05T22:23:51Z,2018-06-11T16:57:02Z,"### :speech_balloon: Description
User is unable to successfully a create multi-layer, multi-source geo choropleth chart.
Would encounter the following error:

```
2 "": error""
raygun.js:1667 Error: Exception: Failed to find physical column 'mapd_geo_bounds'
    at a (vendor.ebfab6cc7738343a68b6.js:1)
    at vendor.ebfab6cc7738343a68b6.js:1
    at eval (eval at e.exports (vendor.ebfab6cc7738343a68b6.js:1), <anonymous>:12721:7)
    at XMLHttpRequest.eval (eval at e.exports (vendor.ebfab6cc7738343a68b6.js:1), <anonymous>:349:25)
```
Dashboard Links:
http://immerse-master.prod.frontend.builds.mapd.com/#/dashboard/641?_k=k6h4aj
http://immerse-master.prod.frontend.builds.mapd.com/#/dashboard/625?_k=sx4fjr


### :computer: Environment
- **Browser Name, Version**: Chrome
- **mapd-immerse Version or Branch**: master, Kali

### :page_with_curl: Steps To Reproduce
- Create a multi-layer geo Choropleth chart with different data sources

- **Actual result:**
Generate Failed to Render Dashboard error pop, accepting would direct back to dashboard page

<img width=""1290"" alt=""screen shot 2018-06-05 at 3 20 27 pm"" src=""https://user-images.githubusercontent.com/35040876/41005942-51c90108-68d4-11e8-9d06-2bc7f24cfabc.png"">

- **Expected result:**
User able to successfully create multi-layer multi-source geo choropleth chart

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots
<img width=""1290"" alt=""screen shot 2018-06-05 at 3 20 27 pm"" src=""https://user-images.githubusercontent.com/35040876/41006031-b33d56f0-68d4-11e8-94cf-f7f367129ffe.png"">


### :memo: Other Info",ericli5454,"BE-Choropleth,P1,bug,found during 4.0,geospatial",,"This table likely needs to be reimported. ,alexbaden
@alexbaden still not working with freshly imported geo tables. Try: Paris_Mena,menaczar
That looks like a geo import problem. We need to double check the contents
of Paris_Mena. What server?

On Fri, Jun 8, 2018 at 10:54 menaczar <notifications@github.com> wrote:

> @alexbaden <https://github.com/alexbaden> still not working with freshly
> imported geo tables. Try: Paris_Mena
>
> —
> You are receiving this because you were mentioned.
>
>
> Reply to this email directly, view it on GitHub
> <https://github.com/mapd/mapd-immerse/issues/4632#issuecomment-395821590>,
> or mute the thread
> <https://github.com/notifications/unsubscribe-auth/AFkzUhW27iUDx1O86LgnmDmQYqiRH7JJks5t6qw0gaJpZM4UbqXP>
> .
>
,alexbaden
@alexbaden kali
,menaczar
@alexbaden no sure if this is related or more of a new rendering issue. Currently, when I try to create multi layer multi source dashboard it seems to have rendering/scaling issue after clicking apply


![multi_layer_msd_choropleth_2](https://user-images.githubusercontent.com/35040876/41175490-1cb2923c-6b12-11e8-9e59-64f087155a8f.gif)

<img width=""802"" alt=""screen shot 2018-06-08 at 11 53 28 am"" src=""https://user-images.githubusercontent.com/35040876/41175647-9e222044-6b12-11e8-8b02-bba2593af6bf.png"">

vendor.c61d4d71b89a4750eee8.js:1 Uncaught TypeError: Cannot read property '0' of null
    at vendor.c61d4d71b89a4750eee8.js:1
    at vendor.c61d4d71b89a4750eee8.js:1
    at Array.map (<anonymous>)
    at p (vendor.c61d4d71b89a4750eee8.js:1)
    at e.setState (vendor.c61d4d71b89a4750eee8.js:1)
    at Object.d._doRender (vendor.c61d4d71b89a4750eee8.js:1)
    at Object.d._doRedraw (vendor.c61d4d71b89a4750eee8.js:1)
    at Object.e.redraw (vendor.c61d4d71b89a4750eee8.js:1)
    at vendor.c61d4d71b89a4750eee8.js:1
    at vendor.c61d4d71b89a4750eee8.js:1
,ericli5454
assuming this is specifically targeting multi-layer multi-source choropleth (and not multi-layer with choropleth + pointmap), we can wait till post 4.0. Not a release blocker.,niviksha"
Adding custom measure without agg. generates error and kick user out to dashboard page,4629,,2018-06-05T21:44:34Z,2018-06-08T07:42:03Z,"### :speech_balloon: Description
If user creates a new dash and a new chart with custom measure without an aggregate and measure requires an aggregate. The user would encounter an error pop-up, and accepting the pop-up would kick the user back to the dashboard screen (unsaved dashboard data would be lost). This behavior currently affects Bubble, Bar, Choropleth, Pie, Heat Map, and Geo Heat map charts. 

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
1. Create a new dashboard
2. Add a new chart to dashboard (Needs to  be Bubble, Bar, Choropleth, Pie, Heat Map, and Geo Heat map chart)
3. Select Data Source, add a dimension, and then in the measures section add a column without aggregate.

Example for bar chart:
- Data Source: flights
- Dimension: carrier_name
- Measure: -> Custom Measure: depdelay

- **Actual result:**
User encounters an error pop-up, and accepting the pop-up would kick the user back to the dashboard screen 

![kickout_bar](https://user-images.githubusercontent.com/35040876/41004427-ab4051b0-68ce-11e8-9342-371780a95f25.gif)

- **Expected result:**
Should direct to correct chart render error, and accepting popup directs back to chart

![correct_bar](https://user-images.githubusercontent.com/35040876/41004423-a71fc8f4-68ce-11e8-9dfc-90607ddf015d.gif)


### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

### :memo: Other Info",ericli5454,"P2,bug,found during 4.0",ericli5454,"@ericli5454 I believe we fixed this with https://github.com/mapd/mapd-immerse/commit/daba637bba66448b6a962aca40622ade1f6733a2

Can you confirm on the RC? ,alexbaden
@alexbaden 
Its fixed for choropleth:
![rc_kick_out_choropleth](https://user-images.githubusercontent.com/35040876/41145347-abdbd026-6ab4-11e8-9651-bfb2c297b007.gif)

However, its still occurring on Bubble, Bar, Pie, Heat map, and geo heat
![rc_kick_out_bubble](https://user-images.githubusercontent.com/35040876/41145370-bcb407d8-6ab4-11e8-8bad-fe09fdefc467.gif)
![rc_kick_out_bubble_1](https://user-images.githubusercontent.com/35040876/41145376-c0d1a87a-6ab4-11e8-83ad-7e2066c220cb.gif)


,ericli5454"
Choropleth to create filter on zooming  #1,4628,,2018-06-05T21:38:37Z,2018-06-07T18:39:22Z,"### :speech_balloon: Description

Zooming in and out choropleth doesn't affect count widget. 

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
- Create choropleth geo map
- zoom in and out

- **Actual result:**
Count widget doesn't change

- **Expected result:**
Count widget should reflect visible shapes number.

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

### :memo: Other Info",menaczar,"BE-Choropleth,enhancement,geospatial",,"@menaczar I don't think the choropleth is expected to filter on zoom/pan, just on shape click-selection. @alexbaden can you confirm?

There's an issue to redesign the UX around filtering #4613 and one to maybe remove the zoom filter on scatter chart to match the behaviour on the other maps to not set a filter on zoom #4591.,biovisualize
@biovisualize I'll change it to be enhancement. ,menaczar
It doesn't appear that moving the choropleth changes any of the widgets, as I'm seeing this both with a count widget and bar widget.  Shouldn't the bar update here?

![chorpleth_doesnt_change_widget](https://user-images.githubusercontent.com/2762787/41102290-7fdb7c68-6a34-11e8-8cd6-98868e1b1ce8.gif)

The opposite direction does work: selecting a bar will modify a choropleth and the number widget
![widget_changes_choropleth](https://user-images.githubusercontent.com/2762787/41102341-a2a78fe8-6a34-11e8-853d-38bed2088665.gif)

Using master build from commit 1dd23b6 (June 5)
,randyzwitch
Yes, that's expected. This task is an [enhancement] task to decide and/or implement zoom filtering on choropleth, as on pointmap. Related discussions:
https://github.com/mapd/mapd-immerse/issues/4591
https://github.com/mapd/mapd-immerse/issues/4614
https://github.com/mapd/mapd-immerse/issues/4613,biovisualize
It's tricky for choropleth, since we would need some way of building the
list of objects in the current view. For example, if you have zoomed in on
SF and want to filter all the zipcodes in the view, would need to run
something like `ST_Intersects(mapd_geo,
ST_GeomFromText(POLYGON(<<view>>))))` (roughly). Since we store the
bounding box, this calculation could theoretically be done only on bounding
boxes -- though we might have to apply a transform, first. Either way we
will need to add the operator to the backend and figure out how to get the
query that is ""get all polygons in the current view"" to run efficiently
before we can crossfilter other widgets with choropleth.

On Thu, Jun 7, 2018 at 11:10 AM Chris Viau <notifications@github.com> wrote:

> Yes, that's expected. This task is an [enhancement] task to decide and/or
> implement zoom filtering on choropleth, as on pointmap. Related discussions:
> #4591 <https://github.com/mapd/mapd-immerse/issues/4591>
> #4614 <https://github.com/mapd/mapd-immerse/issues/4614>
> #4613 <https://github.com/mapd/mapd-immerse/issues/4613>
>
> —
> You are receiving this because you were mentioned.
> Reply to this email directly, view it on GitHub
> <https://github.com/mapd/mapd-immerse/issues/4628#issuecomment-395496038>,
> or mute the thread
> <https://github.com/notifications/unsubscribe-auth/AFkzUjmEhsC3MZGlguf82ZWdQATKRn2zks5t6V52gaJpZM4UbmWQ>
> .
>
,alexbaden
Would be easier on non-joined choropleth as we wouldn't need to support a subquery.  Doing it for joined tables likely requires some more work on plumbing.  Probably would just want to do with bounding boxes at first, and that's likely good enough for visual work.,tmostak"
Example of a Vega or Vega-lite chart using mapd-connector,4627,,2018-06-05T20:36:01Z,2018-06-05T20:36:01Z,"### :speech_balloon: Description
@dipti-kothari is working on a Bitcoin visualization demo and I suggested that she could use Vega with the data connector. This is a task to make sure we can support her and find other applications for this example.

https://vega.github.io/vega/
https://vega.github.io/vega-lite/
https://mapd.github.io/mapd-connector/
https://github.com/mapd/mapd-connector/blob/master/examples/browser.js

This example could be used as the base for her next project involving a 3D map. One ready-made chart library with 3D charts is https://plot.ly/javascript/#3d-charts",biovisualize,,,
"Do not change table type on detected geo columns in table importer, only show geo options",4623,,2018-06-05T16:43:05Z,2018-06-05T16:43:19Z,"### :speech_balloon: Description

Necessary to properly support csv's with geo columns, which should send back geo copy_params but with a table type of Delimited.

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
-
- **Actual result:**
- **Expected result:**

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

### :memo: Other Info",jrajav,"geospatial,import",,
Raygun report is broken,4621,,2018-06-05T13:52:50Z,2018-06-05T17:01:18Z,"### :speech_balloon: Description
It's been a while that clicking on the ""report"" button of error popup doesn't report to Raygun. We could fix it or we could take the opportunity to pipe all errors to Segment (which can then redispatch to any error reporting framework). Note that even when the Raygun reporting was working, there was no way to relate a report to a specific problem, for example when it was reported on Zendesk.

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
- Find a dashboard that pops up the error with a ""report"" button
- log in Raygun
- **Actual result:** the report doesn't show-up
- **Expected result:**

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

### :memo: Other Info",biovisualize,,,"@biovisualize I know of one instance in particular of it malfunctioning. If you refresh a page that still contains a dashboard that is already deleted neither the 'report' or 'no' button will work. Very quick to reproduce, you just save a dash, duplicated the tab and delete the dash(then refresh on the first tab). 
https://github.com/mapd/mapd-immerse/issues/4536

I will keep an eye on this and try to replicate more instances of 'report' not reporting. ,AlexHarutyunyan"
Point-map with multilayer/MSD has backward compatibility issues,4620,,2018-06-05T01:14:47Z,2018-06-06T22:21:58Z,"### :speech_balloon: Description

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
- Go to any of the dashboards below:
  - http://immerse-master.prod.frontend.builds.mapd.com/#/dashboard/1060?_k=oucyut
  - http://minos.mapd.com:8000/#/dashboard/426?_k=9jbbt4
  - http://kali.mapd.com:9092/#/dashboard/564?_k=yjofff
- launch the point map in the edit mode
- Try to select any other chart type (BUG 1)
- Tap on the button (+ new layer)
- Tap the button (Master) (BUG 2)

**Actual result:**
**BUG 1:** All chart types buttons are disabled
**BUG 2:** MAP will not render on MASTER 

**Expected result:**
**BUG 1:** All chart types buttons are _**enabled**_
**BUG 2:** MAP _**should always**_ render on MASTER 

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots
![pointmap compatability](https://user-images.githubusercontent.com/10747240/40949475-1803c1bc-6823-11e8-876c-2242a48643c9.gif)

### :memo: Other Info",Davidiskander,"P0,bug,found during 4.0,regression",,"I believe the first issue (all chart type buttons disabled on master) is expected behavior. You would need to select an individual layer for the chart buttons to re-enable.

For bug 2, it looks like there is indeed an issue where adding a layer is not properly ""cancelled"" (the base chart does not re-render when you go back to master). However, simply cancelling the edit returns everything to normal. ,alexbaden
thanks @alexbaden, makes sense. canceling the edit is a workaround, so this isnt a release blocker.,niviksha
@niviksha , is it still 4.0 bug? or 4.1?,Davidiskander"
[Geospatial] Choropleth Performance Lag when generating pop-up,4619,,2018-06-05T00:10:31Z,2018-06-05T05:36:15Z,"### :speech_balloon: Description
Currently, there seems to be a lag in generating pop-up after hovering mouse over geo-shape of Choropleth Charts. This behavior seems more apparent with larger polygon shapes

### :computer: Environment
- **Browser Name, Version**: Chrome
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
- Create Choropleth Chart with larger polygon shapes
- Hover over polygon shape to generate pop-up

- **Actual result:**
Seems to be a lag of ~1.5-2 secs before generating pop-up

- **Expected result:**
Should generate pop-up at faster rate

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots
![tool_tip_delay](https://user-images.githubusercontent.com/35040876/40947930-1e02fdb6-681a-11e8-8198-114b39f7a63a.gif)



### :memo: Other Info",ericli5454,"enhancement,found during 4.0,geospatial,performance",,"Currently, hit testing first queries the backend for the polygon and then converts the returned WKT string into geojson.  The geojson is then projected from latlng to mercator and transformed into a svg path. For particularly large polys, this process is likely going to be slow. There are several optimizations we can apply, most with a backend component.

cc https://github.com/mapd/mapd-core-internal/issues/1597
cc https://github.com/mapd/mapd-core-internal/issues/1197
,alexbaden"
Range Chart Y Axis on Histogram/Line chart not aligned with main Y Axis,4617,,2018-06-04T23:22:36Z,2018-06-05T05:03:28Z,"### :speech_balloon: Description
The X Axis with 'Show Range Chart' enabled doesn't seem to account for the label present on the 
Y axis of the main chart causing the Y axes to be misaligned. This may also be causing an issue when the measurement is locked on the X Axis of the Range chart (all elements of the main X axis are sent to the left). 

### :computer: Environment
- **All Browsers**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
- Create Histogram or Line chart (Source: 'flights' | Dimension X Axis: BIN 'actualelapsedtime' | Measure Height : '# Records')
- Enable 'Show Range Chart' on the right-side menu
- Observe alignment of Y Axes


- **Actual result:**
The Y axes are not aligned. The lock icon on the Range chart causes the main X Axis to be pushed to the left side. 
- **Expected result:**
The Y Axes on the charts are aligned. The lock icon on the Range chart has no impact on the GUI of the main X Axis.



### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots
![screen shot 2018-06-04 at 3 39 32 pm](https://user-images.githubusercontent.com/39566471/40946618-5104129c-6813-11e8-89fe-eeb7131e08b2.png)

![screen shot 2018-06-04 at 4 03 17 pm](https://user-images.githubusercontent.com/39566471/40946628-5da80aa8-6813-11e8-9851-7f3b55e1a996.png)

### :memo: Other Info",AlexHarutyunyan,"P3,bug,regression",,"this is annoying but cosmetic, and we can hold till 4.0 is done,niviksha"
Auto Populate Longitude and Latitude on the map charts,4615,,2018-06-04T22:48:06Z,2018-06-04T22:48:06Z,"### :speech_balloon: Description


For the charts that use longitude and latitude, we should see if we could auto-populate these fields for the user.  Example if the data column is title Longitude or Long, we could populate either of these in the longitude and same for latitude. 

In the use cases where the data has multiple longitudes and latitudes columns, we could offer a drop menu asking which one they would like to use. An example in the flights_123M data, there are two sets. dest_lat/dest_lon and origin_lat/orgin_log. The drop menu could be as simple as **dest** and **origin**, and based on the user's selection we populate the correct longitude and latitude fields. 


.........
Some difficulties that we will have:
- if the user titles the longitude and latitude something that is unrecognizable.   
- possibly when we are trying to identify if the Geo data has points versus longitude/latitude.

                                                                              


![image](https://user-images.githubusercontent.com/37127288/40945438-ab4bac66-680d-11e8-8dad-a87e6ca5320b.png)





### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
-
- **Actual result:**
- **Expected result:**

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

### :memo: Other Info",Christian-Baptiste,,,
Missing a removable GEO Zoom Filter Indicator,4614,,2018-06-04T22:31:30Z,2018-06-05T05:03:56Z,"### :speech_balloon: Description

When a user has a dashboard open and they zoom to a particular area this is treated as a filter. The problem is we don't show it as a filter in the cross filter section thus the user doesn't have a way to clear such filter. 

To make things worse, if the user had zoomed/or moved to an area that doesn't have data, this zeros out the rest of their charts in that dashboard. This can lead to a lot of confusion when the user doesn't realize what chart has the filter thus we should always place a clearable filter at the top filter area like we do with other filters. 



Desired behavior would be to either return the user their previous zoom state that had data or to a zoom to all data state (meaning the zoomed map would show to the size or where any data points exist).






### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
-
- **Actual result:**
- **Expected result:**

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

### :memo: Other Info",Christian-Baptiste,"P3,enhancement,found during 4.0",Christian-Baptiste,"**Steps:**
- Go to dashboard: http://kali.mapd.com:9092/#/dashboard/627?_k=3h2yrx
- Zoom in on the point map to where there is no data 
- Zoom works as a filter and filters out rows

**Expected:**
Filter Icon should show on the map so it works as an indicator of why I'm not seeing my data

**Actual:**
No filter icon for map zoom away from data, yet it's used for cross filtering

**Image:**
![zooming on a map](https://user-images.githubusercontent.com/10747240/40947950-3ec782f6-681a-11e8-9ca3-bab5704dbb58.gif)
,Davidiskander"
Address confusion around filtering and zooming. ,4613,,2018-06-04T22:12:53Z,2018-06-04T22:40:40Z,"### :speech_balloon: Description

Users have different intentions at different times.  Sometimes the user is intending on cross filtering based on a particular location(s) or based on a particular date/time range. 

Other times their intentions are to change their view to move around or to zoom in particular data in a map or move around to see data over different dates. 

The current behavior is to treat zooming as a filter (kind of).  This causes a lot of confusion and in some cases could render a dashboard useless without giving the user any idea why they are no longer seeing any data. 

One suggestion is to make an implicit request from the user to know their intent. Another is to use a different type of controls.

However, we offer these enhancements we need to give users the ability to both in an intuitive way.



>>>>>
One quick win that we could do is place a clearable filter pill anytime we are treating the zoom as a filter.







### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
-
- **Actual result:**
- **Expected result:**

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

### :memo: Other Info",Christian-Baptiste,design,Christian-Baptiste,"Examples to illustrate what you are saying:
* zooming/panning a map sets a filter, so you can't 2 maps with the view that doesn't intersect (focus+context, 2 different regions)
* the choropleth doesn't filter on pan/zoom
* the range chart sets a brush on the focus chart which sets a filter, but a lot of interaction around clearing filters and setting ranges gives unexpected behaviours
* some bar chart types like histogram are using a brush and others like row or stacked are using click selection. It makes sense when you figure out that charts with continuous main axis gets a brush and categorical gets a click, but it can be confusing when onboarding,biovisualize"
[Geo] mapd_geo point column as measures and dimensions for geo charts,4612,,2018-06-04T21:12:51Z,2018-06-04T21:13:32Z,"### :speech_balloon: Description

Support for (and quicker, more in-process UX for) selecting mapd_geo point column as a measure and/or dimension for the geo chart types.
",jrajav,"Epic,geospatial",,
[Internet Explorer] Eula accept button doesn't appears until resizing window,4611,,2018-06-04T21:10:38Z,2018-06-06T00:42:46Z,"### :speech_balloon: Description
Currently when user attempts to login to kali immerse, the Eula accept button populates would not appear until resizing window. This could cause a major issue with user experience. 

### :computer: Environment
- **Browser Name, Version**: Internet Explorer
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
- Login to Kali immerse with internet explorer

- **Actual result:**
-  Eula accept button populates would not appear until resizing window

- **Expected result:**
- Eula accept button should appear should appear after login to kali immerse with Internet Explorer browser. 

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

### :memo: Other Info",ericli5454,"P1,bug,found during 4.0,regression",,
[Geo - Heatmap] Ability to set mapd_geo point column as a dual dimension,4610,,2018-06-04T21:10:32Z,2018-06-08T21:24:03Z,"### :speech_balloon: Description

*For Heatmap*

mapd_geo appears as an option in the dimension selector for pointmap and, when selected, automatically adds two dimensions: `ST_x(mapd_geo)` and `ST_y(mapd_geo)`.

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
-
- **Actual result:**
- **Expected result:**

### :dash: Smoke Test
- [x] is feature working / bug resolved in chrome
- [x] is feature working / bug resolved in safari
- [x] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

### :memo: Other Info",jrajav,geospatial,ericli5454,"Note that @niviksha would want to get this one in if it's ready https://mapd.slack.com/archives/C165ZDWHJ/p1528418914000216,biovisualize
@jrajav it seems that mapd_geo column have been disabled from rendering in geoheat map selector options. Can you take a look when free

![geoheat](https://user-images.githubusercontent.com/35040876/41170334-a587b7de-6b00-11e8-912f-56b95c980d06.gif)
,ericli5454
I believe only the POINT column type is valid for geoheat and pointmap.
Similarly only the POLYGON or MULTIPOLYGON types are valid for choropleth.

On Fri, Jun 8, 2018 at 10:45 ericli5454 <notifications@github.com> wrote:

> @jrajav <https://github.com/jrajav> it seems that mapd_geo column have
> been disabled from rendering in geoheat map selector options. Can you take
> a look when free
>
> [image: geoheat]
> <https://user-images.githubusercontent.com/35040876/41170334-a587b7de-6b00-11e8-912f-56b95c980d06.gif>
>
> —
> You are receiving this because you are subscribed to this thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/mapd/mapd-immerse/issues/4610#issuecomment-395819323>,
> or mute the thread
> <https://github.com/notifications/unsubscribe-auth/AFkzUjSILnQIc2QzXY9KZQjxXcbcAWVIks5t6qovgaJpZM4UZyhO>
> .
>
,alexbaden
Thanks @alexbaden my bad i forgot ,,ericli5454
Seems I forgot to add the 'automatically adds two dimensions' portion, looking into it,jrajav
![geoheat_redo](https://user-images.githubusercontent.com/35040876/41170926-56143db4-6b03-11e8-82f4-80c72be57e6d.gif)
,ericli5454"
[Geo - Pointmap] Ability to mapd_geo point column as a dual measure,4608,,2018-06-04T21:08:03Z,2018-06-05T12:25:44Z,"### :speech_balloon: Description

*For Pointmap*

mapd_geo point column should be selectable in some form as an alternative to selecting two distinct float-number columns as longitude and latitude.

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
-
- **Actual result:**
- **Expected result:**

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

### :memo: Other Info",jrajav,geospatial,,"Basically completed and merged already in https://github.com/mapd/mapd-immerse/pull/4567 and https://github.com/mapd/mapd-immerse/pull/4603, but could use more refinement.,jrajav"
Accessibility Design Iterations,4606,[object Object],2018-06-04T17:24:05Z,2018-06-05T19:23:37Z,"### :speech_balloon: 

All government accounts require apps to be accessible. With the IQT work starting to take priority I would like to get in front of this issue before we are rushed into it.   Making apps both accessible and visually appealing can be a difficult challenge. If we wait until the last minute we will inevitably be forced to rush design changes that never look good. As a result, I would like to start to do some design cycles on this as soon as possible.




Some obvious changes:
- Change button color. The current light teal button color doesn't offer enough contrast.
- Change the light gray background areas to be dark enough to create passing contrast.
- Place tooltips on all icons
- Possibly offer alternative CSS to allow user control over text size, and additional contrast, etc.
- Test current font size, weight, and shades throughout the app.
- Continued work on default minimum size on charting elements. 
- Add points to things like line charts to make it easier to locate where the hover is.
- Improve zoom controls
- more to come.


### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
-
- **Actual result:**
- **Expected result:**

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

### :memo: Other Info",Christian-Baptiste,,Christian-Baptiste,
Review best practices for colors on demos,4605,,2018-06-04T16:50:09Z,2018-06-04T16:50:32Z,"### :speech_balloon: Description
We should validate if we are using the best practices for our demos, especially around colors. For example, @AnnetteMapD mentioned that using a dark to light palette is not so intuitive for the NY Taxi heatmap. Let's have a round of design to make sure our demos are reflecting the best practices we can provide.

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
-
- **Actual result:**
- **Expected result:**

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots
For example, this heatmap on the NY Taxi demo:

![image 3](https://user-images.githubusercontent.com/824534/40930441-b0c65af0-67f5-11e8-859d-a0a0db895166.png)

Could maybe use a light to dark palette:

<img width=""555"" alt=""screen shot 2018-06-04 at 12 42 00 pm"" src=""https://user-images.githubusercontent.com/824534/40930463-bf519f8a-67f5-11e8-94a3-d5b708ce08c6.png"">


### :memo: Other Info",biovisualize,"design,enhancement",Christian-Baptiste,
[Geo - Pointmap] Ability to set mapd_geo point column as a dual dimension,4604,,2018-06-04T14:19:21Z,2018-06-04T21:10:18Z,"### :speech_balloon: Description

*For Pointmap*

mapd_geo appears as an option in the dimension selector for pointmap and, when selected, automatically adds two dimensions: `ST_x(mapd_geo)` and `ST_y(mapd_geo)`.

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
-
- **Actual result:**
- **Expected result:**

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

<img width=""1623"" alt=""screen shot 2018-06-03 at 12 36 19 pm"" src=""https://user-images.githubusercontent.com/2074135/40922620-4d644a48-67d8-11e8-9796-fc8a33a148bc.png"">


### :memo: Other Info",jrajav,geospatial,,
[Cleanup] Remove dead code in table-picker,4600,,2018-06-03T15:27:02Z,2018-06-07T17:14:54Z,"### :speech_balloon: Description

Evaluate if `selectTable` method in TablePickerParent and all references to it (and `quickSelect`) in TablePicker and TablesList can be removed, no code paths seem to use it or the 'callback' parameter to LOAD_DASH:

```
selectTable(name) {
    dispatch(
      setDataSources({
        currentDataSource: name,
        dataSources: { [name]: { alias: ""A"" } }
      })
    )
    dispatch({
      type: LOAD_DASH,
      callback: () => {
        dispatch(routeToDashboard())
      }
    })
  }
```",jrajav,"good-first-issue,tech",jmenestr,
Combo chart GUI inconsistencies ,4594,,2018-06-02T01:00:23Z,2018-06-02T01:02:43Z,"### :speech_balloon: Description
There are some inconsistencies on the Combo chart that don't appear on other similar charts 
### :computer: Environment
- **Chrome: 66.0.3359.181, Firefox: 60.0.1, Safari: Version 11.1 **: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
- Create a line Combo chart (Source: 'flights' | Dimension: 'airtime' | Measure Y Axis: 'carrier_name')
- **Actual result:**
The label on the Y Axis measure reads top to bottom (also contains '# Unique' unlike Line chart). Combo chart contains what seems like a scroll bar. This bar doesn't seem to appear in any other charts. Please see highlight in attached image.
- **Expected result:**
The label reads bottom to top (does not contain #Unique). The scroll bar is only visible when needed. 

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots
![screen shot 2018-06-01 at 5 33 12 pm](https://user-images.githubusercontent.com/39566471/40868762-18faf69a-65c5-11e8-815e-c9275ea56ef8.png)

### :memo: Other Info",AlexHarutyunyan,"P4,bug,found during 4.0",,
TaxiDemo - Combo chart loosing focus chart data when opening the range slider ,4593,,2018-06-02T00:22:13Z,2018-06-05T15:50:08Z,"### :speech_balloon: Description
Combo chart losing focus chart data when opening the range slider. 
*Note so far the only data source that seems to be affected is TaxiDemo. 




### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
- Chose combo chart
- Chose TaxiDemo as the data source (note we tried this with other data and didn't have the same problem)
- Chose dimension pickup_datetime
- Chose AVG trip_distance as the measure. 
- Line chart for Visual Data Mapping
- Turn range chart on
- Adjust range chart
- Focus chart goes blank
- Moving range does nothing to show the missing data
- Turning range off still shows the focus chart selected and with no data
- *NOTE no filter icon shows up until I click in the chart header
- The only thing that brings the data back is to remove the filter. 

- **Actual result:**
- **Expected result:**
Should be able to zoom in on the selected data, should see the line chart.

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

![image](https://user-images.githubusercontent.com/37127288/40868107-a6461a86-65be-11e8-9486-f601e361e749.png)

### :memo: Other Info


http://immerse-master.prod.frontend.builds.mapd.com/#/dashboard/1482?_k=h5i4tt",Christian-Baptiste,bug,biovisualize,"There's something wrong with this specific dataset. The old line chart is blank, even without touching the range chart.

<img width=""1327"" alt=""screen shot 2018-06-05 at 11 42 48 am"" src=""https://user-images.githubusercontent.com/824534/40987043-a6d31b6c-68b5-11e8-8ef8-ea40d4bd3137.png"">

The combo chart at least works, with or without the range chart, and we could even argue that it properly handles the case with the brush selection, since there's just not data coming back from this query. 
```
SELECT date_trunc(day, pickup_datetime) as key0, avg(trip_distance) as val FROM TaxiDemo WHERE (CAST(pickup_datetime AS TIMESTAMP(0)) BETWEEN TIMESTAMP(0) '2015-01-05 19:19:19' AND TIMESTAMP(0) '2015-01-28 09:33:33') GROUP BY key0 ORDER BY key0
```
<img width=""1016"" alt=""screen shot 2018-06-05 at 11 46 10 am"" src=""https://user-images.githubusercontent.com/824534/40987244-189b7d20-68b6-11e8-85c9-3ac32d5feb54.png"">

We could of course look at what is wrong with this specific dataset or with the query, but the title of the issue could change to something like ""TaxiDemo dataset sometimes gives empty charts"". And it's probably not something to be fixed for 4.0. Although @niviksha has the last word on what goes into a release.,biovisualize"
Zooming in on scatter plot view generates a filter,4591,,2018-06-01T23:21:30Z,2018-06-11T20:03:42Z,"### :speech_balloon: Description
Currently a zoom on scatter plot would generate a filter, this is inconsistent with the zoom behavior in point map and geo_heat which do not create any filters.

### :computer: Environment
- **Browser Name, Version**: All Browsers
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
- Create a scatter plot and save to dashboard
- Zoom in on scatter plot

- **Actual result:**
Scatter plot zoom generates a filter

- **Expected result:**
Scatter plot zoom behavior should be consistent with geo_heat and point map

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots
![scatter_zoom](https://user-images.githubusercontent.com/35040876/40867260-c4975452-65b7-11e8-9836-f2f6b6ff7640.gif)


### :memo: Other Info",ericli5454,enhancement,,"@tmostak and I discussed this awhile ago. This is intended behavior for now per previous PM, but we may want to change it to be more consistent (I believe we want to have a filter button appear on the pointmap so you can reset to initial zoom -- now that we dynamically get the zoom we could run that for any combination of filters, too). Marking this as an enhancement. ,alexbaden"
Geo import table name pre-population inconsistencies,4590,,2018-06-01T22:43:47Z,2018-06-01T23:01:55Z,"If you import a local geo file, it pre-populates the table name with the name of the file.

If you import a local geo archive, it pre-populates the table name with the name of the archive file, rather than the name of the geo file it decides to pull from the archive file (which would match the above).

If you import from an archive on S3, it doesn't pre-populate the table name at all.

Importing from a geo file on S3 is currently broken (see #4589) but that should be consistent too.",simoneves,"P3,bug,s3-import",jrajav,
Mapbox watermark appears on top of popups in Firefox ,4588,,2018-06-01T22:25:45Z,2018-06-01T22:25:45Z,"### :speech_balloon: Description
The 
### :computer: Environment
- **Browser Firefox, 60.0.1 **: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
- On Kali open 'Campaign Performance Dashboard - Clicks' dashboard
- Duplicate Dashboard
- Navigate to back to the original 'Campaign Performance Dashboard - Clicks' dashboard and Duplicate dashboard again to trigger error. 
- **Actual result:**
Mapbox watermark will appear in the error Popup.
Also observed in other Popups like Sharing.
- **Expected result:**
Mapbox watermark should be behind all popups. 


### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

![screen shot 2018-06-01 at 2 58 09 pm](https://user-images.githubusercontent.com/39566471/40865894-b636819c-65af-11e8-9c2d-7d1cb31c55e5.png)
![screen shot 2018-05-23 at 4 04 02 pm](https://user-images.githubusercontent.com/39566471/40865909-c2213664-65af-11e8-8460-fce0d66b7e76.png)

### :memo: Other Info",AlexHarutyunyan,"P3,bug,found during 4.0",,
Deprecate legacy line chart,4587,[object Object],2018-06-01T22:11:44Z,2018-06-05T19:25:13Z,"### :speech_balloon: Description
The line chart was replaced by the combo chart, but both are still available in the UI. This Epic lists the issues that should be fixed before we can retire the legacy line chart.

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
-
- **Actual result:**
- **Expected result:**

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

### :memo: Other Info",biovisualize,Epic,biovisualize,
[Combo] Binning doesn't change for the smaller one when setting a date filter,4586,,2018-06-01T22:09:40Z,2018-06-08T23:32:12Z,"### :speech_balloon: Description
When setting a filter on a single date, the binning doesn't change to the smallest suitable increment.

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
- Set a combo chart and set a filter as in the screenshot or go there http://kali.mapd.com:9092/#/dashboard/565?_k=66j33q
- **Actual result:** binning should be on a smaller increment than month
- **Expected result:** binning is in month

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots
<img width=""899"" alt=""screen shot 2018-05-30 at 1 53 50 pm"" src=""https://user-images.githubusercontent.com/824534/40865566-efcdff2c-65c6-11e8-928c-1598c8bc0d43.png"">


### :memo: Other Info",biovisualize,"P1,bug,combo-chart",,
Dummy test PR for quantile testing - DO NOT MERGE,4583,,2018-06-01T21:46:08Z,2018-06-01T21:50:20Z,"### 💬  Description
 
### 📄 Github Issue
Closes #0

### :camera_flash: Screenshot",vastcharade,,,"**Immerse**: http://immerse-4583.dev.frontend.builds.mapd.com

,mapd-bot"
Should autopopulate mapd_geo column when picking a source for BE choropleth with poly column,4582,,2018-06-01T21:44:56Z,2018-06-08T21:01:51Z,"Currently if a user just wants to render a poly table (i.e. without a join), the user is required to know to group by mapd_geo, which is highly non-obvious. A better UI would be if once we detect that a user has selected a source on BE choropleth that has a geo column (which we already know so that we can display the correct geo join tables), we autopopulate mapd_geo as the dimension, which should trigger the right join expression to populate. 

As gravy we should probably at least slot in # Records as the measure so it renders straight away. A better thing would not to require a measure at all for rendering a poly table, and the user could just pick the static color of each poly (like most GIS systems work).

<img width=""326"" alt=""screen shot 2018-06-01 at 2 44 31 pm"" src=""https://user-images.githubusercontent.com/953210/40864834-589d4890-65aa-11e8-8044-3d823c811eec.png"">

Assigning to @alexbaden since he did most of this code, but this could be changed. Also cc'ing @uyanga-gb and @Christian-Baptiste.",tmostak,"BE-Choropleth,enhancement,geospatial",alexbaden,"@niviksha it's not obvious if this one should make it to 4.0. The PR is WIP and it's tagged as an [enhancement]. I will leave it out for now for you to revisit.,biovisualize
I believe this issue has been made obsolete by some conversations had with @alexbaden. A better approach would be to treat mapd_geo as a measure (it is) and not a dimension. @alexb do you have an issue for this?,tmostak
Actually the spirit of the issue is close enough to the new approach that I’m reopening, perhaps @alexbaden can fill in the details. ,tmostak
I moved the selection of the geo column into a measure and put the
framework in place to allow a “multi source measure” if joining using a
dimension. That’s all working fine, but in the process I uncovered some
issues with the redux flow in backend choropleth that need to be cleaned up
anyway, and may explain some of the other BE choropleth issues we have
seen.

On Mon, Jun 4, 2018 at 08:39 Todd Mostak <notifications@github.com> wrote:

> Actually the spirit of the issue is close enough to the new approach that
> I’m reopening, perhaps @alexbaden <https://github.com/alexbaden> can fill
> in the details.
>
> —
> You are receiving this because you were mentioned.
> Reply to this email directly, view it on GitHub
> <https://github.com/mapd/mapd-immerse/issues/4582#issuecomment-394400589>,
> or mute the thread
> <https://github.com/notifications/unsubscribe-auth/AFkzUvV4crVTGaHcPQLfOg1KZqTHAR4lks5t5VSygaJpZM4UXWwV>
> .
>
,alexbaden"
Zoom limitations for Scatter chart,4576,,2018-06-01T18:19:15Z,2018-06-01T23:11:51Z,"### :speech_balloon: Description
Currently there are no zooming limitations for the Scatter chart, allowing the user to zoom out to measurements where the points are impossible to see or zoom in so far that the user could drag and drop forever and not encounter a single point. The scatter map can be reset by removing the filter, but it would be nice if there was some limitation even if the user decides to use this chart incorrectly. 

The infinite zoom also causes errors in the console and will actually hang immerse with certain datasets and measurements while the zooming in/out past a reasonable measure. 

### :computer: Environment
- **All Browser**: 
- **mapd-immerse Version or Branch**: master


### :camera_flash: Screenshots
![screen shot 2018-06-01 at 11 23 03 am](https://user-images.githubusercontent.com/39566471/40856866-30759960-658e-11e8-8a36-19c0ecdd2cc8.png)

### :memo: Other Info",AlexHarutyunyan,"design,enhancement",Davidiskander,"@Christian-Baptiste the problem here is: as a user if I got lost on the map, there is no way for me to go back. I believe we need to add a button to have the data point fill the screen or zoom to data if that makes any sense. Grab me whenever this is a priority,Davidiskander"
Immerse won't redraw choropleth,4575,,2018-06-01T17:07:40Z,2018-06-08T21:27:21Z,"### :speech_balloon: Description
I found this 4 rows dataset but it has huge polygons for water worldwide. The unexpected behavior I'm seeing is: when I reverse the colors on the *Color Pallet*, BE sends the correct image where I can verify in the console but the chart it self-doesn't update all polygons colors accordingly unless I hover on the polygons.
Find the chart here: http://kali.mapd.com:9092/#/dashboard/576?_k=1kp6yw

### :computer: Environment
- **Browser Name, Version**: Latest Chrome, Mac
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
- Create a new dashboard
- Create a new chart
- Select data source: water_polygons_generalized_3857
- Select choropleth chart type
- Dimension: mapd_geo, Measure: FID
- Geo Join:  water_polygons_generalized_3857, mapd_geo
- Reverse the colors on the color palette 
- Wait and observe the colors changing

**Actual result:**
The BE returns the correct image in the network calls, but immerse won't re-draw unless I hover over the image/choropleth 

**Expected result:**

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots
https://mapd.slack.com/files/U6E0U2F8A/FB03Y7JJX/big_polygons_rendering.gif

### :memo: Other Info
- No console errors
- BE is returning the image in a timely manner",Davidiskander,"BE-Choropleth,Needs PM Review,P1,bug,found during 4.0",,"This dataset needs to be re-uploaded after the purge - can't reproduce any longer,jrajav"
[WIP] label truncation,4570,,2018-06-01T10:39:35Z,2018-06-01T12:11:14Z,"### 💬  Description
Exposes the label truncation option from mapd3. potential solution for #4363

### 📄 Github Issue
Closes #0

### :camera_flash: Screenshot",biovisualize,,,"**Immerse**: http://immerse-4570.dev.frontend.builds.mapd.com

,mapd-bot"
Should handle import GEO Files errors gracefully ,4566,,2018-05-31T21:28:50Z,2018-05-31T21:28:50Z,"### :speech_balloon: Description

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
-Noticed that the backend could through an error but Immerse would just be in what looks like loading
- **Actual result:**
- **Expected result:**

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots
<img width=""1439"" alt=""screen shot 2018-05-31 at 2 21 58 pm"" src=""https://user-images.githubusercontent.com/10747240/40809123-390336ec-64de-11e8-9705-bbaf55056fc9.png"">
<img width=""1440"" alt=""screen shot 2018-05-31 at 2 22 11 pm"" src=""https://user-images.githubusercontent.com/10747240/40809124-391b0b0a-64de-11e8-8467-258027939be1.png"">

### :memo: Other Info",Davidiskander,"P3,bug,found during 4.0,geospatial",,
Raster chart legend lock/unlock state is not saved,4564,,2018-05-31T19:05:39Z,2018-06-07T23:44:06Z,"### :speech_balloon: Description
Legend lock is not keeping its state when dashboard saved and defaults to its min max scale when locking the color legend on a raster charts, Pointmap, Geo Heatmap, and Choropleth.

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
-  Lock the color legend on any of the charts, and Apply then Save the dashboard. Reopen the chart to see the lock is unlocked and min max is default values.
- **Actual result:**
Legend lock state is not saved for raster charts
- **Expected result:**
Legend lock/unlock state should be saved and persistent

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

### :memo: Other Info",uyanga-gb,"P1,bug,found during 4.0",,
Enhance file upload to use chunking instead of multi part POST request ,4563,,2018-05-31T18:48:57Z,2018-05-31T18:48:57Z,"### :speech_balloon: Description
Currently the file uploader has a nice progress bar that gives feedback to the user, however it uses a multipart POST request that holds a single request open waiting for a response. The implications of this are that if there is a connection interruption the file must be uploaded again from the beginning, and large files will hold a single connection open for a long time depending on the size of the file and the bandwidth of the connection. This is problematic in Cloud since connections are not held open indefinitely, and most web servers have an idle timeout on the connections. They will thus be killed if the file takes too long.

Using a library that can chunk the uploads into multiple requests instead of a single POST request will mitigate the issues with connections being killed due to timeouts, and will make the upload more robust in cases of poor connections, allowing the browser to resume an upload instead of having to start from the beginning every time.

### :computer: Environment
- **Browser Name, Version**: All
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
Upload a file to MapD and cause a network event such as turning off wireless / unplugging the network cable. The file upload fails and does not resume.

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

### :memo: Other Info

This requires both server side and client side code to work, and there are several existing libraries that implement this. Since MapD Cloud does not use MapD Webserver we should ensure whichever library is chosen is easily integrated into both, however it may be deemed unnecessary to have this functionality in MapD Webserver at all. Legacy mode should still be supported for older browsers anyway, and a detection could be done on the Immerse side to see if the destination webserver supported the chunked uploads. 

Initial investigation shows these are two that are likely easily integrated into MapD Cloud:

https://github.com/23/resumable.js - likely the most compatible
https://github.com/blueimp/jQuery-File-Upload - requires jquery",jp-harvey,,,
Formatting doesn't roll back to previous when cancelling edit,4560,,2018-05-31T15:43:09Z,2018-05-31T15:43:17Z,"### :speech_balloon: Description

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
- set-up any chart, set a format
- cancel
- **Actual result:** the format is applied
- **Expected result:** it should revert to what it was before

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

### :memo: Other Info",biovisualize,formatting,,
User unable to cross filter by dimension to non-choropleth chart with geospatial data set when binning of dim. is off,4557,[object Object],2018-05-31T00:11:47Z,2018-06-08T00:40:17Z,"### :speech_balloon: Description
Currently, user are unable to  cross filter by dimension (**w/ binning turned off**) non-choropleth chart using table that has geospatial. 

_Note: Cross filtering by measure seems to work_

**Example 1,** if user creates  geo choropleth chart for nyc building foot print and a table with Dimension: `cntrct_yr` (**binning switched off**) and Measure: `height`, and attempts to cross filter choropleth by selecting `cnstrct_yr` from table. It would trigger a `Unhandled promise rejection Error: Exception: Parse failed:` and no filter would be generated.

![chror_cross](https://user-images.githubusercontent.com/35040876/41126776-7f04e58a-6a5d-11e8-9393-dd13c07f218d.gif)

**Dashboard link:** http://immerse-master.prod.frontend.builds.mapd.com/#/dashboard/667?_k=tz2hj6

- **Actual result:**
Although filter icon can be seen on chart, filter is not applied
- **Expected result:**
- Filter can be applied successfully

**Example 2**, Similarly, if user create a pie chart and table (both with the same dimensions) using a data set with geospatial data (i.e.` nyc_buildings`) and filters by dimension (**Dim. Col. needs to be numeric with binning switched off**) , it would also trigger a Error:
`raygun.js:1721 Error: Exception: Parse failed: Encountered ""= ["" at line 1, column 59.` and no filter is generated as well.

![geo_cross](https://user-images.githubusercontent.com/35040876/41127057-759faa4c-6a5e-11e8-99fe-e4273036308f.gif)

**Dashboard link:** http://immerse-master.prod.frontend.builds.mapd.com/#/dashboard/668?_k=uo4sr4

- **Actual result:**
Although filter icon can be seen on chart, filter is not applied
- **Expected result:**
- Filter can be applied successfully


### :computer: Environment
- **Browser Name, Version**: Chrome
- **mapd-immerse Version or Branch**: master kali

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots
![filter_non_geo](https://user-images.githubusercontent.com/35040876/40755587-d4e4e8fe-6433-11e8-96cd-acf8eb11d4cd.gif)


### :memo: Other Info
Note: From the filter icon, filter count seems to be limited to 1. For example, a user could select multiple rows on table,  but from filter icon count would still be 1. 

Also Note: If user attempts to create multiple filters to non-choropleth chart and theres a choropleth chart in dashboard, it would generate `Unhandled promise rejection Error: Exception: Parse failed: Encountered
` error

![filter_non_geo_2](https://user-images.githubusercontent.com/35040876/40755592-d8ca43a6-6433-11e8-8dcd-92918bafcce6.gif)

```
Unhandled promise rejection Error: Exception: Parse failed: Encountered ""= ["" at line 1, column 121.
Was expecting one of:
    "")"" ...
    ""ORDER"" ...
    ""LIMIT"" ...
    ""OFFSET"" ...
    ""FETCH"" ...
    "","" ...
    ""UNION"" ...
    ""INTERSECT"" ...
    ""EXCEPT"" ...
    ""MINUS"" ...
    ""."" ...
    ""NOT"" ...
    ""IN"" ...
    ""<"" ...
    ""<="" ...
    "">"" ...
    "">="" ...
    ""="" ...
    ""="" ""SOME"" ...
    ""="" ""ANY"" ...
    ""="" ""ALL"" ...
    ""BETWEEN"" ...
    ""LIKE"" ...
    ""SIMILAR"" ...
    ""="" ""+"" ...
    ""="" ""-"" ...
    ""="" ""NOT"" ...
    ""="" ""EXISTS"" ...
    ""="" <UNSIGNED_INTEGER_LITERAL> ...
    ""="" <DECIMAL_NUMERIC_LITERAL> ...
    ""="" <APPROX_NUMERIC_LITERAL> ...
    ""="" <BINARY_STRING_LITERAL> ...
    ""="" <PREFIXED_STRING_LITERAL> ...
    ""="" <QUOTED_STRING> ...
    ""="" <UNICODE_STRING_LITERAL> ...
    ""="" ""TRUE"" ...
    ""="" ""FALSE"" ...
    ""="" ""UNKNOWN"" ...
    ""="" ""NULL"" ...
    ""="" <LBRACE_D> ...
    ""="" <LBRACE_T> ...
    ""="" <LBRACE_TS> ...
    ""="" ""DATE"" ...
    ""="" ""TIME"" ...
    ""="" ""TIMESTAMP"" ...
    ""="" ""INTERVAL"" ...
    ""="" ""?"" ...
    ""="" ""CAST"" ...
    ""="" ""EXTRACT"" ...
    ""="" ""POSITION"" ...
    ""="" ""CONVERT"" ...
    ""="" ""TRANSLATE"" ...
    ""="" ""OVERLAY"" ...
    ""="" ""FLOOR"" ...
    ""="" ""CEIL"" ...
    ""="" ""CEILING"" ...
    ""="" ""SUBSTRING"" ...
    ""="" ""TRIM"" ...
    ""="" ""CLASSIFIER"" ...
    ""="" ""MATCH_NUMBER"" ...
    ""="" ""RUNNING"" ...
    ""="" ""PREV"" ...
    ""="" ""NEXT"" ...
    ""="" <LBRACE_FN> ...
    ""="" ""MULTISET"" ...
    ""="" ""ARRAY"" ...
    ""="" ""PERIOD"" ...
    ""="" ""SPECIFIC"" ...
    ""="" <IDENTIFIER> ...
    ""="" <QUOTED_IDENTIFIER> ...
    ""="" <BACK_QUOTED_IDENTIFIER> ...
    ""="" <BRACKET_QUOTED_IDENTIFIER> ...
    ""="" <UNICODE_QUOTED_IDENTIFIER> ...
    ""="" ""ABS"" ...
    ""="" ""AVG"" ...
    ""="" ""CARDINALITY"" ...
    ""="" ""CHAR_LENGTH"" ...
    ""="" ""CHARACTER_LENGTH"" ...
    ""="" ""COALESCE"" ...
    ""="" ""COLLECT"" ...
    ""="" ""COVAR_POP"" ...
    ""="" ""COVAR_SAMP"" ...
    ""="" ""CUME_DIST"" ...
    ""="" ""COUNT"" ...
    ""="" ""CURRENT_DATE"" ...
    ""="" ""CURRENT_TIME"" ...
    ""="" ""CURRENT_TIMESTAMP"" ...
    ""="" ""DENSE_RANK"" ...
    ""="" ""ELEMENT"" ...
    ""="" ""EXP"" ...
    ""="" ""FIRST_VALUE"" ...
    ""="" ""FUSION"" ...
    ""="" ""GROUPING"" ...
    ""="" ""HOUR"" ...
    ""="" ""LAG"" ...
    ""="" ""LEAD"" ...
    ""="" ""LAST_VALUE"" ...
    ""="" ""LN"" ...
    ""="" ""LOCALTIME"" ...
    ""="" ""LOCALTIMESTAMP"" ...
    ""="" ""LOWER"" ...
    ""="" ""MAX"" ...
    ""="" ""MIN"" ...
    ""="" ""MINUTE"" ...
    ""="" ""MOD"" ...
    ""="" ""MONTH"" ...
    ""="" ""NTILE"" ...
    ""="" ""NULLIF"" ...
    ""="" ""OCTET_LENGTH"" ...
    ""="" ""PERCENT_RANK"" ...
    ""="" ""POWER"" ...
    ""="" ""RANK"" ...
    ""="" ""REGR_SXX"" ...
    ""="" ""REGR_SYY"" ...
    ""="" ""ROW_NUMBER"" ...
    ""="" ""SECOND"" ...
    ""="" ""SQRT"" ...
    ""="" ""STDDEV_POP"" ...
    ""="" ""STDDEV_SAMP"" ...
    ""="" ""SUM"" ...
    ""="" ""UPPER"" ...
    ""="" ""TRUNCATE"" ...
    ""="" ""USER"" ...
    ""="" ""VAR_POP"" ...
    ""="" ""VAR_SAMP"" ...
    ""="" ""YEAR"" ...
    ""="" ""CURRENT_CATALOG"" ...
    ""="" ""CURRENT_DEFAULT_TRANSFORM_GROUP"" ...
    ""="" ""CURRENT_PATH"" ...
    ""="" ""CURRENT_ROLE"" ...
    ""="" ""CURRENT_SCHEMA"" ...
    ""="" ""CURRENT_USER"" ...
    ""="" ""SESSION_USER"" ...
    ""="" ""SYSTEM_USER"" ...
    ""="" ""NEW"" ...
    ""="" ""CASE"" ...
    ""="" ""CURRENT"" ...
    ""="" ""CURSOR"" ...
    ""="" ""ROW"" ...
    ""="" ""("" ...
    ""["" ...
    ""IS"" ...
    ""("" ...
    
    
    at a (vendor.fd14b120ba5acdf2c175.js:1)
    at vendor.fd14b120ba5acdf2c175.js:1
    at eval (eval at e.exports (vendor.fd14b120ba5acdf2c175.js:1), <anonymous>:12721:7)
    at XMLHttpRequest.eval (eval at e.exports (vendor.fd14b120ba5acdf2c175.js:1), <anonymous>:349:25)
```",ericli5454,"bug,found during 4.0,geospatial",,"adding @alexbaden ,ericli5454
Can it be related to how when setting a filter on a choropleth, it can't be removed? #4556 
If that's the case, maybe the fix from @alexbaden mentioned here https://github.com/mapd/mapd-immerse/issues/4556#issuecomment-394600597 will be related? ,biovisualize
Clicking on a row in the table returns `{ key0: <<cnstrct_yr>>, col0: <<#records>> }`. It appears that the raster charts are not sure how to handle an object like that. We could add something in https://github.com/mapd/mapd-crossfilter/blob/master/src/mapd-crossfilter.js#L130 to parse the object, pulling out `key0`, but not knowing much about the rest of the immerse codebase I am worried this might break something else. We could also just ignore crossfiltering with the table for now.

I don't see these issues with a bar chart, but maybe that's because my bar chart uses different params than my table. ,alexbaden
@ericli5454 I'm unable to reproduce with row and pie. Can you verify, on master or rc? I will check on table now.

![geo-filter](https://user-images.githubusercontent.com/824534/41125421-6a4dab08-6a72-11e8-8913-25bc51deee2c.gif)
,biovisualize
@ericli5454 I can't repro with choropleth and table neither.

![geo-filter2](https://user-images.githubusercontent.com/824534/41125668-1d8d0e48-6a73-11e8-97f4-213f26598db8.gif)
,biovisualize
@biovisualize  actually it seems to occur when binning of dimension has been removed,ericli5454
Thanks for the insight tho @biovisualize, none-the-less this seems to be more of an edge case now. I'm not sure if it release blocker,ericli5454
@ericli5454 I see it. It only happens when specifically the binning is turned off on the table. Can you change the title and repro steps and make sure @niviksha review the release-blocker label? Thanks!,biovisualize
@niviksha  seems to be more of an edge case where it only occurs when dimension is numeric and binning is switched off,ericli5454
Note: may be duplicate or have the same cause as https://github.com/mapd/mapd-immerse/issues/4639,ericli5454"
Multilayered Pointmap Chart with Decimal Theme generates errors during Drag and Drop/Zoom In and Out,4550,,2018-05-30T01:39:39Z,2018-06-06T00:06:08Z,"### :speech_balloon: Description
Errors spotted in console when dragging and dropping Multilayered Pointmap
### :computer: Environment
- **Chrome, 66.0.3359.181**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
- Open Dashboard and Create New Pointmap Chart (Add Chart)
- Create chart using DataSource: 'tweets_2017_may'(kali) | Dimension: 'followees' | Measure Lon: AVG 'lon' | Measure Lat: AVG 'lat' | Measure Size: 'COUNT # Records'
- Add Layer with Dimension: 'amount' | Measure Lon: AVG 'lon' | Measure Lat: AVG 'lat'
- Open console,  drag the map around, drop it in new position and observe. 
- **Actual result:**
While dragging the map around or zooming in and out of it, uncaught errors are generated in the console
- **Expected result:**
Using the map should not generate any errors

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots
![drag-drop point map.gif](https://images.zenhubusercontent.com/5b05a3aa4b5806bc2bd45a14/cd5f202c-f4ec-40d9-b2fd-3dea53869bbc)

### :memo: Other Info
The map does not generate this error message in previous builds. Checked on Demos.",AlexHarutyunyan,"P3,bug,found during 4.0,regression",,
Add legend to pointmap when density gradient mode is active,4548,,2018-05-30T00:59:16Z,2018-05-30T00:59:16Z,"### :speech_balloon: Description
Add a legend to BE-rendered pointmap for when accumulation rendering/density gradient mode is active. 
Currently there is no legend and it is unclear to the user what value the colors represent. All they get is the intuition by color alone what is more dense. But by how much? Adding a legend could make that clear.

The values to use for the legend are currently returned as meta-data as part of the render_vega() call to the server. These returned values in the meta-data can be used to drive a legend.

The behavior of the legend can than be similar to other quantitative legends - when locking the colors can stay fixed, when unlocked, the colors would be dynamic.

### :computer: Environment
N/A

### :page_with_curl: Steps To Reproduce
N/A

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

### :memo: Other Info",vastcharade,"charts-ux,component-raster,enhancement",,
[Geo import] Make geo type detection and / or disabling of column type selectors more granular in Importer,4539,,2018-05-25T15:41:02Z,2018-05-25T15:41:18Z,"### :speech_balloon: Description

Shapefiles are mostly predictable but geojsons and csv's with lat/lon columns can both have arbitrary column types that should be able to be overridden by the user - and csv's with lat/lon columns should be toggle-able back and forth between geo and non, currently this would be one-way.

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
-
- **Actual result:**
- **Expected result:**

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

### :memo: Other Info",jrajav,"geospatial,import",,
"[Geo import] Indicate geo columns with a map pin icon, wherever they can be selected (chart columns, table importer)",4538,,2018-05-25T15:18:01Z,2018-05-29T16:32:16Z,"### :speech_balloon: Description

Indicate geo columns with a map pin icon for a visual indicator of geo features being active on them.

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
-
- **Actual result:**
- **Expected result:**

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

![image](https://user-images.githubusercontent.com/2074135/40552300-e2559c32-6004-11e8-8c27-aff49f53aee4.png)


### :memo: Other Info",jrajav,"geospatial,import",,"Do we want to do this for geo cols in the measure / dimensions dropdowns as well? ,alexbaden
@alexbaden Ideally, yes.,jrajav
Yeah, I think an icon would be nice in those dropdowns. Looks like I put the geo css here: https://github.com/mapd/mapd-immerse/blob/master/src/components/chart-editor/styles.scss#L803 ,alexbaden"
Unable to reach resolution for 'Failed To Load Dashboard' error popup ,4536,,2018-05-25T01:51:42Z,2018-05-30T17:56:54Z,"### :speech_balloon: Description
'Failed To Load Dashboard' popup displays some errors in the console  
### :computer: Environment
- **Safari, 11.1**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
- Create New Dashboard and Edit Title
- Add Chart to Dashboard ( Type: Bar | Data Source: 'flights' | Dimension: 'airtime' | Measure Width: # Records)
- Save Dashboard
- Copy Dashboard Url, open a new tab in browser and paste the url in the new tab (2 tabs with the same dashboard)
- Navigate back to Dashboards and delete the newly created Dashboard
- Open up the second tab that still contains the Dashboard prior to deletion and refresh the page
- **Actual result:**
'Failed To Load Dashboard' error popup appears, but the 'No' and 'Report' buttons fail to navigate away from page. 
- **Expected result:**
'No' button returns the user back to the list of Dashboards. 
'Report' button navigates to the error report page. 

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

![Deleted Dashboard.gif](https://images.zenhubusercontent.com/5b05a3aa4b5806bc2bd45a14/bcb9bd83-4d8c-4c6f-902b-ba86570ca7ea)

![Screen Shot 2018-05-24 at 12.43.41 PM.png](https://images.zenhubusercontent.com/5b05a3aa4b5806bc2bd45a14/0804709a-d2f8-4d98-9356-198f76834838)
### :memo: Other Info
In this scenario an error report may not be appropriate since the Dashboard no longer exists.",AlexHarutyunyan,"P4,bug,found during 4.0",,
Stacked Bar: auto rotate x axis labels,4533,,2018-05-24T23:58:50Z,2018-05-31T19:24:48Z,"### 💬  Description
New `mapd3` feature to allow `config.labelsAreRotated` to have an ""auto"" option.
 
### 📄 Github Issue
Closes #4416 

### :camera_flash: Screenshot",clhenrick,,AlexHarutyunyan,"**Immerse**: http://immerse-4533.dev.frontend.builds.mapd.com

,mapd-bot
**Immerse**: http://immerse-4533.dev.frontend.builds.mapd.com

,mapd-bot
@clhenrick the labels are rotating, but there are some instances of overlapping if the values are not clearly long or short enough to fit ('origin' in 'flights' has 3 characters).
![screen shot 2018-05-30 at 9 41 33 am](https://user-images.githubusercontent.com/39566471/40734630-d7f14e48-63ed-11e8-96bd-73dce556654d.png)
,AlexHarutyunyan
thanks @AlexHarutyunyan I'll take a look,clhenrick
**Immerse**: http://immerse-4533.dev.frontend.builds.mapd.com

,mapd-bot
@AlexHarutyunyan let me know if this latest change fixes the issue for you.,clhenrick
@clhenrick Heya Chris, I spotted an issue with the city names that have spaces in them. 
![screen shot 2018-05-30 at 1 43 29 pm](https://user-images.githubusercontent.com/39566471/40748053-14dd5eac-6414-11e8-9df9-a6902d5ec522.png)
,AlexHarutyunyan
@AlexHarutyunyan that's actually a feature right now in mapd3, when labels are a certain width every other one will be skipped.,clhenrick
@clhenrick Aa ok gotcha, thanks! It's looking ok right now, just have to check on all the browsers in that case. ,AlexHarutyunyan
**Immerse**: http://immerse-4533.dev.frontend.builds.mapd.com

,mapd-bot
**Immerse**: http://immerse-4533.dev.frontend.builds.mapd.com

,mapd-bot
**Immerse**: http://immerse-4533.dev.frontend.builds.mapd.com

,mapd-bot"
Turning off binning on geo table hangs immerse.,4524,,2018-05-23T22:19:58Z,2018-05-30T17:57:19Z,"### :speech_balloon: Description
Turning off binning on geo table hangs immerse.

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
- Go to Kali
- Create histogram (nyc_buildings) has to be geo table
- heightroof vs #Records
- Turn off binning on heightroof.

- **Actual result:**
Immerse hangs
- **Expected result:**
Should render correctly.

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

### :memo: Other Info",menaczar,"P2,bug,found during 4.0",alexbaden,
Stacked Bar: Fix Aggregate Measures,4523,,2018-05-23T22:05:19Z,2018-05-30T17:54:40Z,"### 💬  Description
Only construct the SQL subquery for topN when a 2nd dimension is enabled by the user, handle a custom measure.

### 📄 Github Issue
Closes #4518 
Closes #4520 

### :camera_flash: Screenshot",clhenrick,,AlexHarutyunyan,"**Immerse**: http://immerse-4523.dev.frontend.builds.mapd.com

,mapd-bot
**Immerse**: http://immerse-4523.dev.frontend.builds.mapd.com

,mapd-bot
It works well. The only one that is broken is stddev: `Exception: Aggregate function STDDEV not supported`. It's weird because if I run the query in the sql editor, it returns some values
```
SELECT payment_type AS key0, stddev(fare_amount) AS val FROM nyc_taxis_1M_enriched  GROUP BY key0 ORDER BY val asc LIMIT 5
```
<img width=""743"" alt=""screen shot 2018-05-24 at 1 21 06 pm"" src=""https://user-images.githubusercontent.com/824534/40501265-5bbc83c0-5f55-11e8-8be1-1b7cce3fd185.png"">
,biovisualize
**Immerse**: http://immerse-4523.dev.frontend.builds.mapd.com

,mapd-bot
@biovisualize it seems to be an issue with the backend when using `stddev` in a subquery. Guess it will remain a known bug for now as I didn't get a straight answer from PM on what to do about it. ([link to Slack discussion](https://mapd.slack.com/archives/C02QMNKU8/p1527116004000224))

@jrajav made some updates as per your review.,clhenrick
But why does the same query works in the sql editor?,biovisualize
@biovisualize that's not the same query. The query that fails is the one with the subquery:

```sql
    SELECT
        dest_city AS key0,
        CASE 
            WHEN carrier_name IN  ('Delta Air Lines',
            'United Air Lines',
            'American Airlines',
            'US Airways',
            'Southwest Airlines')  THEN carrier_name  
            ELSE 'other'  
        END AS key1,
        stddev(arrdelay) AS val  
    FROM
        flights  
    WHERE
        (
            dest_city IN (
                SELECT
                    dest_city 
                FROM
                    flights 
                GROUP BY
                    dest_city 
                ORDER BY
                    Stddev (arrdelay) DESC LIMIT 98 
            )  
            OR dest_city IS NULL
        )  
    GROUP BY
        key0,
        key1
```,clhenrick
**Immerse**: http://immerse-4523.dev.frontend.builds.mapd.com

,mapd-bot
Cool. Let's move it to QA and @niviksha can decide if `stddev` being broken is a blocker, should be hidden or could be noted in the known issue.,biovisualize
**Immerse**: http://immerse-4523.dev.frontend.builds.mapd.com

,mapd-bot
retest this please @mapd-bot ,clhenrick
**Immerse**: http://immerse-4523.dev.frontend.builds.mapd.com

,mapd-bot
**Immerse**: http://immerse-4523.dev.frontend.builds.mapd.com

,mapd-bot
Hey @AlexHarutyunyan feel free to retest this, thanks!,clhenrick
@clhenrick Hey Chris,
I checked MIN, MAX, SUM, AVG, APPROX_COUNT_DISTINCT, STDDEV in the custom measure field. They all yield results except STDDEV (as expected).
Oddly enough the APPROX_COUNT_DISTINCT custom measure give no errors, but the '# Unique' from the drop down menu does.

I haven't gotten a chance to check the bug Christophe submitted in all the browsers, but when I checked against the Master the bars that were missing appear now. I just need a bit more time to check this. I'll continue checking tomorrow so we can move to merge. @biovisualize 

There are quite a few features that seem to be effected by the STDDEV Issue. The Null Dimension button, 'All Others' in the Color Palette, '# Of Groups', Asc. Dsc. with # of Records in the sorting. 

Here are some common error messages I've been seeing in the console:
![screen shot 2018-05-25 at 6 49 54 pm](https://user-images.githubusercontent.com/39566471/40571785-fbf856a8-6053-11e8-9133-b30cc6842ecd.png)

![screen shot 2018-05-25 at 6 36 47 pm](https://user-images.githubusercontent.com/39566471/40571847-0977f26a-6055-11e8-9e5d-39c18e23eb93.png)

![screen shot 2018-05-25 at 6 39 55 pm](https://user-images.githubusercontent.com/39566471/40571812-5844cedc-6054-11e8-82f4-7e2cd6461b5d.png)

![screen shot 2018-05-25 at 6 40 45 pm](https://user-images.githubusercontent.com/39566471/40571778-e82bfff8-6053-11e8-8edb-57055873c0ec.png)
,AlexHarutyunyan
@AlexHarutyunyan thanks again for testing. I'm not getting any of those errors you're seeing other than the `STDDEV` one when replicating the same chart. Let's sync up IRL on tuesday to see if we can figure out what's going on.,clhenrick
@AlexHarutyunyan I just pushed a fix to the errors you identified above, not including the `stddev` one, let me know if they still persist.,clhenrick
**Immerse**: http://immerse-4523.dev.frontend.builds.mapd.com

,mapd-bot
@clhenrick 
I haven't been able to reproduce most of the error messages I was previously seeing (besides the stddev one).
There is one scenario that I thought was worth pointing out. There are certain instances of custom measurements that shouldn't produce results, but also don't generate the appropriate error message. 

![screen shot 2018-05-29 at 7 25 24 pm](https://user-images.githubusercontent.com/39566471/40695434-14a91d66-6376-11e8-83f2-c4d06f2d560d.png)

'all(airtime)' also generates this sort of error.
,AlexHarutyunyan
thanks @AlexHarutyunyan I'll take another pass looking at the error handling for custom measure.,clhenrick
@AlexHarutyunyan I pushed a fix for the error handling for custom measure, let me know if this is resolved for you.,clhenrick
**Immerse**: http://immerse-4523.dev.frontend.builds.mapd.com

,mapd-bot
**Immerse**: http://immerse-4523.dev.frontend.builds.mapd.com

,mapd-bot"
[stacked bar] doesn't seem to work with custom measures,4520,[object Object],2018-05-23T17:34:01Z,2018-06-05T19:18:07Z,"### :speech_balloon: Description
Maybe I'm doing it wrong, but all the custom measures I try fail. It's normal for categorical measures as there's an issue with it anyway, but numerical should work.

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
- set-up a stacked bar chart as in the screenshot
- **Actual result:** fails with error `Exception: Exception occurred: org.apache.calcite.runtime.CalciteContextException: From line 6, column 10 to line 6, column 34: No match found for function signature Custom(<NUMERIC>)`
- **Expected result:** should work the same as when using the measure directly

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots
<img width=""1674"" alt=""screen shot 2018-05-23 at 1 29 58 pm"" src=""https://user-images.githubusercontent.com/824534/40440968-8f0b2114-5e8d-11e8-9587-ecc281e5a096.png"">

### :memo: Other Info",biovisualize,"P1,bug,found during 4.0,stacked-bar-chart",clhenrick,"#4523 should fix this one as well.,clhenrick
Hi guys,
The custom commands seem to work when a Color Dimension is not added. When I add a Color Dimension the custom command no longer seems to work. The same measure from the dropdown menu gives results. The 'Sort By Asc./Dsc.' area to the right is also impacted. 

My setup was -
Source: flights
Dimension X Axis: origin
Dimension Color: carrier_name
Measure: airtime

![screen shot 2018-05-25 at 9 58 27 am](https://user-images.githubusercontent.com/39566471/40556941-4d4c9f56-6003-11e8-90e3-c12910a8af02.png)
![screen shot 2018-05-25 at 9 59 23 am](https://user-images.githubusercontent.com/39566471/40556942-4d621f48-6003-11e8-89ad-b658f1b7639c.png)
![screen shot 2018-05-25 at 10 01 03 am](https://user-images.githubusercontent.com/39566471/40556943-4d7a14a4-6003-11e8-9b22-bcef27e2c8ba.png)
,AlexHarutyunyan
thanks @AlexHarutyunyan, I'll take a look.,clhenrick
@AlexHarutyunyan I just pushed a fix for the error you found. Please test it again once the CI Build has finished in the PR.,clhenrick"
[stacked bar] Inconsistent measure aggregations,4518,[object Object],2018-05-23T15:06:47Z,2018-05-31T15:05:46Z,"### :speech_balloon: Description
I would expect to see bars or at maybe a value of 0 when using min, avg and other aggregations that currently just doesn't show any bars. Maybe we are filtering out zeroes as if they were nulls. There are some values on `max`, so the values are definitely not just nulls.

A separate issue in the same area is `stddev` aggregation gives an error: `Exception: Aggregate function STDDEV not supported`

`# unique` also gives an error: `Exception: Parse failed: Lexical error at line 1, column 292.  Encountered: ""#"" (35), after : """"`

These 2 errors could be extracted into separate tasks.

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: 
https://github.com/mapd/mapd-immerse/pull/4511
chrish/stacked-bar-4435

### :page_with_curl: Steps To Reproduce
- set-up a stacked bar chart with for example flights, dest_city, carrier_name, arrdelay
- try all aggregation types for arrdelay
- **Actual result:** all aggregation should give a meaningful results
- **Expected result:** some errors-out, some gives empty bars, some seem ok (like max)

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots
<img width=""1191"" alt=""screen shot 2018-05-23 at 10 56 51 am"" src=""https://user-images.githubusercontent.com/824534/40433080-27e47b70-5e79-11e8-9d12-052f9a34be78.png"">
<img width=""1680"" alt=""screen shot 2018-05-23 at 10 56 29 am"" src=""https://user-images.githubusercontent.com/824534/40433081-27fbcafa-5e79-11e8-88b4-4432e585c8c1.png"">
<img width=""1680"" alt=""screen shot 2018-05-23 at 10 56 21 am"" src=""https://user-images.githubusercontent.com/824534/40433082-280dbd46-5e79-11e8-906c-58ec4c689b5a.png"">
<img width=""1672"" alt=""screen shot 2018-05-23 at 10 56 06 am"" src=""https://user-images.githubusercontent.com/824534/40433084-28217c8c-5e79-11e8-8be7-e2a674faeb34.png"">
<img width=""1679"" alt=""screen shot 2018-05-23 at 10 55 58 am"" src=""https://user-images.githubusercontent.com/824534/40433085-2833d4f4-5e79-11e8-953d-ec5fda01a1a4.png"">
<img width=""1678"" alt=""screen shot 2018-05-23 at 10 55 35 am"" src=""https://user-images.githubusercontent.com/824534/40433086-28541890-5e79-11e8-98a2-b89a1db22e00.png"">


### :memo: Other Info",biovisualize,"P1,bug,found during 4.0,stacked-bar-chart",clhenrick,"Part of the problem was that the sub-query was still being used even when the 2nd dimension wasn't enabled.

The issue with `stddev` in the last screenshot seems to be a backend limitation, will require more investigation.,clhenrick
@clhenrick I think you are working on this one, so I'm moving it to In Progress,biovisualize"
Ideas for new chart editor panel,4517,,2018-05-23T01:17:57Z,2018-05-24T17:25:57Z,"### :speech_balloon: 

Conceptual for future discussions.  - The following mockup is only to start discussions of what improvements we might make in the future to the chart editor panels. Please don't take anything in these screens as planned work. 

![2 y axis copy](https://user-images.githubusercontent.com/37127288/40398352-6ba40138-5dec-11e8-930f-8a5fb16ecfb9.png)


Some of the ideas in this design:

1. Combining the most if not all of the right panel content into a more contextual left panel.
2. (not really depicted here), identifying Dashboard versus individual chart data source(s). Basically allowing the user to set a dashboard source file as the default that is used in most of the charts so the user doesn't have to keeps looking for and selecting the same data set.
3. (also not really depicted here very well) show dashboard applied filters.
4. Have chart type selector. An idea here is that we could potentially do progressive disclosure of what objects need or can be included based on the type of chart the user selects. Example if the user select the number chart we could hide the dimension selector. *Note that we currently do a decent job of telling the user the differences with a tool tip. If we turned this information into logic we could guide the user through chart set up and chart changes.
5. Under Dimension use a date range as a default. Basically any chart that is based on trend or time/date comparison.  Also identifying not only the date range but also the date aggregate that we would display by default. (currently presented as Bins). This selector would be mirrored in the chart presentation area as well. 
6. For measures we  would continue to provide calculation type in addition to formatting, chart selection (when it makes sense to do so) chart color selector, and if additional filtering was applied.
7. In use cases like combo charts we could have the additional set for the second Y axis.
8. In the chart the color would be indicated with the Y labels. 
9. The y Labels would also display the calculation type.

Please do poke holes and provide ideas. Treat this issue as an open forum for UX ideas and improvements.",Christian-Baptiste,,Christian-Baptiste,"Posting these links so we don't lose track of previous work that was done on measure formatting. 
https://sketch.cloud/s/pYgyZ
https://sketch.cloud/s/zy0JM,Christian-Baptiste
Lots of interesting ideas. 

### Information architecture
One thing we could work on is the **information architecture**. For example, I like the current separation between data and visual options. But various attributes around color can be set from both the data and visual options panel. And some data attributes like number of groups are in the visual options panel.

It would be fun to try a typical information architecture card sorting using the current set of options we have, like:

DATA SELECTION
**Schema**
* Source
* Dimensions
* Measures
* Custom SQL

**Data Types**
* Categorical
* Time
* Numerical

**Data Transform**
* Top n
* ""All Others""
* Nulls
* Cap, number of groups/points
* Binning (time, numerical)
* Aggregation (sum, avg, max, min)

VISUAL CONFIGURATION
**Chart types**
* Cartesian (line, bar, combo, histo, row, scatterplot, heatmap)
* Maps (choropleth, geo heatmap, pointmap)
* Pie
* Table
* Text
* Number
* Preset/auto (comparison, trend, distribution, ratio)

**Data mapping**
* Color assignment (1 to 1, palette)
* Color by dimension
* Line style
* Axis orientation
* Sort
* Tooltip

**Map specific visual attributes**
* Point size
* Basemap, map theme
* Mark/bin shape
* Density gradient
* Bin pixel size
* Geo JSON selection

### UI component library
Another discussion to have is the pros and cons of using a UI framework vs very specific custom widgets.

### Flattening nested widgets
One related exercise would be to try flattening the UX flow. We have a lot of nested widgets, like opening a selector that opens a series of contextual selectors. We also have this pattern in the global filters. I can see how it makes things more compact, but it also means that we have a lots of modes and contexts, which translates to some cognitive load on the user and to complex state management on the implementation side.

Nested widgets in filter
![filter_context](https://user-images.githubusercontent.com/824534/40492143-da5adbc2-5f3d-11e8-9f53-7227ccc86f73.gif)

Nested widgets in one of the various mode of the color palette
![color_context](https://user-images.githubusercontent.com/824534/40492150-ddbd9a02-5f3d-11e8-9491-dd0bf901f899.gif),biovisualize
Just for the sake of brainstorming, maybe some ideas could be taken from a quick geekout a made a few months ago: [mapd-b.pdf](https://github.com/mapd/mapd-immerse/files/2035953/mapd-b.pdf)
,biovisualize"
[Geo import] Add support for dual lon / lat column type to table importer,4515,,2018-05-22T22:00:10Z,2018-05-22T23:52:41Z,"### :speech_balloon: Description

Allow choosing a lon / lat or a lat / lon column type in the preview of the table importer, which will consume the following column as well creating a dual longitude / latitude or latitude / longitude Point-type geo column.

The header for the columns should somehow indicate they are paired together (one way might be to indicate Latitude and Longitude as lighter, grey sub headers and have the main header only on the left column).

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
-
- **Actual result:**
- **Expected result:**

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

### :memo: Other Info",jrajav,"geospatial,import",clhenrick,"Clarifying that this will in fact does mean that two separate lat lon columns become a single mapd_geo column with the geometry type of Point.,clhenrick
But that this is not a requirement for 4.0 so we should probably punt it to 4.1 which will give us some time to figure out the UX. 

cc @Christian-Baptiste ,clhenrick
Noting result of discussion from Slack, this is being descoped for now since we need to more carefully consider the technical approach for this, and then once that's determined, the UX and frontend design.

It's possible we drift towards a different approach that does not impose the adjacent-column restriction to simplify things, but this requires backend work to be possible.,jrajav"
[Design spike] Consolidate chart types,4513,,2018-05-22T15:01:18Z,2018-05-22T15:03:25Z,"### :speech_balloon: Description
We have multiple chart types that are in fact variants of the same base type. The most obvious is row chart, histogram, stacked bar, combo chart (with simple and grouped bars). We also are in an intermediate stage where the line chart is not yet removed from the UI, even though it is fully replicated by the combo chart (task #4050). Another example is scatterplot and bubble chart. They have different implementations, but from the user standpoint, they could be treated as variants.

One way of consolidating the chart types, from a conceptual standpoint without thinking of implementation constraints, could be to have 3 base charts: geo, categorical and continuous

**Geo**
It's clear how all of our maps are of the geo type. Small detail: from implementation standpoint, the scatterplot is backend-rendered and some of its feature visually show that it is somewhat related. 

**Categorical**
The row chart, pie chart and stacked bar charts have categorical data on their primary axis.

**Continuous**
Scatterplot/bubble, combo, histogram, have a continuous primary axis, which can be time, numerical or a binning of those (which could still be considered a discretization of a continuous space rather than an ordinal dimension).

### Acceptance criteria
Documenting alternatives (in text, wireframes or mockups) to the current presentation of our chart types in a way that can lead to discussions and decisions.",biovisualize,design,Christian-Baptiste,"@Christian-Baptiste Let me know if you need more info on this task. It's basically a redesign of our choice of chart types in the chart editor. It's just a heads-up though as it needs to get prioritized by PM. cc @niviksha ,biovisualize"
Encrypt passwords over network calls.,4507,,2018-05-17T22:12:47Z,2018-05-17T22:13:48Z,"### :speech_balloon: Description
Encrypt passwords over network calls.

Passwords are sent as plain text over network. Might be security concern for some users.

### :camera_flash: Screenshots
<img width=""645"" alt=""screen shot 2018-05-17 at 3 13 14 pm"" src=""https://user-images.githubusercontent.com/16374964/40206414-db89316e-59e4-11e8-95e3-310f088f7be5.png"">

### :memo: Other Info",menaczar,enhancement,,"wrong screen shot posted. updated now ,menaczar"
"Combo line chart and date time interval overlap - Safari, Edge, Explorer",4501,,2018-05-16T02:55:53Z,2018-05-31T03:22:53Z,"### :speech_balloon: Description
Currently when user creates a line graph in combo charts there would be an overlap between line chart and date time interval. 

### :computer: Environment
- **Browser Name, Version**:  Safari, Edge, Explorer
- **mapd-immerse Version or Branch**: minos

### :page_with_curl: Steps To Reproduce
- Create a Combo chart with the following:
Dimension - X-axis: `arr_timestamp (auto-binning)`
Measure: `record`

- **Actual result:**
Line graph overlaps with date time interval (right hand corner)

- **Expected result:**
no overlap

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots
![screen shot 2018-05-15 at 7 55 38 pm](https://user-images.githubusercontent.com/35040876/40094115-f7691938-5879-11e8-8ace-c897e8e22dc2.png)


### :memo: Other Info
Issue is not present in the demos.",ericli5454,"P3,bug,found during 4.0,regression",,"adding in @niviksha ,ericli5454
ugly, but not worth holding up release for,niviksha"
Unable to grant create dashboard to role,4497,,2018-05-15T00:06:53Z,2018-05-15T16:31:15Z,"### :speech_balloon: Description
Currently we are unable to grant create dashboard privileges to a role. After granting create dashboard to role and logging to a user who has been assigned to role, create dashboard button does not appear.

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
In sql editor
- Assign user to role  - grant `role` to `user`
- Grant create dashboard on database `db`  to `role`
Login as user
- **Actual result:**
New Dashboard button does not appear

- **Expected result:**
New Dashboard button appears in dashboard list page

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

### :memo: Other Info",ericli5454,"dashboard-sharing,design",,"Adding in @wamsiv  @jrajav ,ericli5454
@ericli5454 @jrajav There's an open question regarding backend returning permissions of users assigned to a role along with the role. Currently, backend returns only privileges associated with the role, not any users associated with it. That is the reason you don't see a button, but you would be successfully able to create a dashboard with `user`,wamsiv"
Mapd3 + Crossfilter design spike and example,4496,,2018-05-14T22:47:59Z,2018-05-29T23:59:28Z,"### :speech_balloon: Description
Carlson Capital would like to have a combo chart but still using Crossfilter instead of mapd-data-layer, so they can just plug it in their current setup. The best would probably be to wrap the mapd3 combo chart in mapd-charting, a bit like we are currently doing for the cross-filtering side of combo chart. 

Questions from MikeG, *answers by @biovisualize*:
1. Can we do combo chart with mapd-charting, or do we need mapd3? *No*
2. If mapd3, can we tie it into crossfilter? *It should be possible. We need to try it*
3. Can you somehow do joins in crossfilter? *I don't know Crossfilter enough to answer*

cc @MarcBalaban",biovisualize,,,"Referencing this issue from mapd3 https://github.com/mapd/mapd3/issues/33,biovisualize
More insights from a meeting with Carlson.

They have a custom app using vanilla js just to glue together our components. They have a very specific dashboard using line, row and pie charts connected to a single Crossfilter. They need the quickest way to get a 2nd line and a 2nd axis to their line chart, regardless of how they could use a more scalable pattern in the longer term.

The simplest solutions are:
* try to add a 2nd line and axis using [dc.compositeChart](https://dc-js.github.io/dc.js/docs/html/dc.compositeChart.html). I started an [example](https://github.com/mapd/mapd-charting/blob/chrisv/example-multi-axis/example/example_multi-axis.html) to try that last year.
* use mapd3 + mapd-data-layer the same way we do in Immerse. Although we will need to show an example of using Crossfilter for cross-filtering, as we are currently using it with React/Redux.
,biovisualize
@biovisualize looks like there's a `useRightYAxis()` option in DC that could work. Here's an example chart: https://github.com/dc-js/dc.js/blob/develop/web/examples/right-axis.html

I'll look into seeing if I can get it to work where you left off.,clhenrick
@biovisualize update: I started looking into the composite chart option in our version of DCJS and it seems that part of the code hasn't been updated since the repository was re-structured on Apr 26, 2017: https://github.com/mapd/mapd-charting/commits/master/src/charts/composite-chart.js so I'm not very confident that it will work, but could be wrong. I haven't made much progress by following the DCJS example for composite charts / dual y axises.,clhenrick
@biovisualize @clhenrick 
I'd be weary of going down the **""try to add a 2nd line and axis using dc.compositeChart. I started an example to try that last year.""** route.  

Although it might be the fastest implementation, Carlson expressed that they would like integration with whatever charts we release moving forward;  Because new charts will be put in MapD3 -- it would make sense to offer that bridge between MapD-Charting + MapD3.

I think @biovisualize suggestion of **""use mapd3 + mapd-data-layer the same way we do in Immerse. Although we will need to show an example of using Crossfilter for cross-filtering, as we are currently using it with React/Redux.""** is the best approach as it will help Carlson adapt to both MapD3 charts and will support future customers to create custom apps with the Immerse chart offering.

@miiklay might want to chime in as he's had the most contact with them.,MarcBalaban"
Tiny Immerse demo,4495,,2018-05-14T22:41:50Z,2018-05-14T22:43:12Z,Make a tiny Immerse from scratch as testbed for pure react / redux patterns on top of mapd3 and mapd-connector. Will also support work in #4494,jrajav,"demo,tech",jrajav,
Openlayers / MapD demo,4494,[object Object],2018-05-14T22:40:26Z,2018-06-05T20:16:25Z,,jrajav,"demo,tech",uyanga-gb,
Dashboard Management,4492,,2018-05-14T21:07:17Z,2018-05-14T21:07:18Z,"### :speech_balloon: Description

Not slated for any release yet:

As user create more and more dashboards, tools to manage their dashboards will become necessary. This Issue will start to describe some of the initial thoughts and ideas around this topic. Eventually this issue might evolve into an Epic.

Ideas:
(BTW) many of these ideas could also work on the Data Manger Screen and a future chart/report manager screen.

- Sorting
- Filtering
- Searching
- Saved Views (combination of sort, filter and display settings)
- Pre filters (things like: Recents, Favorites, Shared with me, Shared by me, etc.)


- Different presentation styles, cards displayed with some type of grid system, current data grid/table. 
- Thumbnail images of the reports 


Advanced features:
- Auto Perge
- Reassign Dashboard to someone else
- Tagging system
- Foldering system 


### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
-
- **Actual result:**
- **Expected result:**


### :memo: Other Info",Christian-Baptiste,"Design System,charts-ux,design",Christian-Baptiste,
Re-use dashboard state when saving a new dashboard for the first time,4483,,2018-05-10T23:10:24Z,2018-05-11T18:10:46Z,"### :speech_balloon: Description

Currently, the dashboard is reloaded and re-initialized when saved and given an ID for the first time.

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
-
- **Actual result:**
- **Expected result:**

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

### :memo: Other Info",jrajav,dashboard-sharing,,
Design spike on line chart null values,4480,,2018-05-10T19:52:16Z,2018-06-08T00:42:30Z,"### :speech_balloon: Description
A feature request from a client, https://github.com/mapd/mapd-immerse/issues/4270, started a discussion about the various ways to represent the null values (dropping to 0, gap, dots, etc.). This task is for documenting the ideas around that and generate any artifact that can help us make a decision on the best way to handle the various needs.

### Acceptance criteria
* Document the needs an ideas that doesn't already exist in the related issue https://github.com/mapd/mapd-immerse/issues/4270
* generate some mockups or any document to help with decision",biovisualize,design,Christian-Baptiste,"@niviksha feel free to set the priority level of this design task,biovisualize
For my own benefit - I didn't want to lose the conversation that we had in Slack.
I will delete this post after the design is finished. 

christian baptiste [11:15 AM]
uploaded and commented on this image: @chrisv 


![image](https://user-images.githubusercontent.com/37127288/39900374-548e7958-5476-11e8-9898-43b09cef9e7a.png)

I like the trend line with the dots for the data points. I was going to suggest this so I am glad that you were thinking the same and that you were able to implement it.

This being said I am a little confused by the data that I did a screen capture for.  My assumption in looking at this example is that there were 3 days (or what ever time aggregate for the points) that are missing. My question is, if they are missing why do we have a slight increase on null point 1? Why a even higher increase on null point 2? Null point 3 looks even with 2 so that seems correct.

christian baptiste [11:17 AM]
@chrisv Should the points just level out with the last real data point?

jonathan [11:17 AM]
It looks more like there are 4 days missing and those ‘null points’ are actually *non*-missing points

christian baptiste [11:18 AM]
Not sure I understand
non-missing points?

jonathan [11:19 AM]
Count forward from Feb 25 - the missing points seem to be Feb 28, Mar 2, Mar 4, and Mar 6
Mar 1, Mar 3 and Mar 5 are all actually there, with those values though (the single dots)
So, there doesn’t seem to be an ‘increase on null points’, it’s actual data

christian baptiste [11:21 AM]
I can see the middle point having data and being surrounded by missing data on the outsides, thus the increase for the third point, just not the slight increase on Feb 28

jonathan [11:22 AM]
Feb 28 is missing though. The increase lies in actual data

christian baptiste [11:22 AM]
Maybe we are reading this different.

jonathan [11:22 AM]
Look closely at the spacing of the data points
There are twice as many as you are reading, I think
And count the days between each tick

christian baptiste [11:23 AM]
So the lack of a point is the null

jonathan [11:23 AM]
Right. Imagine invisible dots in each space

christian baptiste [11:23 AM]
and the point is a entry

jonathan [11:23 AM]
Right

christian baptiste [11:25 AM]
ah, not what I was expecting. I was assuming the points were places for each expected data point. the connecting line would indicate if there was continuous data or if the data was missing.
By doing what I described it would give the user a click point to see the hover label indicate missing data.
hmmm.  Maybe the lack of a line is indication enough and the user would just know there was missing data.

jonathan [11:27 AM]
You’re expecting that we extrapolate?
Wouldn’t that normally be indicated by something more like a dashed or faded line?
(Also, I think, not really the scope of this effort)
But yeah I think the expectation here was mainly to make it act like Excel charts that merely elegantly show the missing data in this way for these kind of measures, rather than drawing a line down to zero

christian baptiste [11:28 AM]
No, not necessarily, because missing data  (and why) is still interesting. Having points for where expected data should be gives the user a place to click/hover to get the additional information

chrisv [11:29 AM]
This points are actual data points surrounded by nulls

christian baptiste [11:29 AM]
Right. We don’t want to assume that we should zero out the data.

chrisv [11:29 AM]
The nulls are just invisible. You can see them on the tooltip if you hover their position

christian baptiste [11:30 AM]
ah, okay. thought that might not be immediately discoverable

chrisv [11:30 AM]
> We don’t want to assume that we should zero out the data
That’s exactly the feature Verizon want, not have nulls replaced by zeros

christian baptiste [11:31 AM]
I was thinking that we could have two types of data point circles. solid and outline. The only problem is when they are really small the user might not be able to see the difference

jonathan [11:31 AM]
Yeah, imagine that on the above screenshot - much more busy

christian baptiste [11:31 AM]
Right I got that this was the request.

chrisv [11:31 AM]
As @jonathan mentions, there can also be a confusion over when the data point is null and when there’s no entry for this timestamp.

christian baptiste [11:32 AM]
Maybe if I play with it it would make more sense. I totally didn’t know you could hover on the blank areas

jonathan [11:32 AM]
Umm yes that’s also valid actually, but I was actually mentioning more that we should probably indicate if there’s no value for a tick and we’re just guessing it
Rather than act like it’s also a data point

christian baptiste [11:34 AM]
Great Jonathan, you just made something simple so complicated. JK!
Hover on the blanks might be enough to connect the dots (no pune intended)

chrisv [11:36 AM]
IMO, interpolating or visually linking is misleading as it kind of invents data points. But you can see on the issue’s screenshot that Excels provides it as an option (as well as zeros and gaps).

jonathan [11:37 AM]
It can be useful if seeing trends in incomplete data is your goal

christian baptiste [11:38 AM]
I definetely understand why users would want it to zero out and in other cases why they would not. Missing data is something that you often want to address and have that jump out at you. So in those cases zeroing still makes sense.

chrisv [11:38 AM]
A trend is an abstraction of the data. The best is to show the gaps in a way that you don’t visually lose the trend.

jonathan [11:38 AM]
Is zeroing the right thing to do in that case? Seems like a nonideal interpolation function …

chrisv [11:39 AM]
I’m used to see handling missing data at the data level. I think we have a way to do it on data import.

todd [11:39 AM]
As mentioned, on sum or count you’d often want to 0
Avg min max no

christian baptiste [11:39 AM]
In the case where you are really more interested in the trend than seeing the gap (i.e. Verizon’s use case) without zeroing makes sense

chrisv [11:40 AM]
@todd I see 2 simple ways:
* Doing it on data import

todd [11:40 AM]
Not sure there is a clean way to do it on import, typically depends on the bin size used

chrisv [11:40 AM]
uploaded this image: Screen Shot 2018-05-09 at 2.39.57 PM.png 


chrisv [11:41 AM]
* for aggregation, I guess doing it as a custom measure

christian baptiste [11:41 AM]
I don’t like on data import because there is use cases for both when visualizing the data.

chrisv [11:41 AM]
* or on calculated columns on a data manager
* as a config switch in the chart editor. MapD3 has an option to enable converting nulls to zeros now

todd [11:42 AM]
Ideally it’s an option on the aggregate

christian baptiste [11:42 AM]
Agreed

todd [11:42 AM]
You could default count and sum to showing 0
And not for the other aggregates

christian baptiste [11:44 AM]
right.

todd [11:44 AM]
Or just default one way or the other
Frankly if it’s something like revenue or number of users the sensible thing is to show 0 for no data

christian baptiste [11:45 AM]
The one thing I wanted to be careful of is not offering a choice to the users.

jonathan [11:45 AM]
Yes but it actually seems like it’s not as bad to show missing for count and sum aggregates than it is to show 0 for avg
So probably missing should be the default

todd [11:58 AM]
Ok, @christian baptiste are you doing designs? Also need from @mythili on if this is a blocker.
We have to be careful imo as changing the default without a way to make it an option will be a regression for some users

christian baptiste [12:00 PM]
I agree, and yes I will work on designs for this.

chrisv [1:14 PM]
uploaded and commented on this image: Screen Shot 2018-05-09 at 4.13.17 PM.png 

Multi line chart with gaps for null values and dots for isolated data points
![image](https://user-images.githubusercontent.com/37127288/39900408-8fdd630c-5476-11e8-85f9-7b97958d2458.png)

clhenrick [1:30 PM]
looks pretty

todd [1:44 PM]
That’s nice Chris!,Christian-Baptiste
@biovisualize I think this was implemented, should this issue be closed?,clhenrick
#4270 was implemented, but this is a follow-up design discussion for exploring other cases than simply not showing the null values. I will let @Christian-Baptiste close it when he's ready. The acceptance criteria is to document some alternatives or to decide to not explore further.,biovisualize"
"Selecting ""Duplicate"" pops a modal that allows the user to keep the appended (copy) as the name or the ability to rename the dashboard to something new",4479,,2018-05-10T19:04:35Z,2018-05-14T18:35:50Z,"### :speech_balloon: Description

MVP - when a user chooses to duplicate a dashboard (assuming they have permission to do) the duplicate shows up the in the dashboard list as ""originalName(copy)"". If the user is not satisfied with the ""(Copy)"" appended as the new name they can then select the dashboard and rename it.

This MVP flow can be seen starting with slide 30 from [The DM-Permission-Sharing ISG First Drop Prototype](https://invis.io/MPIGRA7BGXF). 

- The enhancement for this workflow would be as follows:

1 - A user selects a dashboard and chooses to duplicate it

2 - Rather than placing the new duplicate in the list view with ""OriginalName(Copy)"", instead we would launch a ""Duplicate"" modal that shows the name field with the ""OriginalName(Copy)"" pre-populated and highlighted. 

3 - the user has two choices. Choice A is to simply select the done button (or enter keystroke) and keep the ""OriginalName(Copy)"" name or Choice B, they rename the dashboard to a new more meaningful name then click done.

To see the enhanced flow: Look for the easter egg targets on Slide [31](https://invis.io/MPIGRA7BGXF).  just below the grid on the right side. 

- **_In short the enhanced modal is basically duplicate and rename in a single modal._**

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
-
- **Actual result:**
- **Expected result:**

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

### :memo: Other Info",jrajav,dashboard-sharing,,
"Download via S3 holds incomplete connection open until all files are processed, and no feedback to the user is given in the event of failure",4477,,2018-05-10T16:48:23Z,2018-05-10T16:51:45Z,"### :speech_balloon: Description
The S3 download UI sends a `detect_column_types` Thrift request, presents a blue spinner to the user, and waits for a response.

In cases where many files are being downloaded from S3, the response to this request may take minutes or even hours. In non-local environments or environments using reverse proxies and load balancers, idle connections are dropped after a configurable timeout in order to conserve resources. Keeping a connection open like this is not expected and usually indicates a problem with the application (from a reverse proxy / load balancer perspective) because this looks the same as something on the back end timing out due to a problem - there is no way to distinguish. 

For example, the default Apache timeout for idle connections is 5 minutes, and in MapD Cloud loading S3 files that takes more than 5 minutes causes a 504 Gateway Timeout error. There is no feedback to the user about this and they continue to see the spinning blue disc forever until they refresh. Unless they are monitoring the Thrift calls they will never know what is going on. We have, for now, worked around this issue by increasing the timeout to 30 minutes, however this is not a recommended practice as it can lead to exhausted resources if there are legitimately hung services on the back end, and any large loads that take more than 30 mins will still exhibit the same behavior.

### :computer: Environment
- **Browser Name, Version**:  Any
- **mapd-immerse Version or Branch**: 3.6.1rc6

### :page_with_curl: Steps To Reproduce
- Download large amounts of data via the S3 downloader (eg. s3://mapd-cloud/truefx/) (which takes about 9 minutes in MapD Cloud) in an environment that has a connection timeout configured on the web server

- **Actual result:**
The blue spinner appears while the `detect_column_types` request is sent:

`[1,""detect_column_types"",1,0,{""1"":{""str"":""5Qzntvr2VHteWgE49PxxxxMfi0YQW01h""},""2"":{""str"":""s3://mapd-cloud/truefx/""},""3"":{""rec"":{""1"":{""str"":""""},""2"":{""str"":""""},""4"":{""tf"":1},""12"":{""i32"":0},""13"":{""str"":""""},""14"":{""str"":""""},""15"":{""str"":""us-east-1""}}}}]`

In the background the connection times out and returns an http 504, the front end continues to show the spiner

- **Expected result:**
Either showing the actual progress like the file uploader does, or at the very least returning the error to the user so they know it has failed with the HTTP error code, like the file uploader does in the event of failure.


### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

### :memo: Other Info",jp-harvey,,,"Note that to reproduce this now in Cloud will require files that take > 30 mins.,jp-harvey"
Dashboard grantee (non-super user/non-dashboard owner) should not have delete button,4468,,2018-05-08T21:21:02Z,2018-05-10T19:08:23Z,"### :speech_balloon: Description
If user is not dashboard owner or superuser, then delete button should not be available

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
- Login as a user who is not a super user nor a dashboard owner and as view access to shared dashboards

- **Actual result:**
Delete button available for all dashboards in dashboard list

- **Expected result:**
Dashboard grantee (non-super user/non-dashboard owner) should not have delete button 
Only super user and dashboard owners should have delete button

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots
Login as eric_user_5 (password = password)
<img width=""1556"" alt=""screen shot 2018-05-08 at 2 17 34 pm"" src=""https://user-images.githubusercontent.com/35040876/39783778-01842160-52cb-11e8-8a7f-1ae94f15c530.png"">


### :memo: Other Info",ericli5454,"dashboard-sharing,design,enhancement",,"adding in @jrajav  @Christian-Baptiste ,ericli5454"
Select join column automatically once a geo table is selected,4455,,2018-05-05T16:42:47Z,2018-05-05T16:42:47Z,"### :speech_balloon: Description

This could likely be turned into an epic, but we'll keep it simple for now. 

If I want to join `contributions` to `zipcodes` on `contributor_zipcode = zipcodes.ZCTA5CE10`, I need to know that `ZCTA5CE10` is the column in `zipcodes` that has the zipcode data matching that in `contributor_zipcode` (namely each zipcode as a 5 digit number). We could actually determine the most likely column that matches by running a count query on each column in the geojoin datasource joining on the column selected in the dimension. For example...

`SELECT count(*) FROM contributions, zipcodes WHERE (contributions.contributor_zipcode = zipcodes.ZCTA5CE10) LIMIT 1000` 

Replacing `contributions.contributor_zipcode` with each column in the `zipcodes` table. Since it is likely that only one column will have any matches at all, we could bail early as soon as we got a few hits (or a few hundred hits). 

(I added a limit in there because I don't think that would cause any issues finding the right column, and it would keep memory usage low). 

We may want to add some UI/UX to tell the user a column was auto-selected or in case we couldn't find a match. 


### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
-
- **Actual result:**
- **Expected result:**

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

### :memo: Other Info",alexbaden,"BE-Choropleth,enhancement",,
Multi layer BE-Choropleth. 0% opacity = 100%,4453,,2018-05-05T00:16:13Z,2018-05-31T02:23:23Z,"### :speech_balloon: Description
BE- Choropleth. Dark map themes handling. 

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
- Create a choropleth map.
- Flights, dest_state, #Records Join On mapd_state: abbr
- Add new layer: nyc_buildings, mapd_geo, heightroof, Join on nyc_buildings: mapd_geo
- Change the opacity if any layer to 0

- **Actual result:**
Layer is visible almos 100%

- **Expected result:**
Layer should be invisible

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

<img width=""1383"" alt=""screen shot 2018-05-04 at 5 08 17 pm"" src=""https://user-images.githubusercontent.com/16374964/39657653-dead7704-4fbe-11e8-91af-7ab363ec4d3d.png"">

### :memo: Other Info",menaczar,"BE-Choropleth,P2,bug,found during 4.0",,"@Davidiskander Themes don't seem to be present in mahakali right now. In minos and kali I got an error after selecting a join column and wasn't able to proceed to the opacity selection stage. Currently not a regression issue. 
![screen shot 2018-05-30 at 7 13 21 pm](https://user-images.githubusercontent.com/39566471/40757596-297b589e-643e-11e8-9195-f1a5e9d104ea.png)

,AlexHarutyunyan"
BE- Choropleth. Dark map themes handling. ,4452,,2018-05-05T00:05:45Z,2018-05-30T18:00:29Z,"### :speech_balloon: Description

With the new update you can change the map theme.
We need to handle the dark map themes.

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
-
- **Actual result:**
- **Expected result:**

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots
![Screen Shot 2018-05-04 at 5.04.46 PM.png](https://images.zenhubusercontent.com/59a47c158f62dc7798c4571a/efae4bf0-7169-4618-b807-6eeca07b6202)
### :memo: Other Info",menaczar,"BE-Choropleth,P2,enhancement,found during 4.0",,"> With the new update you can change the map theme.

@menaczar what ""new update"" are you referring to?,clhenrick"
Filtered count not resetting when filter cleared in backend choropleth,4451,,2018-05-04T23:55:39Z,2018-05-05T16:32:22Z,"### :speech_balloon: Description

Waiting for https://github.com/mapd/mapd-core-internal/issues/1414 (fixes filtering) before we can investigate further. 

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
-
- **Actual result:**
- **Expected result:**

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

### :memo: Other Info",alexbaden,"BE-Choropleth,bug",alexbaden,
Better packaging of shapefile import files,4442,,2018-05-03T20:46:24Z,2018-05-03T20:46:24Z,"### :speech_balloon: Description
Currently when trying to import a shapefile (.shp) via immerse data manager (from local file anyway), immerse requires you to also add the .shx and .dbf files, which are supplemental to the .shp. Immerse should be able to automatically package all the required files for shapefile import without having to manually do so. <enhancement>

Also, the .prj needs to be packaged if found. This file may or may not exist, but if it does exist, it must be included. See #4441

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
-
- **Actual result:**
- **Expected result:**

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

### :memo: Other Info",vastcharade,"data,enhancement,geospatial",,
.prj file not required when importing shapefiles,4441,,2018-05-03T20:45:18Z,2018-05-30T18:05:28Z,"### :speech_balloon: Description
When importing shapefiles (.shp) thru immerse data manager, it requires the .shp, .shx, & .dbf files.
Immerse should also require the .prj file if it exists. That is important. If it exists and is not imported with the other files, things can go haywire as the .prj describes the coordinate system of the imported shapefile data.

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
-
- **Actual result:**
- **Expected result:**

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

### :memo: Other Info",vastcharade,"bug,data,found during 4.0,geospatial",,
Combo chart - Allow for stacking with multiple measures,4434,,2018-05-02T14:56:14Z,2018-05-02T14:56:31Z,"### :speech_balloon: Description

Customer Requirement: *ISG*
SOW Date:  *07/31/2018*

As an Immerse user I would like to visualize multiple measures broken down by a dimension.
The new combo chart does not allow color by when there is more than one measure. Combo chart should be extended to allow color by on a dimension  so we can support combo chart with stacking.

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
-
- **Actual result:**
- **Expected result:**

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

### :memo: Other Info",mythilimapd,"ISG,customer",,
Stacked horizontal bar chart (row chart),4433,,2018-05-02T14:49:30Z,2018-05-02T14:53:52Z,"### :speech_balloon: Description
Customer Requirement: **ISG**
SOW Due Date: **07/31/2018**

As an Immerse user I would like to visualize my data as a stacked row  chart.

Functional Requirements

- Combine the row chart and the vertical bar into a single chart called bar chart.
- Introduce the notion of orientation (horizontal, vertical) so with a single chart type, based on the orientation the chart can be a row chart or a column chart
- Ensure existing row charts behave correctly (backward compatibility)
- Allow for filtering via individual stacks (currently the vertical stack bar only supports cross filter by column)
- Ensure tooltips are displayed correctly

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
-
- **Actual result:**
- **Expected result:**

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

### :memo: Other Info",mythilimapd,"ISG,customer,design",,
Old Point maps have dimension disabled. ,4428,,2018-05-01T01:30:42Z,2018-06-05T06:53:00Z,"### :speech_balloon: Description
Per @Davidiskander 
Old Point maps have dimension disabled. 
                       
### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
- Go to master/ mahakali
- Search for ""point""
- Open any point map that has been created before aggregation, eg: new point map themes
- Go to edit the map

- **Actual result:**
Dimension is disabled 

- **Expected result:**
Dimension should be enabled.


### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots
![Screen Shot 2018-04-30 at 6.30.19 PM.png](https://images.zenhubusercontent.com/59a47c158f62dc7798c4571a/6d20ed86-7149-4a2a-a5b7-28ad15c74759)
### :memo: Other Info",menaczar,"P3,backward compatibility,bug,found during 4.0",,"This has existed for a while. Not sure its worth fixing as new pointmaps will all have dimension enabled.,tmostak"
Remove mapbox-atlas-style,4427,,2018-04-30T21:24:06Z,2018-05-31T17:11:43Z,"### :speech_balloon: Description
The mapbox `mapbox-atlas-style` style doesn't work. It is not supposed to be there anyway. Maybe it was for testing purposes. 

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
- Go to http://immerse-master.prod.frontend.builds.mapd.com kali/mit/mahakali
- Edit any map
- Open the style dropdown, select the item `mapbox-atlas-style`
- **Actual result:** Broken (see screenshot)
- **Expected result:** This style should not be there

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots
<img width=""1678"" alt=""screen shot 2018-04-30 at 1 19 52 pm"" src=""https://user-images.githubusercontent.com/824534/39450985-24d3b1d4-4c9b-11e8-9852-99ad398074f2.png"">

### :memo: Other Info
The fix is simply to remove this part of servers.json where it is set for prod:
```
{
    ""label"": ""mapbox-atlas-style"",
    ""value"": ""http://ec2-34-211-133-103.us-west-2.compute.amazonaws.com:2999/pages/streets/streets.json""
},
```",biovisualize,"P3,bug,found during 4.0,regression",,
Update modal dialog headers styling,4426,,2018-04-30T19:16:54Z,2018-04-30T19:17:01Z,"### :speech_balloon: Description

Update modal dialog headers to have 20px font, dark grey (about `#333`) font color, left-aligned text, and remove the bottom light grey border.

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
-
- **Actual result:**
- **Expected result:**

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

### :memo: Other Info",jrajav,design,,
Number Chart Label and Sizing enhancements ,4424,,2018-04-27T18:25:58Z,2018-04-27T19:55:19Z,"- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
- Current issues:
- The number chart uses the widget title to display the label. Sometimes the label doesn't fit.  #4118
- The user has to create a lot of independent number charts rather than having an option to create several in one widget.
- If the user were able to display multiple number charts in one dashboard widget, that widget could have its own grid system that allows the charts to display side by side horizontally, top to bottom when displayed vertically and stacked when resized both horizontal and vertical.

- **Expected result:**


### :camera_flash: Screenshots

### :memo: Other Info",Christian-Baptiste,,,"An enhancement to the number chart would be to create number sets. The sets would have a grid layout that would allow side by side and stacking depending on the user resizing the chart container widget. 

Other enhancements would be placing labels next to the value, and data impact formating for the up and down arrows. The chart label would be on the set rather than on each number value.

![artboard](https://user-images.githubusercontent.com/37127288/39339000-3d06de3e-497b-11e8-9caf-7e0687afd9a3.png)
,Christian-Baptiste
Numbers displayed horizontally 

![image](https://user-images.githubusercontent.com/37127288/39381698-dd1ecda4-4a17-11e8-8deb-4f3d85b7588e.png)
,Christian-Baptiste
Resize chart widget to allow the numbers to stack.

![image](https://user-images.githubusercontent.com/37127288/39381750-0b9ce3b4-4a18-11e8-9686-2dd5b8f1fa67.png)
,Christian-Baptiste
Numbers displayed vertically

![image](https://user-images.githubusercontent.com/37127288/39382149-7670b4a8-4a19-11e8-884b-0a01f4783056.png)
,Christian-Baptiste
![image](https://user-images.githubusercontent.com/37127288/39382312-eb9444de-4a19-11e8-92fb-f564adeffd0b.png)
,Christian-Baptiste
A couple additions to the existing number chart:
- the data label is placed below the value. This might need to wrap if the labels are large.
- the addition of increase/decrease formatting. This would be based on a compare over time functionality that we don't currently have.,Christian-Baptiste"
"Allow for size legends in geo pointmap, scatter plot and bubble chart",4417,,2018-04-26T17:07:35Z,2018-04-26T17:08:19Z,"### :speech_balloon: Description

Functional Requirements


- Remove the size slider from chart editor for geo pointmap, scatterplot and bubble chart
- Allow filtering by size legends

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
-
- **Actual result:**
- **Expected result:**

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

### :memo: Other Info",mythilimapd,enhancement,,"@tmostak - FYI,mythilimapd"
Data Manager enhancement -  Option to replicate tables ,4414,,2018-04-25T16:52:04Z,2018-04-25T16:52:04Z,"### :speech_balloon: Description
Customer Feature Request: Verizon

 
At Verizon, there are both large scale users, and small scale users. The small scale users are typically more autonomous and are attempting to perform the data prep, data-loading, and SQL themselves, with little or no assistance. In this context, it is not intuitively obvious to a SME working autonomously, that a secondary table in a standard SQL table join would need to be schema-directed REPLICATED, especially if the user has no visibility into the underlying architecture.

Complicating problems: 
1. Immerse does not allow a Drag & Drop ""REPLICATED"" directive. 
2. The only user-visibility for an incorrectly created (i.e. schema without a REPLICATED directive) JOIN-table is an Immerse-failure, when the join is attempted.

Comment: 
- it was suggested that some sort of user-friendly procedure to facilitate Immerse Drag & Drop capability when loading tables intended as 'join-secondary' tables. 
- Possibly a Immerse-DataManager option to replicate tables in a MapD cluster 
- if MapD cannot reliably deduce a replication directive from a SQL join, then an Immerse DataManager option would help an SME to be more autonomous
### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
-
- **Actual result:**
- **Expected result:**

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

### :memo: Other Info",mythilimapd,"customer,feature,verizon",,
Verify that Table chart issues regarding sorting non-grouped columns and NULLS work in a distributed configuration,4413,,2018-04-25T15:59:58Z,2018-04-27T19:05:04Z,"### :speech_balloon: Description
There are two documented known issues regarding distributed configuration:
[Update] This issue is fixed: 
Setting of NULLS FIRST/LAST might not work properly in distributed configuration.
https://github.com/mapd/mapd-core-internal/issues/814

Sorting by non-grouped column in a table chart might not work properly in a distributed configuration.
Both of these issues are fixed in https://github.com/mapd/mapd-immerse/issues/3067, but that issue doesn't specifically mention distributed configuration.

Before removing the Known Issues, we need to verify that they are fixed in a distributed configuration.

Don't want these issues to linger forever or slip through the cracks.

### :computer: Environment
- **Browser Name, Version**: n/a
- **mapd-immerse Version or Branch**: master
- Distributed Configuration

### :page_with_curl: Steps To Reproduce
See https://github.com/mapd/mapd-immerse/issues/3067

Honestly, it's hard to discern from 3067 what steps were required to reproduce the base issue, and we don't have a description of how they would not work properly in a distributed environment.

I'm guessing that we just need to verify that sorting a non-grouped table works properly.

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

### :memo: Other Info",DennisDawson,,,"@niviksha, please consider adding the 4.0 tag to this issue. If this is fixed, I'd like to remove it from Known Issues. Thanks for your help.,DennisDawson"
Data Manager shows ARRAY column type as STR,4409,,2018-04-24T17:53:44Z,2018-04-24T17:53:44Z,"### :speech_balloon: Description

ARRAY columns are not accurately described in UI.

### :computer: Environment
- **Browser Name, Version**: all
- **mapd-immerse Version or Branch**: 3.6.1

### :page_with_curl: Steps To Reproduce

```sql
CREATE TABLE test_array2 (
id TEXT ENCODING DICT(32),
colors TEXT[] ENCODING DICT(32))
```
Then view in Data Manager, or the SQL Editor Table Reference.

- **Actual result:**

The colors column is shown as type `STR [dict. encode]` and `STR` respectively.

- **Expected result:**

It should be `TEXT[] ENCODING DICT(32)`

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge",mikehinchey,,,
Export Dashboard filter is not working,4407,,2018-04-23T20:36:41Z,2018-06-11T19:31:25Z,"### :speech_balloon: Description
Customer escalation : Simulmedia

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce

Create a new dashboard by adding multiple charts to the dashboard and save the dashboard 
Add a filter to the dashboard and verify that the filter is applied correctly
Export the dashboard using command line.
Import the dashboard using command line.

In the new imported dashboard clear the filter, you will notice that the data is not refreshed

Workaround
Save the new imported dashboard after the filter is cleared, close it and reopen it again, data gets refreshed

- **Actual result:**
- **Expected result:**

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

### :memo: Other Info",mythilimapd,"P1,bug,customer,found during 4.0,simulmedia",,
Centralized place to override formats,4405,,2018-04-22T16:08:01Z,2018-04-22T16:09:06Z,"### :speech_balloon: Description
Now that the features are implemented, we may see a path to simplify the code. There could be less logic living in mapd-charting and more in the Immerse formatter module. Also, maybe it would make sense for these override to live in mapd-charting utils formatter instead of in individual charts.

### Acceptance criteria
More centralized logic
Less logic in mapd-charting and more in the formatter
No change in functionality

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
-
- **Actual result:**
- **Expected result:**

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

### :memo: Other Info",biovisualize,"formatting,tech",,
Merge numerical and date formatters,4404,,2018-04-22T16:05:50Z,2018-04-22T16:06:03Z,"### :speech_balloon: Description
While developing, it was useful to keep the code for formatting dates and numbers separated. Now that the features are developed, we can see how they can be merged.

### Acceptance criteria
The code is simpler and reusable. No change in functionality.

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
-
- **Actual result:**
- **Expected result:**

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

### :memo: Other Info",biovisualize,"formatting,tech",,
Formatting polishing,4403,,2018-04-22T16:00:32Z,2018-04-23T14:09:00Z,"### :speech_balloon: Description
This Epic lists issues that should be fixed for the next step of measure/dimension formatting. It also has some follow-up tasks to cleanup that code so its easier to extend and so we can reuse it, for example on CSV download.",biovisualize,"Epic,formatting",,
Measure formatting of numeric dimensions,4401,,2018-04-22T14:32:49Z,2018-05-08T18:37:06Z,"### :speech_balloon: Description
~With the measure formatting there are two issues~

~1. We have lost the sensible defaults that existed for measures, which is a regression.~
2. Measure formatting does not work on numeric dimensions or bins on numeric dimensions.

~Question :  If the user does not explicitly specify a format string, is there a way to display the default format applied in the measure/date formatting box.~

<img width=""650"" alt=""screen shot 2018-04-21 at 9 17 15 pm"" src=""https://user-images.githubusercontent.com/29928117/39096058-52f415c4-45ff-11e8-9803-d171d213f411.png"">

<img width=""499"" alt=""screen shot 2018-04-21 at 9 24 21 pm"" src=""https://user-images.githubusercontent.com/29928117/39096062-57260cb0-45ff-11e8-85b9-2d09372b97af.png"">

<img width=""1289"" alt=""screen shot 2018-04-21 at 9 29 36 pm"" src=""https://user-images.githubusercontent.com/29928117/39096071-7a07cb2e-45ff-11e8-8926-f76d979e72b8.png"">



### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
-
- **Actual result:**
- **Expected result:**

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

### :memo: Other Info",mythilimapd,"ISG,customer,feature,formatting",biovisualize,"@biovisualize 


@Davidiskander  It would be good to open a few existing dashboards and check to ensure  that we preserve the defaults. Both for measure and dimensions that use numeric values.,mythilimapd
@mythilimapd 
1. It would be useful to be more specific. Charts fallback to default format when no format is selected. I will go through every chart and identify which one doesn't do it. For example, number chart seem to not get back to default. Easy fix.

2. The scope was to format numerical measures and date dimensions. If that assertion is wrong, we can adjust the scope. I don't understand what ""all dashboards look"" means

3. That can't be done for mapd-charting since the default format is handled by the chart in a way that is way more complicated than simply using a format string. For example, some charts use multiple formatters for the same measure. We could add a placeholder saying ""default chart format"" or something, but it would remove the placeholder tip.,biovisualize
I saved midway while typing the second issue. The one overlook on my part is when a numeric value is  selected as a dimension. For example one of the datasets has just the `flight_year` as a field which has values like 1988 to 2014.  The user drops this `flight_year` in the dimension field. 

Another use case is binning on a measure field and using it as a dimension.,mythilimapd
We need to verify that the format of measures in existing dashboards are not altered or affected by measure formatting and we preserve the existing sensible defaults. Also on any new charts that user creates if the user does not specify a format, it should  default to same format as before.,mythilimapd
@mythilimapd I extracted the task to use chart default when no format is selected, so this one could be about numerical dimension formatting https://github.com/mapd/mapd-immerse/issues/4421,biovisualize
Thanks @biovisualize ,mythilimapd
@mythilimapd can you change the labels though? With that new scope, it's not a regression. But is it a blocker for release?,biovisualize
If the numeric dimensions don't behave as they did prior to measure formatting, it is a regression.  Could you confirm that when you drop `flight_year` in the dimension that the defaults are the same as before? Or for that matter any other measure being dropped in dimension behaves the same way and applies the same default as before? 

I will remove the regression label once you confirm that default behavior has not changed and existing dashboards with a number in dimension or numeric bins and date bins behave as it did before.,mythilimapd
@mythilimapd what I mean is that this task is now just about ""Measure formatting does not work on numeric dimensions or bins on numeric dimensions"", which is a change of specs, not a regression.

The other problem that was mentioned here, ""We have lost the sensible defaults that existed for measures"", was extracted to a separate task #4421, as both tasks are unrelated. I agree that #4421 can be a regression. I have a PR already that fixes it anyway.,biovisualize"
Time chart does not render when applying a cross filter on a bar chart with count of 1,4371,,2018-04-18T17:28:04Z,2018-04-18T17:50:43Z,"### :speech_balloon: Description
Verizon escalated this issue

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
-Datasource: SuperStoreSales
Create a **line chart** with Order Date and SUM(Sales)
Create a **row chart** (horizontal bar chart) with State and # of Records.
Save the dashboard.
From the bar chart click on ""Wyoming"" Line chart is empty, which is correct
Clear the cross filter and line chart should render properly, instead it is blank.

However if you use Combo chart instead of Line, Combo charts  works correctly on clearing the cross filter (ie Line2)
- **Actual result:**
- **Expected result:**

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

### :memo: Other Info",mythilimapd,"P3,bug,customer,verizon",,
Allow for infinite scroll on bar charts (both row and column chart) ,4369,,2018-04-18T16:15:16Z,2018-04-18T16:15:16Z,"### :speech_balloon: Description
Enhancement request from Verizon.

Today we limit the number of groups to 100 in bar chart and we have no way to display what we filtered out. 

We should enhance the bar chart to allow for infinite scroll and show all groups and additionally if use chooses to limit the number of groups, we should show an ""Other"" bar. 
### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
-
- **Actual result:**
- **Expected result:**

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

### :memo: Other Info",mythilimapd,"enhancement,feature",,
Default axis format is different between line/histo and combo charts,4364,,2018-04-17T20:57:14Z,2018-05-31T17:16:26Z,"### :speech_balloon: Description

Default axis format is different between line/histo and combo charts”

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
- Create histo/line chart and combo
- Flights depdelay vs #Records



- **Actual result:**
Default axis format is different between line/histo and combo charts

- **Expected result:**

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

![screen shot 2018-04-17 at 1 58 02 pm](https://user-images.githubusercontent.com/16374964/38896416-7a48bf5a-4247-11e8-8017-94de98cfc0d3.png)

![Screen Shot 2018-04-17 at 1.55.22 PM.png](https://images.zenhubusercontent.com/59a47c158f62dc7798c4571a/c312eda8-0d8a-4310-851f-87e92355df4b)

### :memo: Other Info",menaczar,"P3,bug,design,found during 4.0",Christian-Baptiste,
Y-axis labels bleed out of chart on Line/Histo,4363,[object Object],2018-04-17T20:41:51Z,2018-06-05T19:25:04Z,"### :speech_balloon: Description

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
-Create line/histo
- Flights, depdelay vs #Records

- **Actual result:**
- **Expected result:**

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots
![Screen Shot 2018-04-17 at 12.02.33 PM.png](https://images.zenhubusercontent.com/59a47c158f62dc7798c4571a/73d471f3-624b-4993-85e9-0b0258c8444a)
### :memo: Other Info",menaczar,"P0,bug,found during 4.0,regression",biovisualize,"<img width=""1431"" alt=""screen shot 2018-04-18 at 11 26 01 am"" src=""https://user-images.githubusercontent.com/10747240/38950907-caf0e716-42fb-11e8-9730-809458b246ec.png"">

This one gets so bad with different measure formats. ,Davidiskander
I agree. I guess we need a label truncation for both axis. We also have an x axis automatic tick skipping we developed for stacked bar and that I could enable in combo.,biovisualize
Other analytics vendors will shrink the chart to accommodate the longer labels. Agree with David it looks bad and is not a good end user experience. Let us get this fixed for 4.0.  ,mythilimapd
Acceptance criteria
I will start with automatically skipping ticks on the x axis, as we do on stacked bar chart. For the y axis we can simply have a max size and truncate with an ellipsis as a first step. ,biovisualize
I implemented one way to do it with truncating labels to a number of characters. It kind of makes some formatting useless, for example in this case it crops the suffix that is added by the format. But it solves the problem of label overlap and maybe it forces the user to choose a more suitable format.

<img width=""1342"" alt=""screen shot 2018-06-01 at 6 29 12 am"" src=""https://user-images.githubusercontent.com/824534/40836646-7c654d4e-6565-11e8-82fe-8dbb484be261.png"">

I will look at how hard it would be to implement a way for the margins to automatically grow to leave more room  for the labels, but I doubt it would be easy with mapd-charting. I will let @Christian-Baptiste decide if label truncation is an acceptable solution for now, just to prevent the overlap (as it's a p0 bug). Then I will port the solution to line and histo.

It can be tested here https://github.com/mapd/mapd-immerse/pull/4570,biovisualize"
[Design spike] Graceful failures for data source permission access failures at a chart level (placeholder stubs for charts,4361,,2018-04-17T05:12:31Z,2018-04-23T19:40:09Z,"### :speech_balloon: Description

Gracefully fail individual charts on a dashboard that have the inaccessible data source - either by handling the errors well or by stubbing the problem charts with dummies (showing a placeholder to users in either case).

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
-
- **Actual result:**
- **Expected result:**

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

### :memo: Other Info",jrajav,"dashboard-sharing,design,unscoped",,
Get Immerse to work with ArcGIS WMS Server,4360,,2018-04-16T23:24:20Z,2018-04-24T14:58:31Z,"### :speech_balloon: Description


Get Immerse to work with ArcGIS 
### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
-
- **Actual result:**
- **Expected result:**

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

### :memo: Other Info",mythilimapd,"IQT,P2,bug,customer",clhenrick,"@clhenrick we need to get Immerse working with ArcGIS and this os blocking IQT from going into production. Now that stacked bar chart is no longer a higher priority, could we get either you or Uyanga to work on this?,mythilimapd
@niviksha - fyi,mythilimapd
@mythilimapd I'm copying and pasting what I posted in [Slack (`#cust-inqtel-wp2`) earlier today](https://mapd.slack.com/archives/C8BD9D319/p1523891606000202)

> I’m not very familiar with ESRI products like ArcGIS as I never needed to use it for my work. I would use open source GIS software like QGIS and GDAL instead. For that reason I’m not entirely sure how an ArcGIS WMS endpoint needs to be structured in a way that is compatible with MapBoxGL. Clearly WMS layers are compatible as MapBox provides an example that works with Immerse, but it will take more investigation to figure out how to use an ArcGIS WMS.

> In general, I think that if we are planning to support ArcGIS services in MapD then we should hire an ESRI developer, the software ESRI provides is its own ecosystem and it would be helpful to have someone who knows it inside and out so we don’t end up hacking our way into making it work.
,clhenrick
@uyanga-gb,mythilimapd
@mythilimapd I can take a look when time permits probably after my current assigned task, date formatting for 4.0. I worked on ArcGIS before purely on mapping and other purposes but didn't use their tile server though. I worked on different tile servers like Geoserver and Gdal, so I believe I can understand how they tile their layers. Also, I worked on building URL builders for different endpoints so probably can create a URL builder that matches with their tile directory structure that can work on MapboxGL. I agree with Chris that we could use GQIS (open source) instead of ArcGIS to begin with since they are similar. Right now, I am not sure how much time and effort that requires, but will be clear when I start looking into it.,uyanga-gb"
Add 'Delete dashboard' button to dashboard page,4355,,2018-04-13T18:01:25Z,2018-04-23T19:40:05Z,"### :speech_balloon: Description

Add a delete dashboard button to the dashboard page, since it will presumably be a more common use case for users to directly visit dashboard pages without visiting the list first once dashboard sharing and persistent url's are in place.

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
-
- **Actual result:**
- **Expected result:**

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

### :memo: Other Info",jrajav,"dashboard-sharing,unscoped",,"Possible task breakdown:
- [ ] Design layout of delete button
- [ ] Delete button React/Redux
- [ ] Actually delete the dashboard
- [ ] Redirect to the dashboard list,biovisualize"
Dashboard list - Show list of users shared with in a hint popup on hovering sharing icon,4353,,2018-04-13T17:57:13Z,2018-04-23T19:56:59Z,"### :speech_balloon: Description

Show list of users shared with in a hint popup on hovering sharing icon on a dashboard in the dashboard list.

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
-
- **Actual result:**
- **Expected result:**

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

### :memo: Other Info",jrajav,"dashboard-sharing,unscoped",,"Not sure how to do this. This should be marked as a nice to have rather than a requirement. ,Christian-Baptiste"
Dashboard list - Action menu to share / make copy of a dashboard,4351,,2018-04-13T17:55:50Z,2018-04-23T19:39:52Z,"### :speech_balloon: Description

Expand the controls on the right side of each row in the dashboard list to include three actions in an expandable (on click) menu:

1. Share
2. Make copy / duplicate
3. Delete (Only one already there)

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
-
- **Actual result:**
- **Expected result:**

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

### :memo: Other Info",jrajav,"dashboard-sharing,unscoped",,
On Firefox very difficult to select the dashboard auto refresh options,4344,,2018-04-13T16:33:47Z,2018-05-31T17:09:24Z,"### :speech_balloon: Description
Verizon reported this usability issue.

### :computer: Environment
- **Browser Name, Version**:  Firefox, 3.6
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
This might also be considered to be a Time Chart problem. 
1. Create a dashoard with a line chart, and dimension=time 
2. Place it across the width of the top of the dashboard
3. Hover over refresh button 
4. Refresh button dropdown is rendered *behind* the time-chart-range-display 
Expected: Refresh-dropdown is overlayed on top of the time-chart-range-display 
5. Impact: very difficult to select refresh options


- **Actual result:**
- **Expected result:**

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

### :memo: Other Info",mythilimapd,"P1,bug,customer,verizon",,"One note on the fix for this: be sure to make a chart such that it falls right under the button and that the popup appears on top of the chart and chart header fully, too,jrajav"
[DO NOT MERGE] added vega-editor to dist bundle,4341,,2018-04-13T00:13:06Z,2018-05-07T17:38:44Z,"### 💬  Description
 
### 📄 Github Issue
Closes #0

### :camera_flash: Screenshot",MarcBalaban,,,"**Immerse**: http://immerse-4341.dev.frontend.builds.mapd.com

,mapd-bot
@tmostak @niviksha can we figure out whether we want this merged or not?,MarcBalaban"
Filter by clicking on individual stack segments,4340,,2018-04-12T21:09:36Z,2018-04-12T21:20:59Z,"### :speech_balloon: Description
The stacked bar chart handle clicking on the whole column to use it as a global filter. We could support clicking on individual segments instead. The segment selection would replace the column selection. it will require some changes to the query. 

From @mythilimapd 
>This will involve some work on CF I think because we have to compose an AND filter that takes both the dimensions
So if you have Region on x-axis and Product as the stack dimension, when you click on Product `P1` on Region `East` the filter clause would be `WHERE Region = East and Product = P1`

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
- set-up a bar chart
- click on a stacked segment
- **Expected result:** the segment is emphasized, a filter is set

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

### :memo: Other Info",biovisualize,stacked-bar-chart,,"@clhenrick this is not for 4.0, but is where we want to go.,biovisualize
Thanks @biovisualize for logging this. 
@tmostak for V1 we only allow clicking on whole column as I had mentioned clicking on individual segment as a stretch goal.  What we really want is that AND filter that combines both dimensions. 
Allowing click on legend or whole column only does one dimension.

![stacked bar discussion](https://user-images.githubusercontent.com/29928117/38704495-66e4bae4-3e5b-11e8-89a4-4815c19fd321.png)
,mythilimapd
Sounds good. I think it will be fun challenge to think of a UX friendly way that allows a someone to select individual stacks even when they are too small too click on.,clhenrick"
White Labeling : Favicon to be updated with custom logo,4337,,2018-04-12T19:49:36Z,2018-05-31T15:38:30Z,"### :speech_balloon: Description

ISG Requirement for Custom Logo 

- Feedback from ISG that the favicon is not updated as part of white labeling.
- Additionally the image should  be resized automatically for optimal display.
- Dynamic logo & favicon based on logged in user

ISG Requirements document:
https://docs.google.com/document/d/1G3ZIe8LXYYGJLbwqROhRYh8xJuNLngPZ-jT5FeRN7TI/edit?usp=sharing

API Document from ISG
[SPEN-115015711-260318-1953.pdf](https://github.com/mapd/mapd-immerse/files/1956912/SPEN-115015711-260318-1953.pdf)

ISG  updated their rest API to send in additional information to let us know which logo to serve based on logged in user.  The flow is - the REST API will return a new logo key and a reference to an asset which will still live on a file system, but we need to establish how this ‘switch’ between possibly multiple logos will be done within Immerse. Specifically, the call will now have an additional param ‘logo:bla’ and the config file will have ‘bla: /dir/bla_logo.png’




### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
-
- **Actual result:**
- **Expected result:**

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

### :memo: Other Info",mythilimapd,"ISG,customer,white-label",jrajav,"@mythilimapd @la-mapd https://github.com/mapd/mapd-core-internal/issues/1205 tracks the backend implementation for ISG's SSO. The PDF in the issue description shows this.,niviksha"
"Loading spinner for table preview (Hover on source in chart editor, click on table in data manager)",4331,,2018-04-11T22:22:19Z,2018-04-11T22:33:08Z,"### :speech_balloon: Description

Should act as other loading spinners - only appear after delay, ensure spinner displays until all pertinent data available on client.

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
-
- **Actual result:**
- **Expected result:**

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

### :memo: Other Info",jrajav,mapd-cloud,,
Static typing / persisted state schemas (Design spike),4328,,2018-04-11T20:31:45Z,2018-04-11T22:06:16Z,"### :speech_balloon: Description

Initial design spike and prototyping around static typing and schema handling for persisted state (e.g. dashboard metadata).

Target projects might include selected parts of Immerse (e.g. dashboard metadata), mapd-data-layer, or both.

Goals:

1. Strictly coordinate interfaces between all modules to reduce bugs resulting from interface mismatch.
2. Declare interfaces in an accessible and verifiable way for developer tooling.

This will result in much greater stability and developer productivity once done.",jrajav,"Epic,Needs PM Review,tech",,
Chart switching improvements (Data Manager - Phase 1),4327,,2018-04-11T20:15:05Z,2018-06-08T00:47:09Z,"### :speech_balloon: Description

Initial phase of Data Manager preparation, including general improvements to chart state management.

Two primary goals:

1. Extract measures (and related data - colors, axes, etc.) and dimensions out of individual chart state into dashboard state.
2. Separate the presentation and data layers of affected chart state.",jrajav,"Epic,tech",,"i don't think we are on track to get any of this for 4.0. But we could try to identify a reduced scope to get started.,biovisualize
Reviewed :-) and seems like we'll revisit post 4.0,niviksha"
Use postinstall to build mapd libraries ,4324,,2018-04-10T22:53:42Z,2018-04-11T01:11:00Z,"### :speech_balloon: Description

Add a postinstall block to each MapD lib to build distribution files on install rather than packaging distribution files with the lib for each commit. The former ensures that the code referenced in the commit is always the code running via the dist file when the dependency is pulled in. 

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
-
- **Actual result:**
- **Expected result:**

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

### :memo: Other Info",alexbaden,tech,,
Display allowed file types for Import Data flows,4323,,2018-04-10T22:12:18Z,2018-04-10T22:12:26Z,"### :speech_balloon: Description

```
const IMPORT_FILE_TYPES_UNFORMATTED = {
  standard: [""csv"", ""tsv"", ""txt""],
  singleFileGeo: [""kml"", ""kmz"", ""geojson"", ""json""],
  multiFileGeo: [
    ""shp"",""shx"",""dbf"",""prj"",""sbn"",""sbx"",""fbn"",""fbx"",""ain"",""aih"",""ixs"",""mxs"",""atx"",""shp.xml"",""cpg"",""qix""
  ]
}
```

^ Main idea is to just display these in a readable way somewhere on both the local file and s3 import flows, and also perhaps on the flow chooser screen if appropriate. Needs some design input at the moment.

### 💻 Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
-
- **Actual result:**
- **Expected result:**

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

### :memo: Other Info",jrajav,design,,
[Choropleth] Fix frontend-rendered choropleth to calculate proper initial bounds,4321,,2018-04-10T14:19:27Z,2018-04-10T14:19:36Z,"### :speech_balloon: Description

As a result of a fix for multi-polygon geojson bound parsing in mapd-charting (https://github.com/mapd/mapd-charting/pull/139), the initial bounds calculation for frontend-rendered choropleth fails. This has been quick-fixed by removing part of the map in https://github.com/mapd/mapd-immerse/issues/3653 (and see that issue for full details / discussion), this issue is to fix the bounds calculation itself and revert the map to the full version.",jrajav,tech,,
Row height too large for certain SQL editor results,4314,,2018-04-09T14:26:22Z,2018-05-30T18:08:09Z,"### :speech_balloon: Description

Possibly a logical error with the manual row height calculations done for Autosizer in sql-editor/sql-editor-data-table.js. (Ideally, manually computing the row height wouldn't even be necessary, briefly investigate why it's done and if it can be avoided, since that would also fix this.)

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
-
- **Actual result:**
- **Expected result:**

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

On Kali:
![screenshot from 2018-04-06 22-52-03](https://user-images.githubusercontent.com/2074135/38503568-054237ba-3bd8-11e8-8b59-29125aff2f89.png)


### :memo: Other Info",jrajav,"P3,bug,found during 4.0",,
"warning.js:33 Warning: Failed prop type: Invalid prop ""chart.filters[0]",4311,,2018-04-07T00:47:40Z,2018-04-09T17:59:29Z,"### :speech_balloon: Description
ChrisV identified an mapd charing issue in which theres an error in the console when adding the shape filter: `warning.js:33 Warning: Failed prop type: Invalid prop ""chart.filters[0]"" supplied to ""ChartSettings"".`
in `raster-charts-listeners`, dcChart.on(“filtered”) event

 Plausible cause from mapd-charting, a commit by Tai on Jan 10 https://github.com/mapd/mapd-charting/commit/afc4f5083832d9f1ec0ab93bfe34059504aa014b
which was merged only March 8 on this PR
https://github.com/mapd/mapd-charting/pull/140

Maybe I'm wrong, but my guess is that it was not visible before because multiple commits were done without compiling mapdc.js, so all these fixes were not in mapd-charting until it got compiled on march 28
https://github.com/mapd/mapd-charting/commit/c37cb516c85f6f5995cb4297eb2b4b30fa3ea3b8

### :computer: Environment
- **Browser Name, Version**: all 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
-1. Create a dashboard and create a scatter plot chart (Table: flights, X Axis: airtime, Y Axis: arrdelay)
2. Save the chart and go back to Dashboards
3. Open the the Dashboard 
4. Select any polygon filter and draw on the chart
5. The error (warning in above @biovisualize's comment) will show in console

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

### :memo: Other Info",ericli5454,,,"This info is in #team-release, but adding here so it doesn't get lost:

It looks like the root problem is here: https://github.com/mapd/mapd-immerse/blob/cb5c63806bd7b2a2036e312deed758dbf4c5285b/src/constants/prop-types.js#L167

The lasso filter schema expected by immerse does not appear to match the schema defined by mapd-draw (the lib responsible for creating the filter based on lasso tools). The schema for mapd-draw is defined here:

https://github.com/mapd/mapd-draw/blob/a71db40f4708f7ebd1a74910a90fa96a85267e8b/src/shapes/base-shape.js#L332

It includes other files, too, e.g.: https://github.com/mapd/mapd-draw/blob/a71db40f4708f7ebd1a74910a90fa96a85267e8b/src/style/basic-style.js 

The serialization methods do not affect how the lasso works or generates its filters. We could probably change the serialization to give something more similar to:
```
export const lassoFilterShape = shape({
  id: string.isRequired,
  type: string.isRequired, // or could explicitly list supported lasso types somewhere
  style: object.isRequired,
  transform: object.isRequired,
  zindex: number,
  visible: boolean,
})
```
That would give immerse enough info to make sure the lasso is close to valid without having to verify all the properties generated by mapd-draw (which will likely change per lasso type, anyway). 

,alexbaden"
SQL Editor: Editor display shows misleading info about data (and types),4307,,2018-04-04T20:49:00Z,2018-04-04T20:49:00Z,"### :speech_balloon: Description

I uploaded data through Immerse, choosing `DATE` type. When querying data from the SQL Editor, it displays the data as if it were a `TIMESTAMP` type. Additionally, `FLOAT` data appears as `INT` in some cases.

### :computer: Environment
- **Browser Name, Version**:   
- **mapd-immerse Version or Branch**: 3.6

### :page_with_curl: Steps To Reproduce
-
- **Actual result:**   
- **Expected result:**

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge


### :camera_flash: Screenshots
Data on ingest:
<img width=""1164"" alt=""screen shot 2018-04-04 at 3 37 18 pm"" src=""https://user-images.githubusercontent.com/2762787/38333740-76ef8156-3827-11e8-90f1-7ae20886900e.png"">

Data from SQL Editor:
<img width=""997"" alt=""screen shot 2018-04-04 at 3 37 53 pm"" src=""https://user-images.githubusercontent.com/2762787/38333770-88dab34a-3827-11e8-8abb-df8a836a33a5.png"">

Problem manifests itself when trying to check result of timestamp operations. In this example, I want to put the `ACTUAL_DATE` and `HR_ENDING` columns together as a timestamp. First row for `ts` should be `Tue Oct 05 1993 02:00:00 EDT`, not `Mon Oct 04 1993 22:00:00 EDT`

See also that `MW` shows as whole numbers; would've expected `1448.0` in the first row, even if it were exactly 1448, since it was stored as `FLOAT`

### :memo: Other Info",randyzwitch,,,
[Dashboard sharing - Phase 3] Sharing dialog - Button to open on dashboard list,4301,,2018-04-04T04:42:56Z,2018-05-02T15:18:54Z,"### :speech_balloon: Description

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
-
- **Actual result:**
- **Expected result:**

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

### :memo: Other Info",jrajav,"ISG,customer,dashboard-sharing,design",,"Moved out to Phase 3 - potential improvements.,jrajav
Involves TBD design of list-based action menu,jrajav"
Dashboard sharing - Phase 4: Admin console and roles / groups,4293,,2018-04-04T03:53:27Z,2018-05-02T20:27:53Z,Yet to be designed / specced out,jrajav,"Epic,dashboard-sharing",,"Preliminary estimate of 40 because scope is still very fuzzy and undetermined.,jrajav
Capturing the idea that there should be a ""select all"" option in the UI for assigning permissions, if you have to actively select those who can share the dashboard. Sometimes it's nice to be able to select 200 users, then de-select a small number of users. Not part of MVP, by any means. 😄 ,DennisDawson"
Dashboard sharing - Phase 3 (Customer Phase II): Extras / nice-to-haves for sharing icons and dialogs (Second iteration),4292,,2018-04-04T03:52:34Z,2018-05-31T15:40:56Z,Yet to be designed / specced out,jrajav,"Epic,ISG,customer,dashboard-sharing",,"Preliminary estimate of 40 because scope is still very fuzzy and undetermined.,jrajav
We need to narrow down the scope of this task and set some specific acceptance criteria,biovisualize"
updateChartType if statement always true,4288,,2018-04-03T18:50:35Z,2018-04-03T20:17:53Z,"### :speech_balloon: Description

In `updateChartType`, the following `if` statement appears to always evaluate to true:

```
    if (prevState.type !== ""line"" || prevState.type !== ""histogram"") {
      dispatch(destroyChart(chartId, prevState))
    }
```
https://github.com/mapd/mapd-immerse/blob/master/src/actions/charts-action-creators.js#L108

Presumably this is because the prevState is always either not a line or not a histogram. I did some testing and confirmed that placing a log statement in with the dispatch always shows the log text in the console. Not sure what the statement was intended for or what the ramifications are of removing it and just dispatching `destroyChart` for every chart type update.

### :computer: Environment
- **Browser Name, Version**: Chrome 65
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
-
- **Actual result:**
- **Expected result:**

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

### :memo: Other Info",alexbaden,tech,,
Opening dashboard with dataset that has been deleted gets browser in bad state,4285,,2018-04-02T23:56:41Z,2018-04-02T23:58:38Z,"### :speech_balloon: Description
If user opens a dashboard with dataset that has already been dropped, it would cause browser to get to a bad state. (Unable to open up other dashboards)

### :computer: Environment
- **Browser Name, Version**: Chrome
- **mapd-immerse Version or Branch**: minos 

### :page_with_curl: Steps To Reproduce
- Create dashboard with a dataset uploaded
- Drop dataset table
- Go back and launch dashboard 

- **Actual result:**
Enters a bad state where user unable to open up other dashboards

- **Expected result:**
Does not get into unresponsive state

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots
![bad_state](https://user-images.githubusercontent.com/35040876/38221897-b8814de4-3696-11e8-9176-ece4f9c8f8c4.gif)

<img width=""1233"" alt=""screen shot 2018-04-02 at 4 56 11 pm"" src=""https://user-images.githubusercontent.com/35040876/38221917-c8778d30-3696-11e8-91a8-f1d229436df0.png"">

### :memo: Other Info",ericli5454,"P2,bug",,
[cloud] Drift is fairly intrusive and often pops up over buttons and fields,4283,,2018-04-02T22:39:35Z,2018-04-02T22:39:35Z,"### :speech_balloon: Description

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
-
- **Actual result:**
- **Expected result:**

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

### :memo: Other Info",senatorgrant,cloud-portal,,
[cloud] FF login styling issue.,4281,,2018-04-02T22:00:24Z,2018-04-02T22:02:03Z,"### :speech_balloon: Description
[cloud] FF login styling issue.

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
- Go to mapd.cloud on FF.
- on the login window see the picture below for the username and password placeholders misshaped 

- **Actual result:**
- **Expected result:**

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots
<img width=""500"" alt=""screen shot 2018-04-02 at 2 58 48 pm"" src=""https://user-images.githubusercontent.com/16374964/38218413-9008f26e-3686-11e8-90f9-5bf007e67d8a.png"">

### :memo: Other Info",menaczar,"cloud-portal,mapd-cloud",,
[cloud] styling issues on IE11,4280,,2018-04-02T21:52:01Z,2018-04-02T22:38:37Z,"### :speech_balloon: Description

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
- Find screenshots

- **Actual result:**
- **Expected result:**

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome

- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots
![screen shot 2018-04-02 at 2 49 30 pm 1](https://user-images.githubusercontent.com/10747240/38218017-475865aa-3685-11e8-8551-a3d6b0f367b7.png)

### :memo: Other Info",Davidiskander,"P3,bug,cloud-portal,mapd-cloud",,"Also in the Payment page of IE11 its missing the credit card icon and has incorrect font

<img width=""1214"" alt=""screen shot 2018-04-02 at 3 33 44 pm"" src=""https://user-images.githubusercontent.com/35040876/38219743-e726f51e-368b-11e8-9089-4210f1f60e50.png"">
,ericli5454"
"[cloud] IE11 shows html prior to css finish loading, on all pages",4279,,2018-04-02T20:51:27Z,2018-04-02T22:39:33Z,"### :speech_balloon: Description

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
- Launch IE11 , go to the cloud portal
- start switching between pages (dashboards list, dashboard, SQL editor, data manager)

- **Actual result:**
find gif and screenshots

- **Expected result:**
Page should load when css is loaded 

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots
![ie11-loading](https://user-images.githubusercontent.com/10747240/38215949-27c104ce-367e-11e8-852c-036c1ea1a36b.gif)


<img width=""481"" alt=""screen shot 2018-04-02 at 1 40 43 pm"" src=""https://user-images.githubusercontent.com/10747240/38215563-1e0da55a-367d-11e8-8fa0-d6ee05e9416a.png"">

### :memo: Other Info",Davidiskander,"P2,bug,cloud-portal,mapd-cloud",,"This one seems a bit unclear whether it is Immerse or Portal. Tagging till we know for sure.,jrajav"
"Switching from Binning to Extract does not update in charts [nyc_trees3, nyc_trees_2015_683k]",4278,,2018-04-02T19:05:34Z,2018-04-02T21:45:59Z,"### :speech_balloon: Description
When user edits dimension settings via switching from Binning to Extract, the change is not updated correctly in charts. 

### :computer: Environment
- **Browser Name, Version**:  Chrome
- **mapd-immerse Version or Branch**: master, cloud

### :page_with_curl: Steps To Reproduce
1. Select the following
Data Source: nyc_tree3
Dimension: created_at (BIN auto)
Measure - Width: Records
Measure - Color: Records
2. Changing Dimension settings from Bin to extract

- **Actual result:**
Extract unit in year, but chart renders units in minutes

- **Expected result:**
Extract units should be in years

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

### :memo: Other Info

Note this occurs in cloud as well, need to select another extract unit then select year to properly update chart with correct year extract",ericli5454,bug,,
Auto save dashboards,4276,,2018-04-02T17:30:42Z,2018-04-12T17:22:29Z,"### :speech_balloon: Description
As a cloud user of MapD (Immerse), I would like my dashboards to be auto-saved on edit actions, so that I dont lose my work if I forget to explicitly save them

### :computer: Environment
- **Browser Name, Version**: 
All
- **mapd-immerse Version or Branch**: master
All

### :page_with_curl: Steps To Reproduce
Log in to MapD cloud, create or edit an Immerse dashboard and close out without hitting 'Save'

- **Actual result:**

Changes are lost/not saved

- **Expected result:**
Dashboard should auto-save on edits. Any cloud-based application currently allows for this.

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

### :memo: Other Info",niviksha,"enhancement,hi-pri,mapd-cloud",,
"[Stacked bar chart] X-axis not aligned properly to Y-axis [Safari, Edge, Explorer]",4275,,2018-04-02T16:16:30Z,2018-05-29T23:20:59Z,"### :speech_balloon: Description
The X-axis is not aligned correctly to Y-axis

### :computer: Environment
- **Browser Name, Version**: Edge, Explorer
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
- Create a Stacked bar chart with Internet Explorer or Microsoft Edge broswer
-  Lower the browsing window size 

- **Actual result:**
X-axis not aligned properly to Y-axis

- **Expected result:**
X-axis should be aligned to the 0 mark of Y-axis. 

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots
![stacked_bar_chart_scroll](https://user-images.githubusercontent.com/35040876/38158177-a8ff928a-3444-11e8-9fc6-897c7c33b455.gif)

![screen shot 2018-05-29 at 4 19 38 pm](https://user-images.githubusercontent.com/39566471/40690485-2ec7c16c-635c-11e8-98d0-1be9dd14ef95.png)

### :memo: Other Info

Note this may have been introduced PR #4269
http://immerse-4269.dev.frontend.builds.mapd.com/",ericli5454,"P2,bug,stacked-bar-chart",,
Popup column on pointmap results in console error on clicking map,4273,,2018-03-30T23:45:43Z,2018-03-30T23:45:43Z,"### :speech_balloon: Description

No obvious ill effects except for console error. Happens only on dist / prod builds, not on dev.

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
-
- **Actual result:**
- **Expected result:**

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

<img width=""905"" alt=""screen shot 2018-03-30 at 18 45 25"" src=""https://user-images.githubusercontent.com/2074135/38157228-886f9654-344a-11e8-9efa-c03092494c9b.png"">


<img width=""372"" alt=""screen shot 2018-03-30 at 18 42 56"" src=""https://user-images.githubusercontent.com/2074135/38157226-7b51c5e6-344a-11e8-8732-102f7d812b24.png"">

<img width=""727"" alt=""screen shot 2018-03-30 at 18 43 01"" src=""https://user-images.githubusercontent.com/2074135/38157227-7efb8812-344a-11e8-8011-068092667cd5.png"">",jrajav,bug,,
[Table Import] Show error message for duplicate column names,4266,,2018-03-29T20:02:18Z,2018-03-30T11:03:19Z,"### :speech_balloon: Description

Currently when we have duplicate column names and attempt to import, we get an error:

`[1,""create_table"",2,0,{""1"":{""rec"":{""1"":{""str"":""Exception: Column 'Bus_interface' defined more than once""}}}}]`

But after the create_table we still proceed to import_table, which then fails because the table does not exist, and only *that* error is then shown in Immerse.

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
-
- **Actual result:**
- **Expected result:**

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

### :memo: Other Info",jrajav,,,"See also #964,andrewseidl"
Error indicators are carry over when switching between piecewise and link import forms,4260,,2018-03-28T22:52:54Z,2018-03-30T15:20:59Z,"### :speech_balloon: Description
Currently, the red error field indicators are carried over when switching between the S3 piecewise (region|bucket|path) and S3 Link (https url) input form and vis-versa


### :computer: Environment
- **Browser Name, Version**: all
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
- Navigate to S3 piecewise (region|bucket|path)  input page 
- Leave fields blank and click import file
- Switch to S3 Link

- **Actual result:**
- Red error indicators are carried over

- **Expected result:**
- Red error indicators are not carried over

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots
![red_indicator_bug](https://user-images.githubusercontent.com/35040876/38059737-7c292810-329c-11e8-8f4e-6d9b2422c7de.gif)


### :memo: Other Info",ericli5454,"mapd-cloud,s3-import",,"Is this actually an issue? If the user submits one of the forms without an access or secret key, shouldn't they still be alerted of that issue until they input a value into those? @Christian-Baptiste ?,jrajav
I never like to nag the user when they have not done anything wrong. Switching input types to me is more of a starting over situation thus it seems like we should clear the errors. 

This also brings up another question. What do we do if the user already filled out the keys? Do we transfer those over when switching? And if so does it make sense to do that for the user or will the values be different?,Christian-Baptiste
@Christian-Baptiste 

> Do we transfer those over when switching?

We do indeed.

> will the values be different?

No, they are the same keys in either case.,jrajav"
Investigate input placeholder styling,4259,,2018-03-28T22:22:45Z,2018-03-29T17:52:34Z,"Discussion / design issue for input placeholder styling, currently just native but might be improved:

<img width=""518"" alt=""screen shot 2018-03-28 at 17 22 11"" src=""https://user-images.githubusercontent.com/2074135/38059578-90b54bfa-32ac-11e8-8e61-6206d408331d.png"">",jrajav,design,Christian-Baptiste,
S3 import input page has improper layout format for smaller window sizes [IE],4253,,2018-03-28T17:16:31Z,2018-03-28T17:19:02Z,"### :speech_balloon: Description
The new S3 import page has a issue where if user decreases the window size, the middle fields and titles would overlap.

Note: This only occurs on S3 REGION|BUCKET|PATH,

### :computer: Environment
- **Browser Name, Version**: Internet Explorer
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
- Navigate to S3 import  for Region|Bucket|Path input page
- lower screen size

- **Actual result:**
improper format

- **Expected result:**
proper format
### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots
![IE_incorrect_field_format_s3_import.png](https://images.zenhubusercontent.com/5a4c12b9a016c5b034bbd07e/8b6d99ef-8ff4-4821-b728-de763056114b)

### :memo: Other Info",ericli5454,"P3,bug,mapd-cloud,s3-import",,"@jrajav, I think this may have been introduced from https://github.com/mapd/mapd-immerse/pull/4207,ericli5454"
Disable Nightwatch e2e tests from PRs,4251,,2018-03-28T15:35:41Z,2018-03-28T15:35:41Z,"### :speech_balloon: Description
We spend a lot of time trying to figure out why Nightwatch fails to run properly, and it very rarely actually catches bugs. We decided that it's time to stop them to run on PRs, but only if we also work on a better plan for improving quality, which will be discussed and prioritized here: #4250",biovisualize,,,
Design spike on improve frontend test infrastructure,4250,,2018-03-28T15:32:18Z,2018-03-28T15:49:28Z,"### :speech_balloon: Description
We need to find a better way to work on code quality automation. Our preference is with increasing unit test coverage, as it also help us to think more in term of interfaces, encourages modular/decoupled architecture and enforces good coding patterns. But we could also find ways to participate, for example to add cases, to the QA automation.

### Acceptance criteria
* Discuss and document solutions for more test coverage
* Make tasks to implement them
* Make sure that this work is part of the planning for 4.0

### Ideas
* port frontend e2e tests to QA tests
* find a way for frontend dev to add test cases to QA tests
* validate our current unit tests
* lower any friction to adding new unit tests",biovisualize,tech,la-mapd,"* Find way to communicate on needed IDs or other changes for adding / changing automation tests in PRs / issues?,jrajav"
Stacked bar wishlist,4248,,2018-03-28T13:45:45Z,2018-03-28T13:45:53Z,"### :speech_balloon: Description
A place to list ideas to improve stack bar chart, that could be extracted as new issues when it's time to work on them.

* Option for topN to be something else than 5
* better color palette, for example for color blind (#4247)
* filter form clicking on legend",biovisualize,stacked-bar-chart,,
Design: pick a better color list,4247,,2018-03-28T13:34:23Z,2018-03-30T21:24:26Z,"### :speech_balloon: Description
Our current color palette has some limitations that we need to document and find solutions for.

### Acceptance criteria
* List the limitations around our current sets of colors
* Document user stories and specs
* Research the best way to get there

### Notes from #3917
@Christian-Baptiste 
I am working on several new color pallets. Do we have any reference of how
many colors per pallet we would need or should have?  This set has 45. It
also blends the colors in a way that shades can be seen even if colors can
not (color blind).
![image.png](https://images.zenhubusercontent.com/5aa83f834b5806bc2bcab856/75ec1cf1-8e3b-4ecf-93be-471a87780513)

@clhenrick 
@Christian-Baptiste this is for a categorical / ordinal color scheme? I start to question whether or not anyone can differentiate colors when there are more than 7, but if it works it works!

One color scheme tool I often resort to is colorbrewer. Here's their 12 color ""qualitative"" color scheme: http://colorbrewer2.org/#type=qualitative&scheme=Paired&n=12 which as the tool indicates, is not suitable for color blindness.

@biovisualize
@Christian-Baptiste If we have a large set of colors, we also need a way to pick a smaller set from it, so we are not stuck just picking up like the first n from the set, which would just have a bunch of similar colors.

Of course, this set is fine for categorical colors, but we will also need linear, maybe divergent.

Here are the colors we are currently using, for reference https://github.com/mapd/mapd-immerse/blob/master/src/constants/colors.js

@Christian-Baptiste
Yep,  This set is primarily for larger data sets and/or stacked content.
Agreed we need different type of pallets for different chart types.

@jrajav
Re: The large set concern, could we just do a spaced subset over them? If we have only 5 groups, take every 9th of a 45 color palette",biovisualize,"charts-ux,design",Christian-Baptiste,"Another factor to consider when using an ordinal color scheme is that colors that appear darker and those that appear lighter tend to imply importance, which is incorrect. A true ordinal color scheme should have the same value (perceptual level of lightness / darkness) for each color. This will likely mean cutting down the number of possible colors from 45 to something like 12.
cc @Christian-Baptiste ,clhenrick
cc@clhenrick 

Color is a very sensitive topic for many reasons. Importance, success versus failure, cultural meaning, marketing, and branding, there are so many factors that it can make your head spin.  

While I agree that in some use cases a darker color gives a perception of importance in the use cases where many colors are needed for large volumes of categorical results the use of shades are important in obtaining the high number of different colors. Especially when you factor in color blindness it is almost impossible to create a pallet this large without using lighter and darker shades. And even if you were to create a pallet this large without using shades you would quickly loose visually appeal. 

The technique that I used to create this pallet of 45 colors that has both visual blend and easy separation was done using a pallet from a single numeric value (in this case 600) then I apply a white overlay and a black overlay that are both set to 50% opacity.    This gives me three shades for each color. I then placed the neutral color on the bottom, then the light shade then the darker shade. This allows easy separation between the three shades and as well with the color that follows it.  

This technique also gives us several other smaller pallets.     

- We get a solid pallet of 15 colors using the neutral colors.  
- We get a softer almost pastel set of 15 colors using the light shade. 
    *Note the darker shade can't be used because it is too hard to decipher the colors without the light colors
- We also can make an additional pallet of 5 colors using something that Jonathan suggested which is using these colors: 1, 10, 19, 28, 37 
- We also get another pallet of 10 colors using (2,3), (11,12), (20,21), (29,30), (38,39)
- We get pallets of varying amounts of the same color or similar colors

The nice thing about using these methods is we can create several pallets that will have visual cohesion on a single dashboard. Of course, we will still need to address the bigger dashboard issue of a single data value having the same color through all the charts.,Christian-Baptiste
Two other benefits of this particular set of 45 colors:

- They pass all color blind test.
- They work well on a white background (like we currently have) and on darker nutral gray and blue gray backgrounds just in case we want to eventually offer a darker charting UI switch.

![image.png](https://images.zenhubusercontent.com/5aa83f834b5806bc2bcab856/4bcd5220-358a-4da8-8fe0-3dd10d1a211b)
,Christian-Baptiste
Several of you have provided links to color tools so I thought I would copy these links and several of the ones I use here:

- https://material.io/color/#!/?view.left=0&view.right=0&primary.color=8E24AA
- https://material.io/guidelines/style/color.html#color-color-system
- This used to Kuler before Adobe took over it. I think it might require an Adobe id to get in. https://color.adobe.com/explore/?q=chart
- https://bl.ocks.org/pstuffa/3393ff2711a53975040077b7453781a9
- https://github.com/d3/d3-scale-chromatic
- https://bl.ocks.org/mbostock/5577023
- http://colorbrewer2.org/#type=sequential&scheme=PuBu&n=3
- Add your favorites here



- color blind test: chrome extension https://chrome.google.com/webstore/detail/colorblinding/dgbgleaofjainknadoffbjkclicbbgaa?hl=en
- color blind plugin for Sketch  http://www.getstark.co/


Not a tool but rather our current pallet - https://github.com/mapd/mapd-immerse/blob/master/src/constants/colors.js
,Christian-Baptiste
Another point to make about having such a large color pallet is it necessary? 

While it is extremely powerful to be able to show huge amounts of data all with unique colors there are many times the quantity is too much for a human to digest. Even in my example above on the darker background, I am only using 25 colors with mock data amounts. It quickly becomes difficult to use and even more difficult to identify outliers (one of the common uses for using stacked charts). ,Christian-Baptiste
Another design trend that has made its way back into our UI's is the use of gradients.  Rather than showing a single color value the use of a gradient can make the data pop and give it a fresh look.                    

![image.png](https://images.zenhubusercontent.com/5aa83f834b5806bc2bcab856/102301b4-fc02-40fd-a86d-955255255cfc)
,Christian-Baptiste
@Christian-Baptiste thanks that's an awesome and informative write up on the benefit of using such a pallet! I agree that at some point more than _n_ colors becomes difficult for a user to decipher. I suspect this is why Cynthia Brewer's (a professor of geography & GIS at Penn State) research for the ColorBrewer tool (which is what D3 uses in it's scale-chromatic module) caps the number of colors for the ordinal color scheme at 12.,clhenrick
I'm not sure what the answer is for the question of assigning distinct colors to a categorical data set with many many values. Generally Immerse's UX from what I can tell lends itself to ""let the user do whatever they want, even if it's a bad decision"" rather than enforcing sensible constraints. Perhaps the number of color categories is one constraint we should enforce, but others probably feel differently about this.,clhenrick
Following your comment https://github.com/mapd/mapd-immerse/issues/4247#issuecomment-377064977 blah

> test,biovisualize"
Better data grouping implementation,4246,,2018-03-28T13:24:35Z,2018-03-28T13:24:45Z,"### :speech_balloon: Description
Stacked bar chart has a slider to limit the number of ""groups"" displayed. It's the same slider as heatmap, which has a comparable problem documented here #2281. 

### Discussion on Slack
https://mapd.slack.com/archives/G7RMMRFPE/p1521837635000284
Todd Mostak [16:40]
```
It shouldn't be whether rendering millions of elements is possible, but minimizing the data transferred and rendered to give the user what they want to see. Heatmaps are two dimensional so it doesn't make sense to just take the top n along both groups. We need to use a subquery to get the top X groups of for the x axis dimension (if categorical) and the top Y groups of the y axis dimension. Ideally we do this dynamically so the groups could change as crossfiltered (but may want to allow an ability to lock like we do for other charts). The query would look like this: select X as key0, Y as key1, count() as color from table where key0 in (select x from table group by x order by count() desc limit x_cardinality) and key1 in (select y from table group by y order by count() desc limit y_cardinality) (Note we'd probably like to use similar query structure to get the dynamic top k groups we've talked about for line and histogram charts when grouping by categorical dimensions).

One of the practical issues with just going with at_most_n is I suspect the heatmap is creating cells for all groups along the two axes even if there is not data. So if I return two rows, ""New York X United Airlines"" and ""Florida X American Airlines"" it will likely create svg elements for the empty cells ""New York X American Airlines"" and ""Florida X United Airlines"". In pathological cases (imagine grouping a user_name on twitter by user_id), we could end up creating limit^2 number of cells.

Again we may want to punt on this but just expressing my two cents on why just a flat limit or at_most_n is at most a partial band-aid on the problem.
```
(from #2281)

```SELECT origin as key0, CASE WHEN carrier_name IN ('Southwest Airlines', 'American Airlines', 'Delta Air Lines', 'United Air Lines', 'Northwest Airlines') THEN carrier_name ELSE 'undefined' END as key1, count(*) as val FROM flights_123M WHERE (((dep_timestamp >= TIMESTAMP(0) '2002-09-01 00:00:00' AND dep_timestamp <= TIMESTAMP(0) '2005-07-01 00:00:00'))) AND origin in (select origin FROM flights_123M GROUP BY origin ORDER BY COUNT(*) DESC LIMIT 100) GROUP BY key0, key1 ORDER BY val DESC```

this is the new subquery: select origin FROM flights_123M GROUP BY origin ORDER BY COUNT(*) DESC LIMIT 100
technically the color by part could be done a subquery as well instead of a separate pre-flight query but thats likely another task b/c it will interact with our color logic
also note that LIMIT 100 would change to however many bars you want",biovisualize,stacked-bar-chart,,
"(Cloud) Unable to local import certain compressed files on cloud ( .gz, .bz2, .7z, .rar, .tgz)",4245,,2018-03-28T05:27:30Z,2018-03-30T18:54:59Z,"### :speech_balloon: Description
Currently, users are unable to locally import the following compressed files( .gz, .bz2, .7z, .rar, .tgz)

Note: users are still able to successfully local import zip files.

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
- Navigate to the local import page
- Drag and drop compressed file (.gz/.bz2/.7z/.rar/.tgv)

- **Actual result:**
Unable to import compressed files


- **Expected result:**
Able to import compressed files


### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots
![screen shot 2018-03-27 at 10 18 00 pm](https://user-images.githubusercontent.com/35040876/38010475-228df0b2-320e-11e8-9958-4774ec5262e9.png)




### :memo: Other Info",ericli5454,"bug,import,mapd-cloud",,
Design spike on loading spinners,4242,,2018-03-27T22:02:11Z,2018-03-28T23:53:57Z,"### :speech_balloon: Description
The Cloud build could be slow to load, so it was getting obvious that we needed the dashboard loading spinner back. This issue started a conversation about how to do it better. So the current task is to collect these ideas and to make a decision, which can spawn a new issue to implement the ideas.

See the start of the discussion here: #4194.",biovisualize,design,Christian-Baptiste,"Moving content from #4194: 

,Christian-Baptiste
**Ideas for making the Immerse experience faster or appear faster.**

Some random ideas to explore:

- Load containers first
- Only show spinner icons when we know something will take more than ""x""
number of seconds
- Load smaller charts first
- Load chart in order top left top right then down
- Load container chart, container char container chart (again top left - to
right then down)
- Individual spinner icons on the charts that are still loading
- Quick animations that guide the user focus

- **More ideas welcomed**







,Christian-Baptiste"
Remove the custom map styles from server.json,4239,,2018-03-27T20:19:36Z,2018-03-27T20:19:37Z,"### :speech_balloon: Description

Last 2 map styles don't work on the cloud. 
The last 3 styles are part of the server.json example for the white label feature.

Should be removed since they don't work and are not part of the official mapd releases.

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
- Create any pointmap on the cloud.
- Select any of the last 2 map styles, ex : OSM

- **Actual result:**
Blank map.
- **Expected result:**

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

### :memo: Other Info",menaczar,"bug,mapd-cloud",,
Last 2 map styles don't work on the cloud.,4238,,2018-03-27T20:16:50Z,2018-03-27T20:16:51Z,"### :speech_balloon: Description

Sharing dashboards on the cloud doesn't work.

The last 3 styles are from the custom servers.json file for the white label option. I guess they can be deleted as they are not part of the official mapd release.


### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
- Any point map
- Select any of the last 2 styles, ex: OSM

- **Actual result:**

Blank map.

- **Expected result:**

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

### :memo: Other Info",menaczar,"bug,mapd-cloud",,
Estimate 3.6.1 and 3.7 projects,4231,,2018-03-27T04:12:31Z,2018-03-27T04:13:07Z,"### :speech_balloon: Description
Estimates for 3 projects

The estimates are in ""task complexity"". It's difficult to convert form complexity to dev days without knowing our velocity. But here we are guessing a velocity of 4 points a day.

**Stacked bar chart**
Epic: https://github.com/mapd/mapd-immerse/issues/4209
Complexity estimate: 52
Time estimates: 52 points is about 13 dev days, about 2.5 dev weeks. 
Resources: Owner: @clhenrick (will be on vacation for a week), shared with @biovisualize (who is on another 3.7 project)
Deadline until feature freeze: ?

**Formatting, simplified version for phase 1**
Epic: https://github.com/mapd/mapd-immerse/issues/4230
Complexity estimate: 39
Time estimates: 39 points is about 10 dev days, about 2 dev weeks. 
Resources: Owner: @biovisualize
Deadline until feature freeze: ?

**S3 import, remaining tasks for cloud launch**
Epic: https://github.com/mapd/mapd-immerse/issues/4204
Complexity estimate: 7
Time estimates: 7 points is about 2 dev days
Resources: Owner: @jrajav 
Deadline until feature freeze: ?",biovisualize,,la-mapd,
[cloud] 500 errors cause immerse to hang,4229,,2018-03-27T01:50:29Z,2018-04-03T17:05:30Z,"### :speech_balloon: Description

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
I saw this bug twice: 
1 - Import S3 directory  from `https://s3.console.aws.amazon.com/s3/buckets/mapd-parquet-testdata/qa/multiple_csv_files/trip_data_20GB/?region=us-east-1&tab=overview`
2 - Run multiple queries to `SELECT` all on a big dataset
 
- **Actual result:**
- The browser would be in loading mode, never stopping
- In the console, I can see a network call that has failed `500 error`
- status.json shows status to be `UP`
- **Expected result:**

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots
![500_never times out _ importer](https://user-images.githubusercontent.com/10747240/37941766-b2ad6f64-3124-11e8-8fab-c81135198563.gif)
![500_never times out _ sql importer](https://user-images.githubusercontent.com/10747240/37941767-b2ca28f2-3124-11e8-8a60-cf8e6cabb252.gif)

### :memo: Other Info
From Zendesk: https://mapd.zendesk.com/agent/tickets/430",Davidiskander,"P1,bug,mapd-cloud",,
"[Cloud] Implement parameter from server (e.g. in servers.json) for cloud, to enable / disable Immerse features",4228,,2018-03-27T00:19:16Z,2018-03-27T00:19:27Z,"Currently (after initial cloud launch), the cloud portal performs some CSS overrides on Immerse to hide or change certain elements. Implement a better solution for this when we can. Complete listing so far:

`.account-panel` -> User account menu (with ""Log out""), normally shown in on-premise Immerse, `display: none`'ed for cloud
`.account-panel` -> The reverse, 'Account' link to cloud portal, only shown for cloud
`.streaming-btn` -> Dashboard Refresh / Auto-refresh button, only shown for on-premise Immerse",jrajav,"mapd-cloud,tech",,
Hide auto-refresh spinner/behavior for cloud,4226,,2018-03-26T23:32:13Z,2018-04-10T22:44:28Z,"### :speech_balloon: Description
The auto-refresh icon/spinner are visible on portal.map.cloud instances. This is somewhat misleading, and we would prefer to selectively be able to disable this behavior.

### :computer: Environment
- **Browser Name, Version**: 
All
- **mapd-immerse Version or Branch**: master
All

### :page_with_curl: Steps To Reproduce
Log in to portal.mapd.cloud and open a dashboard. 

- **Actual result:**
Autorefresh spinner is visible, an appears to be refreshing in the background.

- **Expected result:**
Auto-refresh behavior should be 'hideable' in the cloud environment.

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots
[Uploading... Immerse Auto-Refresh in MapD Cloud.png ]
### :memo: Other Info",niviksha,"enhancement,mapd-cloud",,
Incorrect style for check box in Import Settings [Edge & Explorer],4225,,2018-03-26T22:13:40Z,2018-03-26T22:20:29Z,"### :speech_balloon: Description
The checkmark box for the import settings in the S3 import page does not have proper style

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
- Navigate to the S3 import page
- Scroll down to observe the Import Settings

- **Actual result:**
Check mark for quoted strings is black with white background

- **Expected result:**
Check mark for quoted strings is white with blue background in check box

Note: This only occurs for Edge and Explorer only and the this issue was in since http://immerse-4136.dev.frontend.builds.mapd.com/#/importer?_k=ub0usy so it was not introduce with S3 import, however it still affects the UX for S3 import for explorer and edge users

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots
Edge: 
![edge_tableimporter_incorrect_checkmark_black.png](https://images.zenhubusercontent.com/5a4c12b9a016c5b034bbd07e/9b65b720-40c4-4cff-b1a5-ca0af9bcb77f)

Internet Explorer
![explorer_table_import_checkmark_black.png](https://images.zenhubusercontent.com/5a4c12b9a016c5b034bbd07e/57794673-b4bd-4bf6-a4e0-7f70ee513d9d)

### :memo: Other Info",ericli5454,"P3,bug,s3-import",,
Stacked bar chart Color Palette: change color,4222,,2018-03-26T19:20:39Z,2018-03-31T00:24:12Z,"### :speech_balloon: Description
The color can be changed for each data layer using the color palette.
- [x] the color selector shows up
- [x] selecting a color applies it to the color palette and to the chart
- [x] it is persisted (there's a bug in combo chart, it doesn't persist #3789), cancel works",biovisualize,stacked-bar-chart,,"Similarly to #4224 this is ready to be verified by QA

edit: I take it back, I can repo the bug mentioned above https://github.com/mapd/mapd-immerse/issues/3789,clhenrick"
Stacked Bar: stretch goals,4220,,2018-03-26T19:15:28Z,2018-04-12T20:11:18Z,"### :speech_balloon: Description
Stretch goals for phase 1 of stacked bar that if not implemented will be pushed to phase 2.

- [ ] Properly handle negative values (stretch goal?)
- [ ] Errors to pop-up (stretch goal)
- [ ] support bins for x-axis (stretch goal)

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
-
- **Actual result:**
- **Expected result:**

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

### :memo: Other Info",clhenrick,stacked-bar-chart,,"Example D3JS block of a stacked bar chart with negative values:

https://bl.ocks.org/mbostock/b5935342c6d21928111928401e2c8608,clhenrick"
Stacked Bar: Chart switching,4216,,2018-03-26T19:09:11Z,2018-03-26T19:09:11Z,"### :speech_balloon: Description

Stacked Bar should not break other charts when switching between chart types in the chart editor.

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
-
- **Actual result:**
- **Expected result:**

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

### :memo: Other Info",clhenrick,stacked-bar-chart,clhenrick,
Stacked Bar: dimensions and measure settings (infra),4215,,2018-03-26T19:08:02Z,2018-03-26T19:08:02Z,"### :speech_balloon: Description
Make sure dimension and measure types are correctly set in stacked bar chart blueprint (constants/chart.js). This is currently working but will need to change if we decide to reach our stretch goal of supporting time and numeric data types but treating them as categorical. 

For the time being our users could potentially hack around this could be converting a time or numeric field to a string.

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
-
- **Actual result:**
- **Expected result:**

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

### :memo: Other Info",clhenrick,"stacked-bar-chart,tech",clhenrick,
Stacked Bar: Data layer (infra),4211,,2018-03-26T18:59:53Z,2018-03-28T16:51:24Z,"### :speech_balloon: Description
We're using the `mapd-data-layer` library which was started and mostly completed by old Jon and Tai. For stacked-bar we need to figure out how to use subqueries with it and verify it handles UI to data transformation tasks.

This issue could be considered a stretch goal. We can get the stacked bar implemented without using the mapd-data-layer module, then come back to it later.

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
-
- **Actual result:**
- **Expected result:**

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

### :memo: Other Info",clhenrick,stacked-bar-chart,clhenrick,"@clhenrick Let's assume that the acceptance criteria is about making any kind of data layer working. We can open a new task later to integrate it in mapd-data-layer.,biovisualize
Note from meeting: instead of `LIMIT 100`, it should be `LIMIT 100 * topN` to get a better approximated number of groups.,biovisualize
@biovisualize got it, in that case this issue is mostly complete. 

It actually shouldn't be `LIMIT 100 * topN` because we are using a subquery that correctly orders the data. This might have been left out of the meeting notes from last friday.

Example stacked bar SQL query with the new subquery:

```sql
    SELECT
        dest_city as key0,
        CASE 
            WHEN carrier_name IN ('Delta Air Lines',
            'Southwest Airlines',
            'American Airlines',
            'US Airways',
            'United Air Lines') THEN carrier_name 
            ELSE 'other' 
        END as key1,
        count(*) as val 
    FROM
        flights 
    WHERE
        (
            dest_city IN (
                SELECT
                    dest_city 
                FROM
                    flights 
                GROUP BY
                    dest_city 
                ORDER BY
                    Count(*) DESC LIMIT 100
            )
        ) 
    GROUP BY
        key0,
        key1 
    ORDER BY
        val DESC
```

The one thing I may need to change in the data layer that creates the query is using the aggType in the subquery's `order by`, right now it only does `order by count(*) desc`. If for example a user chooses `avg asc` as the `aggType` then we may want to do `order by avg(*) asc` in the subquery. cc @tmostak ,clhenrick"
Stacked bar chart phase 1: breakdown and estimates,4209,,2018-03-26T18:25:09Z,2018-05-02T23:01:14Z,"### Description
Complete task breakdown and estimates for the stacked bar chart MVP.

**Estimates**
Complexity:
Without stretch goals: 52
If we disable the color palette features from the MVP: 37
With stretch goals: 66

So if we do everything except the stretch goal, if we are 1.5 devs on it, the wall clock time could be 2.5 weeks. That's the lower limit and only reflects the ideal case. 

Factors for estimating the possible delivery date
* @clhenrick will be in vacation next week
* @biovisualize is collaborating, but is also on another project

**Main tasks**
- [x] Click filter (break down: click callback, global filter, styling selected bars)
- [x] Number of groups slider
- [x] Color palette (to be broken down, all others, add/remove color, change color)
- [x] Horizontal scrolling, bar autosizing 
- [ ] Data layer (infra)
- [x] Null dimension selector
- [x] dimensions and measure settings in `src/constants/charts.js` (infra)
- [ ] Chart switching (QA)
- [x] Labels for second dimensions in tooltip
- [ ] Properly handle negative values (stretch goal?)
- [ ] Errors to pop-up (stretch goal)
- [ ] support bins for x-axis (stretch goal)

**Done**
- [x] Drag and drop dimension/measures
- [x] Selector for single measure, 2 dimensions (2nd dimension sub-category instead of color)
- [x] Can be colored by single color, dimension
- [x] hide x axis horizontal line (vertical tick marks are sufficient for bar charts, the horizontal line can give the impression that the data is continuous and not discrete)
- [x] limit number of bars to 100
- [x] enable horizontal scrolling of bar marks container
- [x] New chart type icon
- [x] Defaults to bar, 2nd dimension makes it stacked
- [x] use vertical bar icon for chart selection
- [x] rename modules from `line2` to `bar` in `src/charts/bar-chart/`
- [x] namespace action types so they don't cause side effects with `line2` reducer
- [x] integrate `mapd-data-layer` for categorical data
- [x] enable sorting by dimension or measure
- [x] integrate `mapd3`'s stacked bar chart component
- [x] feature is exposed via a `document.cookie` similar to `line2`
- [x] only support stacking of bars (not grouping)
- [x] no brushing, no range chart
- [x] 1 measure and 2 dimensions

**Not required**
- [ ] ~~tooltip applies to individual bar segment~~
- [ ] ~Disable color by dimension when colored by measure and vice-versa~
- [ ] ~Scale can be categorical, numerical or time~",biovisualize,"Epic,stacked-bar-chart",,"Quick status update: the main features outlined here have been implemented (pending QA & peer review for click filter in PR https://github.com/mapd/mapd-immerse/pull/4333). 

There are some remaining features on the list above marked as ""stretch goals"". Do we want to aim to have those in by 4.0 as well?

cc @mythilimapd @biovisualize @la-mapd  ,clhenrick
Thanks @clhenrick. There is still a couple of times that are not checked like color palette and data layer (infra). Are these waiting for someone else to be worked on? Also I assume chart switching is mainly a testing effort?,mythilimapd
Color Palette features are working (https://github.com/mapd/mapd-immerse/issues/4219 , https://github.com/mapd/mapd-immerse/issues/4221 , https://github.com/mapd/mapd-immerse/issues/4222) but there was some talk with @Christian-Baptiste of updating the color scheme to a more appropriate one for categorical data.

Data Layer is something we'll have to revisit as I don't think I'll have time to dive into it for 4.0 but it's currently working.

Chart switching is definitely a testing effort by QA. This is one of the most brittle parts of Immerse so I suspect some issues may come up.,clhenrick"
(Cloud) Delimiter Autodetect doesn't work with S3 import of multiple tsv files,4199,,2018-03-24T01:31:14Z,2018-06-08T18:30:46Z,"### :speech_balloon: Description
Delimiter Autodetect doesn't work with S3 import for multiple tsv files, the current logic only detect it if the archive name ends with .tsv

One work around to circumvent this is if user manually selects the delimiter for the import option settings. 

### :computer: Environment
- **Browser Name, Version**: chrome
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
- S3 import if multiple tsv with archive name that does not end with .tsv
- S3 File Path for tsv: ```s3://mapd-parquet-testdata/qa/bundle_tsv``` 

- **Actual result:**
Tab delimited type not properly detected
<img width=""1570"" alt=""multiple_tsv_import_format_issue"" src=""https://user-images.githubusercontent.com/35040876/37851065-b71fec2a-2e9a-11e8-8e25-3af00ef65858.png"">

- **Expected result:**
Tab delimited type properly detected
<img width=""1570"" alt=""screen shot 2018-03-23 at 1 12 42 pm"" src=""https://user-images.githubusercontent.com/35040876/37851389-e6ec6630-2e9b-11e8-90a6-e638713f0e6e.png"">

-Note: One potential enhancement is to add error messages or pop up/placeholder to help inform end user

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

### :memo: Other Info",ericli5454,"bug,s3-import",,
Port Nightwatch tests to QA Selenium test automations,4197,,2018-03-23T21:22:45Z,2018-03-23T21:22:45Z,"### :speech_balloon: Description
The Nightwatch tests we maintain on the frontend are just Selenium tests with JS bindings 
https://github.com/mapd/mapd-immerse/tree/master/test/e2e/tests
Merging them with the tests developed by QA
https://github.com/mapd/mapd-test-automation/tree/master/frontend/immerse-automation-tests-selenium
would make us work all on maintaining and improving the same test suite.",biovisualize,,,
[combo] animate line transitions,4192,,2018-03-23T11:44:20Z,2018-03-23T11:44:35Z,"### :speech_balloon: Description
The old line chart had animated transitions when changing data (filtering, fetching). Although some animations were not perfect and may need some design, they can help the user to keep a mental map between multiple states.

### Acceptance criteria
* Identify the animated transitions to add (taking into account some new focus behaviour and the difference between transitions on line vs bars vs grouped)
* Implement the transitions
* Trying to avoid irrelevant transitions like on the old chart that sometimes lack ""object constency""

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
-
- **Actual result:**
- **Expected result:**

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots
![new_combo_not_animating](https://user-images.githubusercontent.com/824534/37827457-f4b9ab3e-2e6d-11e8-87e6-f05763bf5c0f.gif)

### :memo: Other Info",biovisualize,combo-chart,,
Error handling makes dashboard unusable,4191,,2018-03-23T06:28:31Z,2018-03-23T06:28:31Z,"### :speech_balloon: Description

I had been working with a dashboard, and eventually got `Error: Exception: Not enough host memory to execute the query`. (I think that message was in a dialog, but I copied the text later from the JS console.)

In the server log, this is:
```
I0322 23:25:20.196743 16063 BufferMgr.cpp:39] OOM trace:
runImpl:288 
E0322 23:25:20.196794 16063 ExecutionDispatch.cpp:304] Failed to allocate 6823895760 bytes of memory
E0322 23:25:20.196916 16044 MapDHandler.cpp:2606] Exception: Not enough host memory to execute the query
```

I was able to dismiss that error dialog and continue with the dashboard.  One of the charts had a spinner that never stopped.

I clicked Clear Filters, and the error happened again.  I went to Dashboards and re-opened it, got the error again.  This time, I cleared filters and Saved, then re-opened it.  Now, I only get:
```
FAILED TO RENDER DASHBOARD
""Do you want to report this error?""
REPORT NO
```

Either button closes the dashboard, so now my work is lost, until I buy more memory. :(

The JS console for that error only says ""error"".  But it's the same OOM in the server log.

### :computer: Environment
- **Browser Name, Version**: Chrome and Firefox
- **mapd-immerse Version or Branch**: 3.6.0 on mit

### :page_with_curl: Steps To Reproduce

This is on mit, user=mapd, db=zeus, dashboard=log1.

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge",mikehinchey,"bug,stability",,
TypeError: Cannot read property 'getTable' of null,4190,,2018-03-23T05:25:26Z,2018-03-23T05:25:26Z,"### :speech_balloon: Description

I created a dashboard with about 10 charts, line, bar, and table.  Upon reopening:

In Chrome, the dialog is:
```
CHART RENDER ERROR
TypeError: Cannot read property 'getTable' of null
```

Chrome JS console: `Uncaught (in promise) TypeError: Cannot read property 'type' of null`

In Firefox:
```
Chart Render Error
TypeError: t is null
```

Firefox JS console:
```
Unhandled promise rejection 
TypeError: t is null
Stack trace:
i@http://mit.mapd.com:9092/bundle.a47b50aad2421727d950.js:1:1
./src/utils/redux/chart-editor-error-handler-middleware.js/t.default/</</<@http://mit.mapd.com:9092/bundle.a47b50aad2421727d950.js:1:1041439
./src/utils/redux/chart-update-middleware.js/t.default/</</<@http://mit.mapd.com:9092/bundle.a47b50aad2421727d950.js:1:1042669
./src/utils/redux/app-error-middleware.js/t.default/</</<@http://mit.mapd.com:9092/bundle.a47b50aad2421727d950.js:1:1040632
./src/utils/redux/delay-middleware.js/t.applyDelay/</</<@http://mit.mapd.com:9092/bundle.a47b50aad2421727d950.js:1:1043976
r/</</<@http://mit.mapd.com:9092/vendor.54d3002ecfcf573e2f7a.js:1:5126963
c/</<@http://mit.mapd.com:9092/vendor.54d3002ecfcf573e2f7a.js:1:5107077
./node_modules/react-router-redux/lib/middleware.js/t.default/</</<@http://mit.mapd.com:9092/vendor.54d3002ecfcf573e2f7a.js:1:4661473
s/n.createAndRenderChart/<@http://mit.mapd.com:9092/bundle.a47b50aad2421727d950.js:1:58360
s@http://mit.mapd.com:9092/vendor.54d3002ecfcf573e2f7a.js:1:2162210
D/<@http://mit.mapd.com:9092/vendor.54d3002ecfcf573e2f7a.js:1:2162332
l@http://mit.mapd.com:9092/vendor.54d3002ecfcf573e2f7a.js:1:2100344
```

After clicking OK, the dashboard renders with most of the charts empty.  Clicking Clear Filters:
```
Failed to Render Dashboard
""Do you want to report this error?""
TypeError: n.dimension(...) is undefined
```

And firefox JS console:
```
TypeError: n.dimension(...) is undefined
Stack trace:
./node_modules/@mapd/mapdc/src/charts/count-widget.js/t.default/n.getTotalRecordsAsync@http://mit.mapd.com:9092/vendor.54d3002ecfcf573e2f7a.js:1:1417506
./node_modules/@mapd/mapdc/src/charts/count-widget.js/t.default/<@http://mit.mapd.com:9092/vendor.54d3002ecfcf573e2f7a.js:1:1417622
./node_modules/@mapd/mapdc/src/mixins/async-mixin.js/t.default/e.dataAsync@http://mit.mapd.com:9092/vendor.54d3002ecfcf573e2f7a.js:1:1496862
./node_modules/@mapd/mapdc/src/mixins/async-mixin.js/t.default/e.redrawAsync/<@http://mit.mapd.com:9092/vendor.54d3002ecfcf573e2f7a.js:1:1497698
```

### :computer: Environment
- **Browser Name, Version**: Chrome and Firefox
- **mapd-immerse Version or Branch**: 3.6.0

This is on mit, user=mapd, db=mapd_log, dashboard=logs3.

### :page_with_curl: Steps To Reproduce

I'll leave the dashboard there so you can inspect.  If I can repro with a simpler case, I'll add notes here.

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge",mikehinchey,"bug,stability",,
Immerse Geo Work,4188,,2018-03-22T22:54:28Z,2018-05-02T22:21:17Z,"### :speech_balloon: Description

Placeholder epic for geo work that needs to happen in Immerse 

Areas of Impact

- SQL Editor
- Data Manager (Import from local and S3)
- Geo Charts
- Chart Editor


### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
-
- **Actual result:**
- **Expected result:**

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

### :memo: Other Info",mythilimapd,"Epic,needs info",,"also see
https://github.com/mapd/mapd-core-internal/issues/956
https://github.com/mapd/mapd-core-internal/issues/1026,niviksha
@mythilimapd @niviksha I know this task is a placeholder, so it's normal that it's vague, but since we are on a track for 4.0, maybe it would be useful to add acceptance criteria here or to break it down into tasks?,biovisualize
@biovisualize everything has been documented in great detail in issue #4205, which is the work that is pending for 4.0. This epic covers other aspects that will NOT be worked on within the 4.0 timeframe.,mythilimapd
Perfect. Would it make sense to remove the 4.0 release tag and remove it from the release spreadsheet then?,biovisualize
My source of truth is github I have removed the release tag from this issue.  I am not aware of spreadsheets individuals maintain. Please feel free to update the spreadsheets with the correct github issue ID for the geo import work.,mythilimapd"
Import Tile improper Styling [Edge & Explorer],4182,,2018-03-22T17:37:19Z,2018-03-22T21:03:20Z,"### :speech_balloon: Description
The Styling for the importer  tile is not centered for [edge] & [explorer]

Note: this was introduced  before https://github.com/mapd/mapd-immerse/pull/4136, likely a formatting/styling issue introduced before S3 PR, but it still affects s3 components

### :computer: Environment
- **Browser Name, Version**: edge explorer
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
- Navigate to the importer tile page 

- **Actual result:**
Correct format

- **Expected result:**
The text and logo for import data tiles is not positioned correctly

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots
edge
![Cancel_edge_side_efffect.png](https://images.zenhubusercontent.com/5a4c12b9a016c5b034bbd07e/0ff0fca8-83fd-4d5b-ab40-18357ee4fe13)

explorer
![Cancel_explorer_side_effect.png](https://images.zenhubusercontent.com/5a4c12b9a016c5b034bbd07e/7956db5b-3373-415f-b5a6-a74db13c1d74)

edge
![Cancel_edge_side_efffect.png](https://images.zenhubusercontent.com/5a4c12b9a016c5b034bbd07e/26df3a59-df9e-4ddb-8da9-78075f0be07b)

### :memo: Other Info",ericli5454,"P3,bug,s3-import",,
AWS Title and logo appears cut off with smaller window sizes [Edge and Firefox],4174,,2018-03-21T22:01:04Z,2018-03-22T16:51:18Z,"### :speech_balloon: Description
In the table import page, the AWS title and logo appears cut off from the top with smaller browser window size.

### :computer: Environment
- **Browser Name, Version**: Microsoft Edge, Firefox
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
- Navigate to import data page with Microsoft edge/firefox browser
- Select Import data from Amazon S3
- Resize browser such that its slightly smaller

- **Actual result:**
AWS Title and logo appears cut off 

- **Expected result:**
User should be able to scroll up such that the entire AWS title/logo is visible at smaller browser sizes

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots
![edge_smaller_window_size.gif](https://images.zenhubusercontent.com/5a4c12b9a016c5b034bbd07e/3d20eefe-b42f-4da5-87e7-8e4933f04b7a)

### :memo: Other Info",ericli5454,"P3,bug,s3-import",,
[S3] Improve S3 import errors to be more user-friendly,4173,,2018-03-21T21:36:26Z,2018-03-26T22:23:38Z,"### :speech_balloon: Description

(Tech notes, from jrajav:)

Currently backend errors, usually just from whatever module is generating it, are shown directly on Immerse for problems with S3 import. Must improve these either by:

1) Receiving error codes from backend and keying them to user-friendly messages (Ideal solution)
2) String-matching error messages from backend and keying them to user-friendly messages

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### Error message 1:
**Description:** 
wrong keys
**Text:** 
detect_column_types error: failed to list objects of s3 url 's3://qedfwefweqfwe': InvalidAccessKeyId: The AWS Access Key Id you provided does not exist in our records.
**Screenshot**
![screen shot 2018-03-21 at 2 35 12 pm](https://user-images.githubusercontent.com/10747240/37738719-167d3efc-2d15-11e8-8605-50b22e9a5885.png)

### Error message 2:
**Description:** 
Dataset with no headers

**Text:**
detect_column_types error: failed to list objects of s3 url 's3://mapd-parquet-testdata/qa/format_file/trip_no_header_data.tar.gz': : Unable to connect to endpoint

**Screenshot:**
![screen shot 2018-03-26 at 3 21 30 pm](https://user-images.githubusercontent.com/10747240/37936205-7c76a5f2-3109-11e8-91ea-347ca7cae3d9.png)

### Error message 3:
**Description:** 

**Text:**

**Screenshot:**


### Error message 4:
**Description:** 

**Text:**

**Screenshot:**


### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge",Davidiskander,"P3,bug,s3-import",,"Edited description to address fix,jrajav"
Fix nested ternary statement in table-importer,4171,,2018-03-21T21:13:52Z,2018-03-21T21:13:52Z,"### :speech_balloon: Description

Introduced in https://github.com/mapd/mapd-immerse/pull/4136",jrajav,tech,,
Import Data UI Doesn't recognize column names if table has only string values,4163,,2018-03-20T17:47:42Z,2018-03-26T16:01:42Z,"### :speech_balloon: Description
If I import CSV data that only contains string data, column titles are not recognized.
### :computer: Environment
- **Browser Name, Version**: Chrome, Version 65.0.3325.146 (Official Build) (64-bit)

- **mapd-immerse Version or Branch**:  http://immerse-4136.dev.frontend.builds.mapd.com/#/importer?_k=cce88r

### :page_with_curl: Steps To Reproduce
-Import a CSV file that has only string columns.

- **Actual result:**
The columns are given generic names, and the first row of data is the column names.

- **Expected result:**
I would expect to have a checkbox to indicate that my CSV contains headers, or, in the case of a file that only has string values, I would expect a prompt asking whether my datafile contains headers.

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots
Here's a file that has integers

![image](https://user-images.githubusercontent.com/6788473/37672801-f1550f0e-2c2b-11e8-835a-d451fb90da5a.png)

Here's an imported file that only has string values:

![image](https://user-images.githubusercontent.com/6788473/37672863-0cce1b90-2c2c-11e8-8b68-354b27712d55.png)


### :memo: Other Info",DennisDawson,,,"What's happening here is that one of the heuristics we use on the backend for deciding if there's a header row or not is if there exists at least one column where the detected type of the first field is different from the detected type of the rest of the column. Obviously has issues if you only have string data.

One solution would be for Immerse to give you the option to interpret the first row as headers and then set `has_header=true` in the `TCopyParams` when calling `import_table`. For a single header row this can all be implemented in Immerse. Will require backend work and some minor API changes if we want to support skipping multiple header rows.,andrewseidl"
S3 Import form - save and auto-suggest past inputs,4162,,2018-03-20T15:35:03Z,2018-03-20T15:35:03Z,"### :speech_balloon: Description

Future follow-up from #3790 -
Store and auto-suggest past inputs of the S3 form for users.

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
-
- **Actual result:**
- **Expected result:**

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

### :memo: Other Info",jrajav,,,
Row chart bar value doesn't match with number chart,4154,,2018-03-19T15:43:17Z,2018-03-19T15:44:49Z,"### :speech_balloon: Description
On the screenshot below, I would expect the value in the number chart to be the same as the one on the single selected bar, since both represent the same value (# unique airtime). Here row chart is 1514 and number is 1594. If there's a reason I should not expect both values to be the same, it would be good to at least document it here.

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
- Configure a row chart and a number chart using the same measure
- Click on a single bar in the row chart to filter the number chart
- **Actual result:** values of the selected bar and number chart to be the same
- **Expected result:** they are different

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots
<img width=""1429"" alt=""screen shot 2018-03-19 at 11 36 04 am"" src=""https://user-images.githubusercontent.com/824534/37605787-5db89570-2b6a-11e8-898b-fd8f709210c7.png"">

<img width=""1434"" alt=""screen shot 2018-03-19 at 11 39 49 am"" src=""https://user-images.githubusercontent.com/824534/37605791-5fdbd59c-2b6a-11e8-84b3-1f8f2e79933d.png"">

### :memo: Other Info",biovisualize,bug,,
"Chart Editor ""Apply"" Button not visible at certain viewport widths",4152,,2018-03-16T23:07:20Z,2018-03-17T00:41:58Z,"### :speech_balloon: Description
As we introduce additional chart types into the chart editor, the menu bar with the chart icons continues to grow wider. However, when making the browser viewport more narrow, the teal ""Apply"" button will disappear / get pushed outside of the browser viewport extent.

One solution to this would be to make the chart list scrollable horizontally at narrower widths, or hide some of the chart types then enable them via a dropdown selector.

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
-
- **Actual result:**
- **Expected result:**

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots
Apply button visible in the upper right:

<img width=""1216"" alt=""screen shot 2018-03-16 at 3 59 38 pm"" src=""https://user-images.githubusercontent.com/161748/37548258-c7f9cf8c-2933-11e8-993c-e6e166c2b9c2.png"">

Apply button no longer visible when viewport narrows:

<img width=""1088"" alt=""screen shot 2018-03-16 at 4 00 00 pm"" src=""https://user-images.githubusercontent.com/161748/37548277-dab66bc6-2933-11e8-8183-1b3922bb0a3e.png"">



### :memo: Other Info",clhenrick,"charts-ux,design",,"Note: Du worked had a design and PR a while ago that were grouping some charts. 
Issue: https://github.com/mapd/mapd-immerse/issues/2769
Incomplete PR: https://github.com/mapd/mapd-immerse/pull/2998
It was not a good strategy IMO (I could give my reasons). I could show another design that would make the chart panel grow better and have a better information architecture.,biovisualize"
"[UI Label]Change Custom SQL Dimension to Custom Dimension, Custom SQL Measure to Custom Measure",4151,,2018-03-16T22:40:10Z,2018-03-16T22:42:09Z,"### :speech_balloon: Description
A customer was confused mostly by the documentation with regard to what goes into the Custom Dimension or Custom Measure field. But the UI might also be a factor. Rather than have the pop-up say *Custom SQL Dimension* and *Custom SQL Measure*, it would potentially be less confusing to say *Custom Dimension* and  *Custom Measure*, leaving *SQL* out of the pop-up option name.

### :computer: Environment
N/A

### :page_with_curl: Steps To Reproduce
-Create a new chart.
-Click Dimension or Measure
- **Actual result:**
Option is to select Custom SQL Measure or Custom SQL Dimension
- **Expected result:**
Option is to select Custom Measure or Custom Dimension
### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots
![image.png](https://images.zenhubusercontent.com/58a1e14751aa2c305774461e/99d1a698-f41e-4d30-9ce3-fac60375a700)

![image](https://user-images.githubusercontent.com/6788473/37547686-63fd7e00-2930-11e8-95d9-4513b02d4830.png)

### :memo: Other Info",DennisDawson,charts-ux,,
"MapD Engineering hiring pitch in console, like NYT?",4150,,2018-03-16T18:59:11Z,2018-03-16T19:40:52Z,https://twitter.com/JustinGosses/status/974690089379954690,micahstubbs,tech,,"Also like Mozilla

<img width=""881"" alt=""screen shot 2018-03-16 at 3 12 40 pm"" src=""https://user-images.githubusercontent.com/824534/37540211-8682e5a4-292c-11e8-8594-8ae52b5a5b8c.png"">
,biovisualize"
Enhancement suggestion - support percentage-based stacked bar chart measures,4148,,2018-03-16T17:08:01Z,2018-03-26T18:17:01Z,"### :speech_balloon: Description
As a data analyst
I want to use a stacked bar chart based on percentage of a sum
With the benefit that I can visually analyze changes in ratio over time.

One example is demographics, where one might track the ratio of political party registrations over a span of time.

This is sort of like having a series of pie charts in vertical bar form. 

### :camera_flash: Screenshots
![stackedRatio.png](https://images.zenhubusercontent.com/58a1e14751aa2c305774461e/589ed343-6631-43f9-a166-e12c6d38238a)",DennisDawson,"enhancement,stacked-bar-chart",,
micah/4138/row chart csv export binned,4145,,2018-03-16T04:09:53Z,2018-04-22T15:55:46Z,"### 💬  Description
This PR formats binned timestamp columns nicely for csv data export.

This PR also changes the default backend server for development specified in `src/servers.json` to `mahakali`, since that is the server that is used by the CI Builds, and it's easier to verify bugs when you don't have to manually port a dashboard from `mahakali` to `kali`.  happy to open a separate issue and PR for this change if we'd like.

**instructions to the dev reviewer**   
please ignore `console.log()`s that are `eslint-disable-line`-d.  
I'll remove that dev logging once all other dev review feedback is provided, prior to merging this PR.
 
### 📄 Github Issue
 #4138  

### :ship: Merge Checklist
- [x] author worded pull-request title to contain a release-notes-worthy message
- [x] author referenced issue(s) fixed by this PR

### :camera_flash: Screenshot
[![screen shot 2018-03-04 at 9 03 58 am](https://user-images.githubusercontent.com/2119400/36948146-034e7676-1f8b-11e8-8739-0a9ee040371f.png)](https://github.com/mapd/mapd-immerse/issues/4027#issuecomment-370177140)",micahstubbs,"NVIDIA-GFE,WIP,customer",,"**Immerse**: http://immerse-4145.dev.frontend.builds.mapd.com

,mapd-bot
**Immerse**: http://immerse-4145.dev.frontend.builds.mapd.com

,mapd-bot"
line chart: binned dimension data should be formatted nicely when exported to csv ,4144,,2018-03-16T04:05:51Z,2018-03-16T19:40:51Z,"### :speech_balloon: Description

### ☑️ Feature Implementation Checklist

#### Line Chart
- [ ] Line Chart Year Date Extract Case
- [ ] Line Chart Quarter Date Extract Case
- [ ] Line Chart Month Date Extract Case
- [ ] Line Chart Day of Month Date Extract Case
- [ ] Line Chart Day of Week Date Extract Case
- [ ] Line Chart Date Hour Extract Case
- [ ] Line Chart Date Minute Extract Case
- [ ] Line Chart Date Bin Case 
- [ ] Line Chart Numeric Bin Case

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
- visit the dashboard `binned-column-csv-export` on `mahakali` http://localhost:8002/#/link/mapd/e1d95cb2
- export a csv file from any chart
- verify that the contents of the csv files matches the design specified below

~- Go to http://immerse-master.prod.frontend.builds.mapd.com/#/link/mapd/ec902329~
~- Extract the bar chart~

**Actual result:**

| contrib_date  | UNIQUE committee_name |
| :---         |     :---:      |
| [{""value"":""2000-06-25T00:00:00.000Z"",""timeBin"":""week"",""isBin"":true,""binUnit"":""week""},{""value"":""2000-07-01T23:59:59.999Z"",""timeBin"":""week"",""isBin"":true,""binUnit"":""week""}] | 1520 |

**Expected result:**

#### Date Bin Case
split into two columns, format value as ISO timestamp
![screen shot 2018-03-02 at 7 06 46 pm](https://user-images.githubusercontent.com/2119400/36929946-f20bcfc4-1e4c-11e8-943e-7eb46cefd337.png)

#### Numeric Bin Case
split into two columns
![screen shot 2018-03-02 at 7 08 07 pm](https://user-images.githubusercontent.com/2119400/36929954-146956b8-1e4d-11e8-9842-5b7fa387a120.png)

#### Date Extract Cases
`columnName (binUnit)`
![screen shot 2018-03-02 at 7 07 41 pm](https://user-images.githubusercontent.com/2119400/36929950-0539a5e4-1e4d-11e8-8193-a1dc255341b6.png)

we should provide nice formatting for all types of date extracts:
![screen shot 2018-03-03 at 7 19 52 am](https://user-images.githubusercontent.com/2119400/36935968-949b75da-1eb3-11e8-847d-644cfbb05580.png)


csv files that show the desired value formats for binned columns 
[binned-column-csv-export-designs-from-slack.zip](https://github.com/mapd/mapd-immerse/files/1777054/binned-column-csv-export-designs-from-slack.zip)

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots",micahstubbs,csv-export,,"@biovisualize curious, when do we deprecate the legacy line chart?  ,micahstubbs
related to https://github.com/mapd/mapd-immerse/issues/4027,micahstubbs"
histogram chart: binned dimension data should be formatted nicely when exported to csv ,4143,,2018-03-16T04:04:12Z,2018-03-16T19:40:51Z,"### :speech_balloon: Description

### ☑️ Feature Implementation Checklist

#### Histogram Chart
- [ ] Histogram Chart Year Date Extract Case
- [ ] Histogram Chart Quarter Date Extract Case
- [ ] Histogram Chart Month Date Extract Case
- [ ] Histogram Chart Day of Month Date Extract Case
- [ ] Histogram Chart Day of Week Date Extract Case
- [ ] Histogram Chart Date Hour Extract Case
- [ ] Histogram Chart Minute Date Extract Case | bug report https://github.com/mapd/mapd-immerse/issues/4027#issuecomment-370551342
- [ ] Histogram Chart Date Bin Case 
- [ ] Histogram Chart Numeric Bin Case

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
- visit the dashboard `binned-column-csv-export` on `mahakali` http://localhost:8002/#/link/mapd/e1d95cb2
- export a csv file from any chart
- verify that the contents of the csv files matches the design specified below

~- Go to http://immerse-master.prod.frontend.builds.mapd.com/#/link/mapd/ec902329~
~- Extract the bar chart~

**Actual result:**

| contrib_date  | UNIQUE committee_name |
| :---         |     :---:      |
| [{""value"":""2000-06-25T00:00:00.000Z"",""timeBin"":""week"",""isBin"":true,""binUnit"":""week""},{""value"":""2000-07-01T23:59:59.999Z"",""timeBin"":""week"",""isBin"":true,""binUnit"":""week""}] | 1520 |

**Expected result:**

#### Date Bin Case
split into two columns, format value as ISO timestamp
![screen shot 2018-03-02 at 7 06 46 pm](https://user-images.githubusercontent.com/2119400/36929946-f20bcfc4-1e4c-11e8-943e-7eb46cefd337.png)

#### Numeric Bin Case
split into two columns
![screen shot 2018-03-02 at 7 08 07 pm](https://user-images.githubusercontent.com/2119400/36929954-146956b8-1e4d-11e8-9842-5b7fa387a120.png)

#### Date Extract Cases
`columnName (binUnit)`
![screen shot 2018-03-02 at 7 07 41 pm](https://user-images.githubusercontent.com/2119400/36929950-0539a5e4-1e4d-11e8-8193-a1dc255341b6.png)

we should provide nice formatting for all types of date extracts:
![screen shot 2018-03-03 at 7 19 52 am](https://user-images.githubusercontent.com/2119400/36935968-949b75da-1eb3-11e8-847d-644cfbb05580.png)


csv files that show the desired value formats for binned columns 
[binned-column-csv-export-designs-from-slack.zip](https://github.com/mapd/mapd-immerse/files/1777054/binned-column-csv-export-designs-from-slack.zip)

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots",micahstubbs,csv-export,,"@biovisualize curious, when do we deprecate the standalone histogram chart in favor of the combo chart?,micahstubbs
related to https://github.com/mapd/mapd-immerse/issues/4027,micahstubbs"
heat chart: binned dimension data should be formatted nicely when exported to csv,4142,,2018-03-16T04:03:26Z,2018-03-16T19:40:51Z,"### :speech_balloon: Description

### ☑️ Feature Implementation Checklist

#### Heat Chart  (heatmap)
- [ ] Heat Chart Year Date Extract Case
- [ ] Heat Chart Quarter Date Extract Case
- [ ] Heat Chart Month Date Extract Case
- [ ] Heat Chart Day of Month Date Extract Case
- [ ] Heat Chart Day of Week Date Extract Case
- [ ] Heat Chart Date Hour Extract Case
- [ ] Heat Chart Date Minute Extract Case
- [ ] Heat Chart Date Bin Case 
- [ ] Heat Chart Numeric Bin Case

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
- visit the dashboard `binned-column-csv-export` on `mahakali` http://localhost:8002/#/link/mapd/e1d95cb2
- export a csv file from any chart
- verify that the contents of the csv files matches the design specified below

~- Go to http://immerse-master.prod.frontend.builds.mapd.com/#/link/mapd/ec902329~
~- Extract the bar chart~

**Actual result:**

| contrib_date  | UNIQUE committee_name |
| :---         |     :---:      |
| [{""value"":""2000-06-25T00:00:00.000Z"",""timeBin"":""week"",""isBin"":true,""binUnit"":""week""},{""value"":""2000-07-01T23:59:59.999Z"",""timeBin"":""week"",""isBin"":true,""binUnit"":""week""}] | 1520 |

**Expected result:**

#### Date Bin Case
split into two columns, format value as ISO timestamp
![screen shot 2018-03-02 at 7 06 46 pm](https://user-images.githubusercontent.com/2119400/36929946-f20bcfc4-1e4c-11e8-943e-7eb46cefd337.png)

#### Numeric Bin Case
split into two columns
![screen shot 2018-03-02 at 7 08 07 pm](https://user-images.githubusercontent.com/2119400/36929954-146956b8-1e4d-11e8-9842-5b7fa387a120.png)

#### Date Extract Cases
`columnName (binUnit)`
![screen shot 2018-03-02 at 7 07 41 pm](https://user-images.githubusercontent.com/2119400/36929950-0539a5e4-1e4d-11e8-8193-a1dc255341b6.png)

we should provide nice formatting for all types of date extracts:
![screen shot 2018-03-03 at 7 19 52 am](https://user-images.githubusercontent.com/2119400/36935968-949b75da-1eb3-11e8-847d-644cfbb05580.png)


csv files that show the desired value formats for binned columns 
[binned-column-csv-export-designs-from-slack.zip](https://github.com/mapd/mapd-immerse/files/1777054/binned-column-csv-export-designs-from-slack.zip)

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots",micahstubbs,csv-export,,
bubble chart: binned dimension data should be formatted nicely when exported to csv,4141,,2018-03-16T04:02:40Z,2018-03-16T19:40:51Z,"### :speech_balloon: Description

### ☑️ Feature Implementation Checklist

#### Bubble Chart
- [ ] Bubble Chart Year Date Extract Case
- [ ] Bubble Chart Quarter Date Extract Case
- [ ] Bubble Chart Month Date Extract Case
- [ ] Bubble Chart Day of Month Date Extract Case
- [ ] Bubble Chart Day of Week Date Extract Case
- [ ] Bubble Chart Date Hour Extract Case
- [ ] Bubble Chart Date Minute Extract Case
- [ ] Bubble Chart Date Bin Case 
- [ ] Bubble Chart Numeric Bin Case

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
- visit the dashboard `binned-column-csv-export` on `mahakali` http://localhost:8002/#/link/mapd/e1d95cb2
- export a csv file from any chart
- verify that the contents of the csv files matches the design specified below

~- Go to http://immerse-master.prod.frontend.builds.mapd.com/#/link/mapd/ec902329~
~- Extract the bar chart~

**Actual result:**

| contrib_date  | UNIQUE committee_name |
| :---         |     :---:      |
| [{""value"":""2000-06-25T00:00:00.000Z"",""timeBin"":""week"",""isBin"":true,""binUnit"":""week""},{""value"":""2000-07-01T23:59:59.999Z"",""timeBin"":""week"",""isBin"":true,""binUnit"":""week""}] | 1520 |

**Expected result:**

#### Date Bin Case
split into two columns, format value as ISO timestamp
![screen shot 2018-03-02 at 7 06 46 pm](https://user-images.githubusercontent.com/2119400/36929946-f20bcfc4-1e4c-11e8-943e-7eb46cefd337.png)

#### Numeric Bin Case
split into two columns
![screen shot 2018-03-02 at 7 08 07 pm](https://user-images.githubusercontent.com/2119400/36929954-146956b8-1e4d-11e8-9842-5b7fa387a120.png)

#### Date Extract Cases
`columnName (binUnit)`
![screen shot 2018-03-02 at 7 07 41 pm](https://user-images.githubusercontent.com/2119400/36929950-0539a5e4-1e4d-11e8-8193-a1dc255341b6.png)

we should provide nice formatting for all types of date extracts:
![screen shot 2018-03-03 at 7 19 52 am](https://user-images.githubusercontent.com/2119400/36935968-949b75da-1eb3-11e8-847d-644cfbb05580.png)


csv files that show the desired value formats for binned columns 
[binned-column-csv-export-designs-from-slack.zip](https://github.com/mapd/mapd-immerse/files/1777054/binned-column-csv-export-designs-from-slack.zip)

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots",micahstubbs,csv-export,,
pie chart: binned dimension data should be formatted nicely when exported to csv,4140,,2018-03-16T04:01:28Z,2018-03-16T19:40:51Z,"### :speech_balloon: Description

### ☑️ Feature Implementation Checklist

#### Pie Chart
- [ ] Pie Chart Year Date Extract Case
- [ ] Pie Chart Quarter Date Extract Case
- [ ] Pie Chart Month Date Extract Case
- [ ] Pie Chart Day of Month Date Extract Case
- [ ] Pie Chart Day of Week Date Extract Case
- [ ] Pie Chart Date Hour Extract Case
- [ ] Pie Chart Date Minute Extract Case
- [ ] Pie Chart Date Bin Case 
- [ ] Pie Chart Numeric Bin Case

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
- visit the dashboard `binned-column-csv-export` on `mahakali` http://localhost:8002/#/link/mapd/e1d95cb2
- export a csv file from any chart
- verify that the contents of the csv files matches the design specified below

~- Go to http://immerse-master.prod.frontend.builds.mapd.com/#/link/mapd/ec902329~
~- Extract the bar chart~

**Actual result:**

| contrib_date  | UNIQUE committee_name |
| :---         |     :---:      |
| [{""value"":""2000-06-25T00:00:00.000Z"",""timeBin"":""week"",""isBin"":true,""binUnit"":""week""},{""value"":""2000-07-01T23:59:59.999Z"",""timeBin"":""week"",""isBin"":true,""binUnit"":""week""}] | 1520 |

**Expected result:**

#### Date Bin Case
split into two columns, format value as ISO timestamp
![screen shot 2018-03-02 at 7 06 46 pm](https://user-images.githubusercontent.com/2119400/36929946-f20bcfc4-1e4c-11e8-943e-7eb46cefd337.png)

#### Numeric Bin Case
split into two columns
![screen shot 2018-03-02 at 7 08 07 pm](https://user-images.githubusercontent.com/2119400/36929954-146956b8-1e4d-11e8-9842-5b7fa387a120.png)

#### Date Extract Cases
`columnName (binUnit)`
![screen shot 2018-03-02 at 7 07 41 pm](https://user-images.githubusercontent.com/2119400/36929950-0539a5e4-1e4d-11e8-8193-a1dc255341b6.png)

we should provide nice formatting for all types of date extracts:
![screen shot 2018-03-03 at 7 19 52 am](https://user-images.githubusercontent.com/2119400/36935968-949b75da-1eb3-11e8-847d-644cfbb05580.png)


csv files that show the desired value formats for binned columns 
[binned-column-csv-export-designs-from-slack.zip](https://github.com/mapd/mapd-immerse/files/1777054/binned-column-csv-export-designs-from-slack.zip)

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots",micahstubbs,csv-export,,"related to https://github.com/mapd/mapd-immerse/issues/4027,micahstubbs"
table chart: binned dimension data should be formatted nicely when exported to csv,4139,,2018-03-16T04:00:29Z,2018-03-16T19:40:51Z,"### :speech_balloon: Description

### ☑️ Feature Implementation Checklist

#### Table Chart 

- [ ] Table Chart Year Date Extract Case
- [ ] Table Chart Quarter Date Extract Case
- [ ] Table Chart Month Date Extract Case
- [ ] Table Chart Day of Month Date Extract Case
- [ ] Table Chart Day of Week Date Extract Case
- [ ] Table Chart Date Hour Extract Case
- [ ] Table Chart Date Minute Extract Case
- [x] Table Chart Date Bin Case | bug report https://github.com/mapd/mapd-immerse/issues/4027#issuecomment-370551342 | fix https://github.com/mapd/mapd-immerse/issues/4027#issuecomment-371065162
- [ ] Table Chart Numeric Bin Case

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
- visit the dashboard `binned-column-csv-export` on `mahakali` http://localhost:8002/#/link/mapd/e1d95cb2
- export a csv file from any chart
- verify that the contents of the csv files matches the design specified below

~- Go to http://immerse-master.prod.frontend.builds.mapd.com/#/link/mapd/ec902329~
~- Extract the bar chart~

**Actual result:**

| contrib_date  | UNIQUE committee_name |
| :---         |     :---:      |
| [{""value"":""2000-06-25T00:00:00.000Z"",""timeBin"":""week"",""isBin"":true,""binUnit"":""week""},{""value"":""2000-07-01T23:59:59.999Z"",""timeBin"":""week"",""isBin"":true,""binUnit"":""week""}] | 1520 |

**Expected result:**

#### Date Bin Case
split into two columns, format value as ISO timestamp
![screen shot 2018-03-02 at 7 06 46 pm](https://user-images.githubusercontent.com/2119400/36929946-f20bcfc4-1e4c-11e8-943e-7eb46cefd337.png)

#### Numeric Bin Case
split into two columns
![screen shot 2018-03-02 at 7 08 07 pm](https://user-images.githubusercontent.com/2119400/36929954-146956b8-1e4d-11e8-9842-5b7fa387a120.png)

#### Date Extract Cases
`columnName (binUnit)`
![screen shot 2018-03-02 at 7 07 41 pm](https://user-images.githubusercontent.com/2119400/36929950-0539a5e4-1e4d-11e8-8193-a1dc255341b6.png)

we should provide nice formatting for all types of date extracts:
![screen shot 2018-03-03 at 7 19 52 am](https://user-images.githubusercontent.com/2119400/36935968-949b75da-1eb3-11e8-847d-644cfbb05580.png)


csv files that show the desired value formats for binned columns 
[binned-column-csv-export-designs-from-slack.zip](https://github.com/mapd/mapd-immerse/files/1777054/binned-column-csv-export-designs-from-slack.zip)

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots",micahstubbs,csv-export,,"related to https://github.com/mapd/mapd-immerse/issues/4027,micahstubbs"
row chart: binned dimension data should be formatted nicely when exported to csv,4138,,2018-03-16T03:57:50Z,2018-03-16T19:40:50Z,"### :speech_balloon: Description

### ☑️ Feature Implementation Checklist

#### Row Chart (Bar Chart)
- [x] Row Chart Year Date Extract Case https://github.com/mapd/mapd-immerse/issues/4027#issuecomment-370176521
- [x] Row Chart Quarter Date Extract Case https://github.com/mapd/mapd-immerse/issues/4027#issuecomment-370175283
- [x] Row Chart Month Date Extract Case https://github.com/mapd/mapd-immerse/issues/4027#issuecomment-370156801
- [x] Row Chart Day of Month Date Extract Case https://github.com/mapd/mapd-immerse/issues/4027#issuecomment-370177247
- [x] Row Chart Day of Week Date Extract Case https://github.com/mapd/mapd-immerse/issues/4027#issuecomment-370177140
- [x] Row Chart Hour Date Extract Case https://github.com/mapd/mapd-immerse/issues/4027#issuecomment-370178634
- [x] Row Chart Minute Date Extract Case https://github.com/mapd/mapd-immerse/issues/4027#issuecomment-370178805
- [x] Row Chart Numeric Bin Case https://github.com/mapd/mapd-immerse/issues/4027#issuecomment-370239240
- [x] Row Chart Date Bin Case https://github.com/mapd/mapd-immerse/issues/4027#issuecomment-370243536
- [ ] Row Chart 3 Binned Dimensions Case | bug report https://github.com/mapd/mapd-immerse/issues/4027#issuecomment-370553687
- [ ] Row Chart with Binning Off | regression bug report https://github.com/mapd/mapd-immerse/issues/4027#issuecomment-370554678

### 🔧 Dev Tasks
- [ ] add end columns keys to `columnAliasesByKey`
- [ ] handle `color` variable (`MIN arrtime` in this flights example)

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
- visit the dashboard `binned-column-csv-export` on `mahakali` http://localhost:8002/#/link/mapd/e1d95cb2
- export a csv file from any chart
- verify that the contents of the csv files matches the design specified below


**Actual result:**

| contrib_date  | UNIQUE committee_name |
| :---         |     :---:      |
| [{""value"":""2000-06-25T00:00:00.000Z"",""timeBin"":""week"",""isBin"":true,""binUnit"":""week""},{""value"":""2000-07-01T23:59:59.999Z"",""timeBin"":""week"",""isBin"":true,""binUnit"":""week""}] | 1520 |

**Expected result:**

#### Date Bin Case
split into two columns, format value as ISO timestamp
![screen shot 2018-03-02 at 7 06 46 pm](https://user-images.githubusercontent.com/2119400/36929946-f20bcfc4-1e4c-11e8-943e-7eb46cefd337.png)

#### Numeric Bin Case
split into two columns
![screen shot 2018-03-02 at 7 08 07 pm](https://user-images.githubusercontent.com/2119400/36929954-146956b8-1e4d-11e8-9842-5b7fa387a120.png)

#### Date Extract Cases
`columnName (binUnit)`
![screen shot 2018-03-02 at 7 07 41 pm](https://user-images.githubusercontent.com/2119400/36929950-0539a5e4-1e4d-11e8-8193-a1dc255341b6.png)

we should provide nice formatting for all types of date extracts:
![screen shot 2018-03-03 at 7 19 52 am](https://user-images.githubusercontent.com/2119400/36935968-949b75da-1eb3-11e8-847d-644cfbb05580.png)


csv files that show the desired value formats for binned columns 
[binned-column-csv-export-designs-from-slack.zip](https://github.com/mapd/mapd-immerse/files/1777054/binned-column-csv-export-designs-from-slack.zip)

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :memo: Other Info
### :camera_flash: Screenshots

<img width=""1315"" alt=""screen shot 2018-03-02 at 12 13 53 pm"" src=""https://user-images.githubusercontent.com/10747240/36922358-6092e896-1e1c-11e8-82a3-613eb5f56fa7.png"">
<img width=""1419"" alt=""screen shot 2018-03-02 at 12 14 19 pm"" src=""https://user-images.githubusercontent.com/10747240/36922359-60b226ca-1e1c-11e8-890b-c22d098c5240.png"">",micahstubbs,csv-export,,"split off from https://github.com/mapd/mapd-immerse/issues/4027,micahstubbs"
create holistic design for geo data import in Immerse workflow,4137,,2018-03-16T03:27:55Z,2018-03-28T23:54:03Z,"### :speech_balloon: Description
inspired by conversation on https://github.com/mapd/mapd-immerse/pull/4135

tl;dr; when a user imports a csv file that has a geometry column, the column should be recognized as and/or selected as just ""geometry"", not point, linestring, polygon, multipolygon. This should be the case elsewhere in Immerse too.

### :camera_flash: Screenshots

### :memo: Other Info",micahstubbs,"design,geospatial",clhenrick,
Standalone example of connecting MapD3 combo chart to Metis data-layer,4134,,2018-03-15T21:14:09Z,2018-03-15T21:15:11Z,"### :speech_balloon: Description
As a client, I want to develop my own apps using MapD components to solve some specific problems that are not well served by Immerse. As a developer, I want to show that MapD3 and Data-layer are decoupled components independent from Immerse, to prove that we solved a big coupling problem in Immerse and that we can use these new modular components to build tools. 

This example could take the form of a development environment or a blueprint for developing new features. It could also be used as a test sheet to explore charts and data configuration. We can take inspiration from what the backend rendering guy are using http://vega-demo.mapd.com/#/ and this Observable integration https://beta.observablehq.com/@mbostock/hello-mapd-connector

Some clients could already use it for developing their own features, like Carlson Capital and JamCity.",biovisualize,,,
CSV export to format measure and date based on chart level formatting,4131,,2018-03-15T17:22:57Z,2018-03-15T21:35:19Z,"### :speech_balloon: Description
As an immerse user I would like the data in csv export of a chart to apply the same formatting options on measures and dates as specified in the chart.


### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
-
- **Actual result:**
- **Expected result:**

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

### :memo: Other Info",mythilimapd,,,"Technical notes: there are 2 formatters: date and number. 

The number formatter applies to measures, can be set by the user, uses the same syntax as `d3-format` and `d3-time-format`. The format string lives in Redux under `charts[x].measures[y].numberFormat`. When it's not present, the formatting is under the control of the chart, so we can fallback to the raw format provided in the data.

The date format can be set by the user. It applies globally to all dates in a chart (tooltip, axis ticks, etc.), so it could apply to all dates. It will live in Redux probably under `charts[x].dateFormat`. There's also no default format, so it will fallback to data format.,biovisualize
@micahstubbs, @biovisualize - FYI. Also not a priority for 3.7.,mythilimapd
this is a good detail to capture.  its also helpful to understand the timing for the product team as well. thanks all.,micahstubbs"
check formatting in travis CI build,4126,,2018-03-15T04:09:34Z,2018-03-16T19:40:50Z,"### :speech_balloon: Description
check formatting in travis CI build

fail build if unformatted files are present",micahstubbs,tech,,
White label should be only available for Enterprise.,4124,,2018-03-14T23:09:28Z,2018-03-14T23:20:29Z,"### :speech_balloon: Description
White label should be only available for Enterprise.
Per specs.
Wasn't implemented and I didn't catch it.

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
- Apply the white label to any build
- Direct to kali 

- **Actual result:**
- Should see default MapD style as it's showing community edition
 
- **Expected result:**
- Should disregard the White-label settings as it detected that that was a community edition.

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

### :memo: Other Info",menaczar,,,"@menaczar Kali has enterprise trial license valid till 12/21/2018. 

![kali](https://user-images.githubusercontent.com/29928117/37435907-8c10460a-27a2-11e8-951e-57000140f44d.png)
,mythilimapd
Removed that and still same effect
<img width=""885"" alt=""screen shot 2018-03-14 at 4 18 59 pm"" src=""https://user-images.githubusercontent.com/16374964/37436119-9ae33a24-27a3-11e8-9a1d-470e47abd472.png"">
,menaczar"
update Immerse to use new version of MapD InteractiveML,4121,,2018-03-14T18:22:10Z,2018-03-16T19:40:50Z,"### :speech_balloon: Description
update Immerse IML integration to use new version of IML

these new IML PRs contain breaking changes to the API, along with new algorithms like [XGBoost](https://github.com/dmlc/xgboost) and new hyperparameters like `fraction` (which allows the client to specify the [test/train split](https://towardsdatascience.com/train-test-split-and-cross-validation-in-python-80b61beca4b6))

https://github.com/mapd/interactiveML/pull/135 **Implementing XGBoost**
https://github.com/mapd/interactiveML/pull/140 **Adding examples**
https://github.com/mapd/interactiveML/pull/151 **Add support for Train/Valid split from FE**

The goal is to complete this update by Thursday, 3/22 ahead of [Nvidia GTC](https://www.nvidia.com/en-us/gtc/), which starts on Monday 3/26

### :camera_flash: Screenshots
<img width=""592"" alt=""new-train-panel"" src=""https://user-images.githubusercontent.com/2119400/37422994-ee9ae2c2-2779-11e8-8d28-dcabe8772fbb.png"">",micahstubbs,"component-iml,enhancement,gtc2018",,"currently blocked by this issue, working through it now  

https://github.com/mapd/interactiveML/issues/163 **xgboost training freezes at Prepping predictive modelling..., connection times out**,micahstubbs"
Auto bin should be highlighted,4117,,2018-03-13T17:17:35Z,2018-05-31T15:58:47Z,"### :speech_balloon: Description

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
- Go to Minos
- Create a dashboard
- Create a combo chart
- Data source: flights
- Dimension: arr_timestamp
- Measure: # Records
- Change the label lock on x-axis to `01-01-1988`

**Actual result:**
- No bin is highlighted
![screen shot 2018-03-13 at 10 22 18 am](https://user-images.githubusercontent.com/10747240/37358522-888a0656-26a8-11e8-990b-22beb4ff305c.png)

**Expected result:**
- `1 Day` bin should be highlighted 
![screen shot 2018-03-13 at 10 22 30 am](https://user-images.githubusercontent.com/10747240/37358541-949133d4-26a8-11e8-9a05-2095960f9000.png)

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

### :memo: Other Info",Davidiskander,"P3,bug,combo-chart",,"@Davidiskander can you verify if it got fixed by this PR? https://github.com/mapd/mapd-immerse/pull/4111,biovisualize
@Davidiskander bump. I'm pretty sure that one is fixed.,biovisualize
@AlexHarutyunyan confirmed that it's still there, and I see it too :+1: It only happens when adding it, not when clicking on auto.,biovisualize"
Redesign the chart config panels and underlying architecture,4116,,2018-03-13T14:56:00Z,2018-05-22T15:07:35Z,"### :speech_balloon: Description
Some projects on the roadmap, like number/date formatting #3775, requires adding new options to the config panels in chart editor. We need to find ways to make it scalable. 

### Design requirements
Identify: 
* the grouping of config options (e.g. related to data, color, chart, text)
* UX/UI design alternatives
* UI and code issues that it will solve
* related architecture improvements
* simple increment that can be delivered with an actual roadmap feature
* multiple increments to get to the state we want

### :camera_flash: Screenshots

### :memo: Other Info",biovisualize,design,Christian-Baptiste,"@Christian-Baptiste This task is for starting the discussion on redesigning part of the chart editor. Most of our  problematic code lives there and it also has some UX problems that will get even more obvious when we will add new features, like formatting UI, etc. We already discussed that a good place to start is with the data manager project, which will require a better UX around global config vs specific overrides. cc @niviksha ,biovisualize"
Color mismatch between chart legend and color palette [Political Donations Demo],4115,,2018-03-13T01:46:08Z,2018-03-13T01:46:45Z,"### :speech_balloon: Description
If user clicks the trash icon from the color palette of the bar chart, and re-selects the color by dimension option; there is a color mismatch between the chart legend and color palette for `Others`

### :computer: Environment
- **Browser Name, Version**:  All
- **mapd-immerse Version or Branch**: minos, Demos

### :page_with_curl: Steps To Reproduce
1. Go to Demos for Political Donations
2. Select the Bar Chart and go to chart editor
3. Select the trash icon next to color palette, then select Color By Dimension option

- **Actual result:**
the chart legend and color palette for `Others` is  not consistent

- **Expected result:**
the chart legend and color palette for `Others` should be consistent

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots
![Political_Donations_color.gif](https://images.zenhubusercontent.com/5a4c12b9a016c5b034bbd07e/591fe191-82e2-4b4d-9711-f6527124a519)

![Screen Shot 2018-03-12 at 5.54.51 PM.png](https://images.zenhubusercontent.com/5a4c12b9a016c5b034bbd07e/15871d10-da4c-4c49-837c-f15b5fdd8565)
### :memo: Other Info",ericli5454,"P3,bug",,
Global Filter Icon incorrect format in [I.E. 11 only],4113,,2018-03-12T22:10:48Z,2018-03-12T22:10:48Z,"### :speech_balloon: Description

### :computer: Environment
- **Browser Name, Version**: Internet Explorer 11
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
- Create a chart using Internet explorer 11 
- Click on the `Add Filter` button and Select the data source used for chart

- **Actual result:**
- Global Filter Icon is not centered 
- Global Filter Icon missing thunderbolt 

![Screen Shot 2018-03-12 at 3.06.42 PM.png](https://images.zenhubusercontent.com/5a4c12b9a016c5b034bbd07e/6c996d9d-93ec-49c5-ae3c-2760c9cfbf78)

- **Expected result:**
-Global Filter Icon has thunderbolt and is properly centered
![Screen Shot 2018-03-12 at 3.05.35 PM.png](https://images.zenhubusercontent.com/5a4c12b9a016c5b034bbd07e/63d32581-d631-4420-95f5-b5341e6349a5)

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :memo: Other Info",ericli5454,"P4,bug",,
Charts titles defaults to be right side aligned  on IE11,4112,,2018-03-12T19:37:27Z,2018-03-19T20:21:03Z,"### :speech_balloon: Description

### :computer: Environment
- **Browser Name, Version**: IE11
- **mapd-immerse Version or Branch**: MINOS

### :page_with_curl: Steps To Reproduce
-
- **Actual result:**
Charts titles are right-aligned

- **Expected result:**
Charts titles should be center-aligned

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots
![screen shot 2018-03-12 at 12 07 38 pm](https://user-images.githubusercontent.com/10747240/37305478-d0f3f454-25f1-11e8-9d64-a552b2589e6c.png)

### :memo: Other Info",Davidiskander,"P3,dashboard-title,good-first-issue,regression",,
CSS variables fallback for IE,4109,,2018-03-12T14:10:54Z,2018-03-12T17:52:03Z,"### :speech_balloon: Description
Copied from https://github.com/mapd/mapd-immerse/issues/4095#issuecomment-371978677
>Looks like IE styling issues may be the result of a polyfill for CSS variables that was introduced for white labeling: https://github.com/mapd/mapd-immerse/pull/3934#discussion_r169472191 . A more bullet proof fallback for browsers that don't support CSS variables might be to do something like:
```
a {
  color: #7F583F;
  color: var(--primary);
}
```
>but this would require some time to apply to all of the stylesheets that were changed in Immerse from the white labeling feature

>Although as @nytai pointed out, this solution would only prevent IE from breaking with white labeling, it would not enable white labeling to work with IE...

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
-
- **Actual result:**
- **Expected result:**

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

### :memo: Other Info",biovisualize,"bug,good-first-issue",,"started a branch with example implementation, but haven't made a PR yet, we can come back to it later:
https://github.com/mapd/mapd-immerse/tree/chrish/css-var-mixin,clhenrick
Perfect @clhenrick, I think that's exactly it. This would make at least the default styles work without issue on IE11.,jrajav
Thanks @jrajav This could also be a good first issue for someone new on the team,clhenrick"
[Combo Chart] Brush selection loses precision with repeated changes to binning,4107,,2018-03-10T19:57:07Z,2018-03-12T17:29:21Z,"### :speech_balloon: Description
Switching between binning options, over time, appears to create a rounding error where the original ""all the way to the right"" selection is reduced to the extent of the decade or year bin. If the range chart is hidden, this is not obvious. On the Line chart, which has its own quirky behavior, it's at least visible in the chart when the full dataset is not part of the current selection.

**Browser Name, Version:**
Google Chrome Version 64.0.3282.186

- **mapd-immerse Version or Branch**: master
http://immerse-release.prod.frontend.builds.mapd.com/

### :page_with_curl: Steps To Reproduce
-Create a new combo chart
-Set the **Datasource** to *flights*.
-Set **X Axis** to *plane_issue_date*.
-Set **Y Axis 1** to *arrdelay*.
-Brush a selection in the range chart from somewhere in the middle all the way to the right.
-Hide the range chart.
-Change the binning many times

- **Actual result:**
Over time, the selection no longer reaches the far right edge, possibly due to rounding algorithms used for the 1yr and 10yr bins.

- **Expected result:**
When I select all the way to the right, my intent is to persistently select everything from a particular point in time to the end of the dataset. If it doesn't extend that far, I need some indication in the main chart when the range chart is hidden.

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

![binninglosesprecision-1](https://user-images.githubusercontent.com/6788473/37246217-1382746a-245a-11e8-9bd4-e12a456d05b0.gif)

### :memo: Other Info",DennisDawson,"bug,combo-chart",,"Investigation notes:
The `brushExtent` gets changed when changing binning because it's clamping to data extent. For example: 
```
Binning: auto (month)
Extent: Mon Jun 30 2008 20:00:00 GMT-0400 (EDT), Wed Dec 31 1975 19:00:00 GMT-0500 (EST)
Brush: Mon Jun 30 2008 20:00:00 GMT-0400 (EDT), Wed Jun 25 1997 07:56:45 GMT-0400 (EDT)

Binning: year
Extent: Mon Dec 31 2007 19:00:00 GMT-0500 (EST), Wed Dec 31 1975 19:00:00 GMT-0500 (EST)
Brush: Mon Jun 30 2008 20:00:00 GMT-0400 (EDT), Wed Jun 25 1997 07:56:45 GMT-0400 (EDT)

Binning: month 
Extent: Mon Jun 30 2008 20:00:00 GMT-0400 (EDT), Wed Dec 31 1975 19:00:00 GMT-0500 (EST)
Brush: Mon Dec 31 2007 19:00:00 GMT-0500 (EST), Wed Jun 25 1997 07:56:45 GMT-0400 (EDT)
```
This happens on the old line chart too. The real difference is that the range chart in old line chart doesn't change binning at all, so this problem is not visible. So one solution is to prevent range binning on combo too. Another solution would be to keep the brush extent persistent, even if it may become out of range from the data extent.,biovisualize"
"[Chart Switching] Brush selection persists when switching charts, hiding data",4106,,2018-03-10T18:41:06Z,2018-03-12T21:35:06Z,"### :speech_balloon: Description
This manifests in the Combo Chart, but it's a brush issue, I reckon.

Brush a selection in the Combo range chart, switch to Line chart. The selected range is shown as if it were the full dataset. Switch back to Combo chart, and the same selection persists. You can't drag to get the full set back, but you can edit the x axis. Make another selection and switch back to Line chart, the data persists. Switch back to Combo, and the data selection persists, but this time you cannot edit the x-axis to get the full dataset back.


**Browser Name, Version:**
Google Chrome Version 64.0.3282.186

- **mapd-immerse Version or Branch**: master
http://immerse-release.prod.frontend.builds.mapd.com/

### :page_with_curl: Steps To Reproduce
-Create a new combo chart
-Set the **Datasource** to *flights*.
-Set **X Axis** to *plane_issue_date*.
-Set **Y Axis 1** to *arrdelay*.
-Brush a selection in the range chart.
-Switch to Line chart. Only the selection is shown. Not able to drag to increase scope.
-Switch back to Combo chart. Only the selection is shown. Not able to drag to increase scope.
-Edit the base value on the x-axis to a date prior to 1976. The dataset returns.
-Brush another selection.
-Switch to Line chart.  Only the selection is shown. Not able to drag to increase scope.
-Switch back to Combo chart. Only the selection is shown. Not able to drag to increase scope. Can't edit the x-axis to get the full dataset, either.

- **Actual result:**
Data is hidden from the user.

- **Expected result:**
Brush selection maintains state between charts.

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots
![chartswitchbrushpersistence](https://user-images.githubusercontent.com/6788473/37245657-879b7216-2450-11e8-810f-242ff35ef464.gif)

### :memo: Other Info",DennisDawson,"P2,bug,chart-switching",,"This is a regression. It used to work.

The core issue here is: 
- when brushing is applied on a combo chart, a cross-filter is applied to the data. This is expected
- The x-axis on the combo chart should be reflecting the whole data with brushed selection to view the cross filtered area. This is expected too, but instead, the x-axis uses the available rows after applying the cross filter, as an input data instead of the whole dataset.

For example:
- If the dataset provides data between the years 2000 and 1018
- User brushes/ select the year on 2004

Expected on dashboard view:
- X-axis should show data between the years 2000 and 1018 with highlighted/brushed 2004

Actual on dashboard view:
- X-axis shows data for 2004 only with no brush UI applied

User Possible workaround:
- If the user saves dashboard and re-launch everything should work as expected,Davidiskander
This area of the UX is confusing. I'm not sure I get the specific issue here. I see a lot of bugs when switching between line and combo after brushing the range chart. For me, it is expected that:

1) Brushing on the range chart sets a global filter that also affects the focus chart

<img width=""1371"" alt=""screen shot 2018-03-12 at 5 22 02 pm"" src=""https://user-images.githubusercontent.com/824534/37310675-15c313fc-261b-11e8-8ac9-b699ee70dc7a.png"">

2)The range chart x extent should only change when there's a filter coming from another chart
,biovisualize"
[Combo Chart] Area chart does not display secondary axis,4105,,2018-03-10T16:33:53Z,2018-05-09T23:45:26Z,"### :speech_balloon: Description
Selecting the **Area** chart displays the primary axis but not the secondary axis.

I'm aware that issue https://github.com/mapd/mapd-immerse/issues/4093 removes the Area option from the chart, but i think we need to at least capture this as a known issue in the release notes for 3.6.0.

Browser Name, Version:
Google Chrome Version 64.0.3282.186

- **mapd-immerse Version or Branch**: master
http://immerse-release.prod.frontend.builds.mapd.com/

### :page_with_curl: Steps To Reproduce
-Create a new combo chart
-Set the **Datasource** to *flights*.
-Set **X Axis** to *plane_issue_date*.
-Set **Y Axis 1** to *arrdelay*.
-Set **Y Axis** to *cancelled*
-Assign *cancelled* to the secondary axis.
-Select **Area**

- **Actual result:**
Only the Primary Axis values are displayed.

- **Expected result:**

Both the Primary and Secondary axes are displayed.

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

![areanosecondaxis](https://user-images.githubusercontent.com/6788473/37244427-be80a3cc-243d-11e8-87ae-6767eb794421.gif)
### :memo: Other Info",DennisDawson,"combo-chart,documentation",,"So let's turn this into a documentation issue, since the acceptance criteria is not to fix it but to document it.,biovisualize
Agreed, but I'll ask @mythilimapd to decide what goes into the release notes for the Combo Chart. What we include and say should be properly nuanced for customer expectations.,DennisDawson
@biovisualize since we said we will remove the **line/area** toggle in the combo chart, this issue is no longer valid for the 3.6 release, correct? ,mythilimapd
FYI please refer to issue  #4093 ,mythilimapd
@mythilimapd the area chart toggle is still visible on 3.6 rc, so this issue was repurposed to be about documenting this point in 3.6 docs. ,biovisualize"
[Combo Chart]Intermittent freeze when showing/hiding range chart with Color dimension,4103,,2018-03-10T13:39:31Z,2018-03-10T14:20:08Z,"### :speech_balloon: Description
When I create a combo chart and use the **Color** dimension, showing, brushing, and hiding the range chart intermittently freezes the controls.

### :computer: Environment
- **Browser Name, Version**: 
Google Chrome Version 64.0.3282.186 

- **mapd-immerse Version or Branch**: master
http://immerse-release.prod.frontend.builds.mapd.com/

### :page_with_curl: Steps To Reproduce
-Create a new combo chart
- Choose the Flights dataset
- Set **X Axis** to plane_issue_date
- Set **Y Axis 1** to arrdelay
- Set **Color** to _carrier___name_
- Show range chart
- Brush range chart
- Hide range chart
(you might have to show, brush, and hide more than once)

- **Actual result:**
Immerse controls freeze.

- **Expected result:**
Well...not that.

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots
![rangecharterror](https://user-images.githubusercontent.com/6788473/37242886-5e4045ca-2425-11e8-9374-3488169c09be.gif)


### :memo: Other Info",DennisDawson,"bug,combo-chart",,
Icons an ui polishing of style and type selector,4102,,2018-03-10T01:24:17Z,2018-03-10T01:24:28Z,"### :speech_balloon: Description
Design here  https://sketch.cloud/s/j4jo0
Let's extract the acceptance criteria. At first glance I see:
* icons on bar/line switcher
* order of selector: color swatch, axis, mark type, line style

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
-
- **Actual result:**
- **Expected result:**

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

### :memo: Other Info",biovisualize,combo-chart,,
combo-chart label editing problems,4096,,2018-03-09T21:01:36Z,2018-03-09T21:04:09Z,"### :speech_balloon: Description
Editing the primary or secondary y axis labels has various issues: mixing edited label with autogenerated, applying the new label to the other axis, etc. They all have the same issue from the code standpoint. The behaviour we want is:
* replace the whole label when edited
* revert back to auto-generated labels on axis orientation change or any dimension/measure change
* label editing only enabled in chart editor

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
-
- **Actual result:**
- **Expected result:**

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

### :memo: Other Info
The cause is simply that the measure index was hardcoded before we introduced axis orientation switching
```
[line2ActionTypes.SET_Y_AXIS_LABEL] (state, {id, label}) {
    const measures = clone(state[id].measures)
    measures[0].axisLabel = label
```
We need to make it contextual to the `yAxisOrientation` and to revert to auto-generated on `SET_Y_AXIS_ORIENTATION`",biovisualize,"bug,combo-chart",,
Inconsistency for STR columns between  the data manager vs sql editor,4090,,2018-03-09T17:52:22Z,2018-03-09T17:57:13Z,"### :speech_balloon: Description
There is an inconsistency in the data manger vs sql editor. Data manager shows the encoded string properly, but the sql editor right pane just shows 'str' which is ambiguous

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master


- **Actual result:**
- In the Data manager shows as encoded STR[dict. encode]
![data manager](https://user-images.githubusercontent.com/35040876/37221903-32cc177a-2380-11e8-84e3-77956e1954f8.png)


- While in sql editor just displays 'STR'
![sql editor](https://user-images.githubusercontent.com/35040876/37221904-37221798-2380-11e8-99bb-3b3a71d90d21.png)





- **Expected result:**
sql editor should display STR[dict.encode] for consistency

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

### :memo: Other Info",ericli5454,"P4,bug",,
Combo chart brush changes extent on auto update. #4067,4083,,2018-03-08T22:12:58Z,2018-04-22T15:55:46Z,"### 💬  Description
 
### 📄 Github Issue
 #4067 

### :ship: Merge Checklist
- [ ] author worded pull-request title to contain a release-notes-worthy message
- [ ] author referenced issue(s) fixed by this PR

### :camera_flash: Screenshot",biovisualize,WIP,biovisualize,"**Immerse**: http://immerse-4083.dev.frontend.builds.mapd.com

,mapd-bot
@nytai maybe you would have more insights on the relation between `min_val`, `currentLowValue ` and `rangeFilter `, that we already discussed but would be good to quickly document here https://github.com/mapd/mapd-immerse/issues/4067,biovisualize
@biovisualize it doesnt expand anymore but the range chart changes when autoupdate kicks in.
create this chart: 
combo -> line
flights depdelay vs arrdelay. see gif
![mar-09-2018 13-04-33](https://user-images.githubusercontent.com/16374964/37229946-a936c6de-239a-11e8-9a08-122c535e058b.gif)
,menaczar
It's hard to tell what it's doing. I think the range chart is catching up on what the focus chart shows, but I don't know why it should change. Maybe a change of binning? Can you confirm that this doesn't happen on the old line chart?,biovisualize
@biovisualize I think I caught it.
First it doesn't happen on old line chart.
What happen here is that when it refreshes, the y-axis max of the range chart becomes the max y value in the brush filter area.
Hopefully that helps! let me know if I failed to explain my findings ,menaczar
this branch has no conflicts with master, so does not need any special formatting treatment 😄 ,micahstubbs"
"Adds powered by MapD to main nav, adds new json white label config to…",4078,,2018-03-07T23:25:50Z,2018-04-22T15:55:46Z,"… disable powered by MapD copy

### 💬  Description
 
### 📄 Github Issue
 #3998 

### :ship: Merge Checklist
- [ ] author worded pull-request title to contain a release-notes-worthy message
- [ ] author referenced issue(s) fixed by this PR

### :camera_flash: Screenshot",nytai,,jrajav,"**Immerse**: http://immerse-4078.dev.frontend.builds.mapd.com

,mapd-bot
**Immerse**: http://immerse-4078.dev.frontend.builds.mapd.com

,mapd-bot
@biovisualize can we get this PR merged? Perhaps have a quick chat with @Christian-Baptiste  on the styling of ""Powered by MapD"" and merge it.

This should only be displayed for customers that have a custom logo. When there is a custom logo we display the ""Powered By MapD"" by default. Customers can override it and turn that off through . a property in _servers.json_ (at least that is what I remember Tai mentioning)

,mythilimapd
For branding and recognizability reasons, do we want to have the 'MapD' portion of the text be a text-only icon using the typeface of our logo (or even a text-inline version of our logo with the type to the right)?

![mapd-text](https://user-images.githubusercontent.com/2074135/37405593-0920662e-2763-11e8-8f65-52f7ad6ab197.png)

![inline](https://user-images.githubusercontent.com/2074135/37405597-0a926782-2763-11e8-8c05-03804f0a4c49.png)
,jrajav
(Also, I'll take ownership of this.),jrajav
Thanks @jrajav, we should wrap this up for 3.7 ,mythilimapd
@mythilimapd No problem. It's already good enough as is, just need @Christian-Baptiste's input on the above (and that too would be minimal development effort if we have the assets).,jrajav
By the way, here's a screenshot of the current state of it:

<img width=""145"" alt=""screen shot 2018-03-14 at 10 30 06"" src=""https://user-images.githubusercontent.com/2074135/37412366-bbd7af52-2772-11e8-9a79-4d3b6d6fc4e3.png"">
,jrajav
@jrajav, wanted to mention a  couple of points 

1. This is enterprise only feature (the whole white labeling)
2. Most of our customers are contractually obliged to display the ""Powered by MapD"", however it is not part of ISG contract. So ISG can choose not to show this ""Powered by MapD' through a setting in _servers.json_. I think Tai already implemented this as well. If user has custom logo, we always show the **Powered By MapD** by default.

![powered by mapd](https://user-images.githubusercontent.com/29928117/37414366-2e87a17c-2766-11e8-8031-bc8cde7a4f87.png)
,mythilimapd
**Immerse**: http://immerse-4078.dev.frontend.builds.mapd.com

,mapd-bot
**Immerse**: http://immerse-4078.dev.frontend.builds.mapd.com

,mapd-bot
I have formatted the code in this PR so that there are no conflicts with `master`

to format the code, I followed this guide: 

```
cd mapd-immerse
# fetch new branches from github
git fetch

git checkout your-unformatted-dev-branch
git merge micah/4122/prettier-config
yarn install

# format the code on your dev branch
yarn format
```
https://github.com/mapd/mapd-immerse/pull/4123#issue-175092564

,micahstubbs
**Immerse**: http://immerse-4078.dev.frontend.builds.mapd.com

,mapd-bot
retest this please,jrajav
**Immerse**: http://immerse-4078.dev.frontend.builds.mapd.com

,mapd-bot"
Color palette persists after the chart is destroyed,4077,,2018-03-07T18:55:10Z,2018-03-07T18:55:21Z,"### :speech_balloon: Description
The color palette should get empty when there's no chart. This behaviour was always there, not a regression.

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
- Add a chart, say a line chart
- use a color dimension
- remove the measure, which destroys the chart
- **Actual result:** The palette stays opened with the last settings (data labels, colors)
- **Expected result:** The palette should empty

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots
<img width=""1202"" alt=""screen shot 2018-03-06 at 11 14 44 pm"" src=""https://user-images.githubusercontent.com/824534/37111918-077634ba-220f-11e8-8d81-ca3befb44287.png"">

### :memo: Other Info",biovisualize,bug,,
csv text on export data icon too small to read,4076,,2018-03-07T08:22:24Z,2018-03-13T15:12:02Z,"### :speech_balloon: Description
csv text on export data icon too small to read

related to enhancement #3886 

### :computer: Environment
- **Browser Name, Version**: Chrome 64
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
- visit repro dashboard http://immerse-master.prod.frontend.builds.mapd.com/#/link/mapd/f30d3c04 
- mouse over table chart to show controls icons

- **Actual result:**
csv text on export data icon too small to read
- **Expected result:**
csv text on export data be large enough to read

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots
![csv-text-too-small-1](https://user-images.githubusercontent.com/2119400/37081128-5ccfa440-219d-11e8-9773-915aaee674bb.png)",micahstubbs,"bug,design",,
expolore webpack watchOptions.ignored to make webpack recompile times faster,4075,,2018-03-07T06:55:00Z,2018-03-16T19:40:49Z,"### :speech_balloon: Description

https://webpack.js.org/configuration/watch/#watchoptions-ignored

![screen shot 2018-03-06 at 10 55 05 pm](https://user-images.githubusercontent.com/2119400/37077820-72b7a624-2191-11e8-8f07-983773ce8dac.png)",micahstubbs,"enhancement,tech",,
Combo chart removing a dimension Changes colors.,4072,,2018-03-07T01:00:03Z,2018-03-07T04:02:13Z,"### :speech_balloon: Description

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
-Create any combo chart with 3 or more dimension.
-delete a dimension from the middle.

- **Actual result:**
-Remaining dimension will get different colors

- **Expected result:**
-Remaining dimensions should keep the colors chosen.

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

![mar-06-2018 16-59-04](https://user-images.githubusercontent.com/16374964/37067682-d588c440-215f-11e8-8f54-fe417ec5dcb2.gif)


### :memo: Other Info",menaczar,"combo-chart,design,enhancement",,"I think you mean ""measure"" whenever you say ""dimension"". 

I don't think it's a bug to have each measure assign to a list of color, so when you remove a measure in any order, all remaining measure are still assign to the same list of colors. I guess we could try to make the assignment persist like we do with color by dimension.,biovisualize
Yes sorry. I messed up. Measure not dimension.
I'll change the tag to enhancement.,menaczar"
Fix mapd-connector to address poor query performance on large array columns,4068,,2018-03-07T00:13:38Z,2018-04-24T14:56:49Z,"### :speech_balloon: Description
https://mapd.zendesk.com/agent/tickets/276


Customer: L2

Fix mapd-connector to address the poor query performance on large array columns. Logged an issue under mapd-connector repo and added a link to the issue from mapd-connector to Immerse board.

https://github.com/mapd/mapd-connector/issues/61

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
-
- **Actual result:**
- **Expected result:**

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

### :memo: Other Info",mythilimapd,"L2,P1,customer,enhancement,release blocker",,"Link to issue in mapd-connector repo
https://github.com/mapd/mapd-connector/issues/61,mythilimapd"
Combo chart brush changes extent on auto update.,4067,,2018-03-07T00:12:09Z,2018-03-09T23:43:44Z,"### :speech_balloon: Description

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master
- **Found in release**: 3.6

### :page_with_curl: Steps To Reproduce
- Create a combo chart with range on
- Flights, depdelay , arrdelay and range chart on.
- Save and on the dashboard turn auto update on.
- Create a range chart brush filter.

- **Actual result:**
when auto refresh kicks in the filter will expand to become the new range filter.
ex, if you have a range from jan to dec and you created a range filter from jun to july after update the new range will become jun to july. See GIF
- **Expected result:**

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots
![mar-06-2018 15-18-16](https://user-images.githubusercontent.com/16374964/37066213-2636416c-2159-11e8-8793-0e4117157304.gif)

### :memo: Other Info",menaczar,"P2,bug,combo-chart",menaczar,"@menaczar could you post a higher res screenshot? it's difficult to tell what's happening in the one you posted, thanks.,clhenrick
I investigated and it's not just a combo chart issue. The difference is if you do the same with the old line chart, it will just switch to the wrong extent when you do something to hard refresh the chart, like going into edit mode and cancelling. So the problem was there before, but another bug (not refreshing the chart on filter change) was hiding it.

Some notes about the issue:
* the problem is happening in data-refresh-saga, `refreshBinnedData` function
* `dimensions[0]` has `min_val` and `max_val`. The difference between those and `currentLowValue` and `currentHighValue` is very confusing and probably confused here. I think that min/max are the extent after the filter is applied and low/high is full extent of data, but I may be wrong. 
* There's also a `rangeFilter` that seems to show the brush filter applied to the chart.
* Maybe the problem is that the global filter should not apply to the extent of the range chart that was used to set it using the brush selection.,biovisualize
More documentation. 

Multiple things are wrong in that commit, that I will document in my PR that fixes this issue with combo chart. https://github.com/mapd/mapd-immerse/commit/76c9f4d3fcd3129b42cc18975b4d283dcbe952c4

A fix to the old line issue would probably involve, aside from `refreshBinnedData` mentioned above, the `updateBinBoundsVal` in charts-action-creator.js,biovisualize
@menaczar ready for QA. No rush though, not a release blocker, will go in 3.7.0. https://github.com/mapd/mapd-immerse/pull/4083,biovisualize
`min_val` / `max_val` are the min/max val of the dataset, the full domain of the data. `CurrentLow...` and `CurrentHigh...` are the extent in view. Two ways of controlling this are via the min/max controls in the binning dropdown and via the rangeChart brush. ,nytai
all of that refresh binned data stuff can probably be cleaned up, I think it's only there because the old line chart didn't really work. ,nytai
@ericli5454 ready for QA, if @menaczar didn't do it before you,biovisualize
https://github.com/mapd/mapd-immerse/pull/4083#issuecomment-371944995

@biovisualize it doesnt expand anymore but the range chart changes when autoupdate kicks in.
create this chart: 
combo -> line
flights depdelay vs arrdelay. see gif
![mar-09-2018 13-04-33](https://user-images.githubusercontent.com/16374964/37229946-a936c6de-239a-11e8-9a08-122c535e058b.gif)
,menaczar
More details here https://github.com/mapd/mapd-immerse/pull/4083#issuecomment-371948621,biovisualize"
Should spit out BE errors in nice UI view,4066,,2018-03-06T23:31:06Z,2018-05-30T18:14:15Z,"### :speech_balloon: Description

### :computer: Environment
- **Browser Name, Version**: Chrome 65
- **mapd-immerse Version or Branch**: minos

### :page_with_curl: Steps To Reproduce
- ![Screen Shot 2018-03-06 at 3.23.53 PM.png](https://images.zenhubusercontent.com/597a1712f8b79f8376e107e7/613789b5-d9fb-4889-87b3-243855c8561f)
- Build a dashboard on MINOS like above
- Other charts would spit out a popup UI like this:
![Screen Shot 2018-03-06 at 3.30.01 PM.png](https://images.zenhubusercontent.com/597a1712f8b79f8376e107e7/1a7b4f72-7d9f-4d39-b543-768720f50bbe)

- **Actual result:**
No UI error
- **Expected result:**
UI popup error

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

### :memo: Other Info",Davidiskander,"P2,bug,combo-chart",,"Related: #3936 ,andrewseidl
Discussion on Slack for part of the solution: https://mapd.slack.com/archives/C02QMNKU8/p1527703555000485,clhenrick"
Legend Value exceeds chart boundary when Legend Value is too large,4061,,2018-03-06T00:41:00Z,2018-03-07T23:53:30Z,"### :speech_balloon: Description
Legend Minimum Value exceeds chart boundary when Legend Value is too large
Previously legends values would be cut off if value was too large. There needs to be a new design to better handle larger legend values

### :computer: Environment
- **Browser Name, Version**:  Chrome
- **mapd-immerse Version or Branch**: 
MapD Demos ""Crowd-sourced Mobile Network Quality"" - RC Version 3.6.0 in Minos

### :page_with_curl: Steps To Reproduce
- Login to Minos with (advanced settings):
HOST NAME: beast-azure.mapd.com
PORT: 8004

- **Actual result:**
Legend value exceeds chart boundary when Legend Value is too large

- **Expected result:**
Legend value should always be within the  chart boundary 

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots
<img width=""663"" alt=""screen shot 2018-03-05 at 4 29 10 pm"" src=""https://user-images.githubusercontent.com/35040876/37007860-45d77966-2094-11e8-8d9a-d99823722372.png"">



### :memo: Other Info",ericli5454,design,,
There is a discrepancy between all brushes and the combo-chart brush UI,4060,,2018-03-06T00:31:11Z,2018-03-06T23:26:10Z,"### :speech_balloon: Description

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
- Find screenshots

- **Actual result:**
This is introduced this release with the new line/combo chart

- **Expected result:**

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots
![screen shot 2018-03-05 at 4 28 54 pm](https://user-images.githubusercontent.com/10747240/37007501-64f41432-2092-11e8-9787-d3ad545dc8d7.png)
![screen shot 2018-03-05 at 4 28 26 pm](https://user-images.githubusercontent.com/10747240/37007502-650e1b34-2092-11e8-934c-9ab7fe30d762.png)


### :memo: Other Info",Davidiskander,"P3,design",,"@Davidiskander can I rename it to ""Selection brush styling is different on combo chart""? I just want to emphasize that there's no difference in functionality, just a quick css fix.,biovisualize"
"Spike on webpack bundling, especially re: mapdc css",4059,,2018-03-06T00:03:01Z,2018-03-06T00:03:01Z,"Follow-up from https://github.com/mapd/mapd-immerse/issues/4044 , need to figure out the css bundling in Immerse, and try successfully removing first two lines of https://github.com/mapd/mapd-charting/blob/master/src/index.js",jrajav,tech,,
[Combo Chat] Brush filter is slightly jumpy,4058,,2018-03-05T23:49:02Z,2018-03-05T23:49:02Z,"### :speech_balloon: Description
When user moves the brush filter to a new position on combo chart, the brush filter would toggle left right before settling to correct position

### :computer: Environment
- **Browser Name, Version**: Chrome
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
- Create combo chart
- Move brush filter to new position

- **Actual result:**
 Brush filter would toggle left right before settling to correct position

- **Expected result:**
 Brush filter does not toggle left right before settling to correct position

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots
![Combo_brush_filter_bug.gif](https://images.zenhubusercontent.com/5a4c12b9a016c5b034bbd07e/6d337041-3793-4834-a8f8-3aeecade6a8d) 

### :memo: Other Info",ericli5454,"P3,bug,combo-chart",,
Weird shape filter on scatter chart,4057,,2018-03-05T23:47:43Z,2018-03-07T04:19:39Z,"### :speech_balloon: Description

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
- Create a scatter chart
- UC-School
- gpa vs measure_value

- **Actual result:**
See Gif
- **Expected result:**

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots
![mar-05-2018 15-42-52](https://user-images.githubusercontent.com/16374964/37006297-913667da-208c-11e8-8a04-ef07b06bc3e5.gif)

### :memo: Other Info",menaczar,"P2,bug",,
Deprecate old line chart and histogram chart ,4050,,2018-03-05T19:34:03Z,2018-06-01T22:13:22Z,"### :speech_balloon: Description
With the introduction of combo chart we have 3 charts in Immerse that are very similar.

- Combo Chart
- Line Chart
- Histogram

We should  deprecate the old *line* chart and *histogram* when David and QA team feel confident that all old dashboards that have old *line* and /or *histogram*  can be opened without any ""failed to load dashboard"" messages. 

### Acceptance criteria
**Replace the old line chart by the combo chart**
* Remove old line chart icon
* Line chart in older dashboard will open as combo chart seamlessly and without issue

**Replace histogram implementation by MapD3**
* All histogram functionalities stay the same, but the code uses MapD3
* All backward compatible

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
-
- **Actual result:**
- **Expected result:**

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

### :memo: Other Info",mythilimapd,visualization,,"@clhenrick, @biovisualize - FYI,mythilimapd
curious, what's the reasoning for deprecating the histogram?  It's actually rather different than the combo chart.,micahstubbs
some context that should be helpful 

> So far we have mentioned three differences between histograms and bar charts: 
> 1) histograms are used to show distributions of variables while bar charts are used to compare variables. 
> 2) Histograms plot binned quantitative data while bar charts plot categorical data. 
> 3) Bars can be reordered in bar charts but not in histograms.

https://www.forbes.com/sites/naomirobbins/2012/01/04/a-histogram-is-not-a-bar-chart/#32209dee6d77

![screen shot 2018-03-06 at 10 58 05 pm](https://user-images.githubusercontent.com/2119400/37077942-f6359eac-2191-11e8-926e-7f48a7ad90c4.png)
,micahstubbs
@micahstubbs the histogram uses the same code as the original line chart, so by keeping it we are maintaining two line chart components.,clhenrick
@micahstubbs This task is about replacing the histogram code by the line2 code and about upgrading old line to line2. There would be no change in functionality. ,biovisualize
@biovisualize ok, that much is good.  the design question still remains, do we want to hide the histogram from the user?  there is a cohort of users that will look for the histogram on the top level menu, and give up if they do not see it there.  

It is not obvious that the combo chart contains a histogram.  With some nice design, I'm sure that we could communicate this.  Without that nice design, we hide a useful feature from the user.,micahstubbs
The plan here is not to make the histogram as part of combo chart. In fact, nobody will see the difference: same histogram icon and chart, different implementation (using mapd3). I will add acceptance criteria to make it clear.

There will be another larger task to design how to bundle the multiple functionalities into less charts, instead of having a row chart, histogram, combo chart with grouped bars and stacked bar chart. That will require careful design. cc @Christian-Baptiste ,biovisualize
@biovisualize thanks for sharing the context and editing the description to match the new context.  what you describe sounds like a reasonable approach.,micahstubbs
I extracted the deprecation of the old line chart to a separate Epic https://github.com/mapd/mapd-immerse/issues/4587,biovisualize"
think holistically about user expectations for chart data export,4041,,2018-03-04T16:38:15Z,2018-03-04T16:59:27Z,"### :speech_balloon: Description

think holistically about user expectations for chart data export.  should the user get values in the csv file that they export that match the values the user sees drawn as mark labels on the chart?

inspired by conversation on this issue https://github.com/mapd/mapd-immerse/issues/4027#issuecomment-370242813

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
-
- **Actual result:**
- **Expected result:**

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

### :memo: Other Info",micahstubbs,"charts-ux,design",,"I think outputting exact timestamps for binned dimensions is desirable as it means the data can be machine read. Putting the exact label would make it less useful inputting into another program (or back into Immerse). ,tmostak
@tmostak valid point. just opened up the exported csv data in Excel and realized the same thing.,micahstubbs
that said, if we're going to optimize for human legibility in some cases, and machine legibility in other cases, we should design a way to communicate that to the user.

if as a user, I click a single control like our export chart data button and the result I get varies in a way that's not obviously related to my current context, I will trust the tool less and tend to use it less.,micahstubbs"
duplicate chart feature,4038,,2018-03-03T17:35:08Z,2018-04-22T15:56:13Z,"### :speech_balloon: Description
As a user, I would like to be able to duplicate an existing chart.  I would like to be able to quickly iterate on a chart design, and see all of my iterations side-by-side on the same Immerse dashboard.  I want to be able to do this with the minimal number of clicks possible. 

I want to click a `duplicate chart` icon and be taken to the chart editor view for my new duplicate chart.  In the chart editor, I want to change the one dimension to column mapping I want to experiment with and click apply to see my new chart iteration on my dashboard next to my old chart.

an end result may look like this:
![screen shot 2018-03-03 at 9 33 58 am](https://user-images.githubusercontent.com/2119400/36937297-0e56c05c-1ec6-11e8-81b4-88e46798d2ad.png)
(notice that I have also manually re-named the title in the 2nd chart created with the duplicate chart feature)",micahstubbs,enhancement,,
Display time unit strings like `December` in user's native language,4036,,2018-03-03T14:11:27Z,2018-03-03T14:12:04Z,"### :speech_balloon: Description
https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/toLocaleDateString

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
-
- **Actual result:**
- **Expected result:**

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots
![screen shot 2018-03-03 at 6 09 59 am](https://user-images.githubusercontent.com/2119400/36935203-9571e26e-1ea9-11e8-8c28-182876c7a182.png)


### :memo: Other Info",micahstubbs,"enhancement,i18s",,"encountered while working on https://github.com/mapd/mapd-immerse/issues/4027,micahstubbs"
Spinner of death on changing bin to extract with range selected.,4034,,2018-03-03T01:06:42Z,2018-03-07T04:26:42Z,"### :speech_balloon: Description

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
-Steps to reproduce:
Create histogram:
Flights: arr_timestamp vs #Records
range chart on
brush on range chart
Change from bin to extract on arr-timestamp

You get spinner of death



### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

![Screen Shot 2018-03-02 at 4.50.04 PM.png](https://images.zenhubusercontent.com/59a47c158f62dc7798c4571a/7df22dc2-e325-4876-a494-908a3c90332c)

### :memo: Other Info",menaczar,"P1,bug",,"Noting that I get a different error from the console:

```
Uncaught TypeError: this._.getUTCMonth is not a function
    at d3_date_utc.getMonth (d3.js?65f4:2360)
    at b (d3.js?65f4:2608)
    at format (d3.js?65f4:2521)
    at format (d3.js?65f4:2578)
    at Object._chart.updateRangeInput (coordinate-grid-mixin.js?41c0:1473)
    at Object._chart.renderXAxis (coordinate-grid-mixin.js?41c0:579)
    at drawChart (coordinate-grid-mixin.js?41c0:1276)
    at Object._chart._doRender (coordinate-grid-mixin.js?41c0:1240)
    at Object._chart.render (base-mixin.js?f53b:812)
    at dataCallback (async-mixin.js?5c9c:99)
```,clhenrick
I'm wondering if we should just replace the Histogram with the new Line2 architecture, as I don't get this problem with Line2 when the mark type is set to bars.

If we keep the histogram and line 1 then we are effectively maintaining two versions of the line chart code which probably isn't the best thing.

Also @menaczar can you see if this error happens in earlier releases? Some of these bugs with the Histogram seem to have been around for a while and were only recently discovered.,clhenrick
Just a wild guess, but it may be related to how selecting extract defaults to `auto`, which needs to be changed to `isodow` by default before building the query. I had to fix something vaguely similar on line2, which uses crossfilter for the filtering https://github.com/mapd/mapd-immerse/commit/2a8f20fe667cafba3c3ad67271a2e5688cb5ea12#diff-a9b3ab432c68d97439fcd5f3975af6ecR34,biovisualize"
combo chart: binned dimension data should be formatted nicely when exported to csv,4027,,2018-03-02T21:32:47Z,2018-03-16T19:40:49Z,"### :speech_balloon: Description

### ☑️ Feature Implementation Checklist

#### Combo Chart
- [ ] Combo Chart Year Date Extract Case
- [ ] Combo Chart Quarter Date Extract Case
- [ ] Combo Chart Month Date Extract Case
- [ ] Combo Chart Day of Month Date Extract Case
- [ ] Combo Chart Day of Week Date Extract Case
- [ ] Combo Chart Date Hour Extract Case
- [ ] Combo Chart Date Minute Extract Case
- [ ] Combo Chart Date Bin Case | bug report https://github.com/mapd/mapd-immerse/issues/4027#issuecomment-370551342
- [ ] Combo Chart Numeric Bin Case

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
- visit the dashboard `binned-column-csv-export` on `mahakali` http://localhost:8002/#/link/mapd/e1d95cb2
- export a csv file from any chart
- verify that the contents of the csv files matches the design specified below

~- Go to http://immerse-master.prod.frontend.builds.mapd.com/#/link/mapd/ec902329~
~- Extract the bar chart~

**Actual result:**

| contrib_date  | UNIQUE committee_name |
| :---         |     :---:      |
| [{""value"":""2000-06-25T00:00:00.000Z"",""timeBin"":""week"",""isBin"":true,""binUnit"":""week""},{""value"":""2000-07-01T23:59:59.999Z"",""timeBin"":""week"",""isBin"":true,""binUnit"":""week""}] | 1520 |

**Expected result:**

#### Date Bin Case
split into two columns, format value as ISO timestamp
![screen shot 2018-03-02 at 7 06 46 pm](https://user-images.githubusercontent.com/2119400/36929946-f20bcfc4-1e4c-11e8-943e-7eb46cefd337.png)

#### Numeric Bin Case
split into two columns
![screen shot 2018-03-02 at 7 08 07 pm](https://user-images.githubusercontent.com/2119400/36929954-146956b8-1e4d-11e8-9842-5b7fa387a120.png)

#### Date Extract Cases
`columnName (binUnit)`
![screen shot 2018-03-02 at 7 07 41 pm](https://user-images.githubusercontent.com/2119400/36929950-0539a5e4-1e4d-11e8-8193-a1dc255341b6.png)

we should provide nice formatting for all types of date extracts:
![screen shot 2018-03-03 at 7 19 52 am](https://user-images.githubusercontent.com/2119400/36935968-949b75da-1eb3-11e8-847d-644cfbb05580.png)


csv files that show the desired value formats for binned columns 
[binned-column-csv-export-designs-from-slack.zip](https://github.com/mapd/mapd-immerse/files/1777054/binned-column-csv-export-designs-from-slack.zip)

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots",Davidiskander,"P1,csv-export,enhancement",,"@micahstubbs we have to fix this. The main reason for a user to download a chart data as csv is to see the table representation of a chart. Showing a json string like this beats the purpose of this csv export.

It should just show the date field as either a range in a single column or 2 columns with start and end (which would be the most useful & elegant solution).  It would be good to get this fixed for 3.6

@billmaimone, @niviksha - FYI,mythilimapd
Yup, we forgot to specify what to do in the original project description.  Most sensible would be start/end columns.  And I wouldn't hold up the release for it.  If escalated use case for an actual customer it wouldn't be risky to wrap up in a patch.,billmaimone
Note that a good Excel user can parse this into proper columns, even if it's far from ideal.,biovisualize
That pretty much beats the purpose of this feature.,mythilimapd
happy to work on this once there is a design in place.  I read two different approaches so far in the comments here:

1) one timestamp type column, format `YYYY-MM-DD` - `YYYY-MM-DD`
2) split timestamp column into two columns, one `${columnName}_start` one `${columnName}_end`,micahstubbs
For date bins - show start and end date in two separate columns. 
For bins on measures show the start and end bin in two separate columns
If it is an easy fix, we should get it in. To me the feature is functionally incomplete. I am not marking it as release blocker but the **export to csv** is functionally incomplete, if this issue is not fixed. ,mythilimapd
Yeah @biovisualize comment is wiggle room for not being show stopper.  But one strives not to create programming work for the every user of this chart.  Ideally we'd have thought of this case earlier.,billmaimone
And not like the feature is useful, it's just not great for a chart with binning.,billmaimone
@billmaimone yep, useful already for the vast majority of charts 😉 

we'll get this fixed as soon as we have a sample csv file for each situation that shows the desired format.,micahstubbs
@micahstubbs Noting bunch of us in a meeting, you're encouraged to speculatively create one binned chart and investigate how to put bin start and end into separate columns.  If you like to look at it this way, it would scope the bug.  If it were to take weeks to fix this, we probably throw it off the train.,billmaimone
Shoot, github doesn't support .csv.,billmaimone
From discussion with @mythilimapd please use <column>_start and <column>_end for the names.,billmaimone
I can reproduce the bug.  I will wait to proceed until design artifacts are provided.  When the design is in hand, the fix will be quick, not more than one day.,micahstubbs
[Binning Samples.zip](https://github.com/mapd/mapd-immerse/files/1776885/Binning.Samples.zip)
,mythilimapd
Ah, ok.  This looks fine, go ahead @micahstubbs 
,billmaimone
will document the consensus on this design

![screen shot 2018-03-02 at 6 50 43 pm](https://user-images.githubusercontent.com/2119400/36929786-a8aefc72-1e4a-11e8-9f94-042ca153b2a4.png)
https://mapd.slack.com/archives/C165ZDWHJ/p1520040602000178
,micahstubbs
**Month Date Extract Case** is implemented

![screen shot 2018-03-03 at 7 38 23 am](https://user-images.githubusercontent.com/2119400/36936190-6d08f030-1eb6-11e8-909c-6152ce95cf9a.png)
![screen shot 2018-03-03 at 7 38 05 am](https://user-images.githubusercontent.com/2119400/36936191-6e595754-1eb6-11e8-8f4b-fe2017bbb94c.png)
,micahstubbs
👍 ,mythilimapd
**Quarter Date Extract Case** is implemented

![screen shot 2018-03-03 at 11 56 45 am](https://user-images.githubusercontent.com/2119400/36938679-f8f582b6-1ed9-11e8-8c13-8b40e428363b.png)
![screen shot 2018-03-03 at 11 57 37 am](https://user-images.githubusercontent.com/2119400/36938687-1c0c5554-1eda-11e8-8de2-6ee965aacc6b.png)
,micahstubbs
**Year Date Extract Case** is implemented

![screen shot 2018-03-03 at 12 14 25 pm](https://user-images.githubusercontent.com/2119400/36938840-890a2990-1edc-11e8-9557-ec23ccac2949.png)

![screen shot 2018-03-03 at 12 14 15 pm](https://user-images.githubusercontent.com/2119400/36938843-8befe4a6-1edc-11e8-884e-00a9cadd186f.png)
,micahstubbs
**Day of Week Date Extract Case** is implemented

![screen shot 2018-03-03 at 12 24 22 pm](https://user-images.githubusercontent.com/2119400/36938931-d5ab5bb0-1edd-11e8-9a43-be159027bbd4.png)
![screen shot 2018-03-03 at 12 24 05 pm](https://user-images.githubusercontent.com/2119400/36938932-d70cd11e-1edd-11e8-91a4-7c5f0c09e03d.png)
,micahstubbs
**Day of Month Date Extract Case** is implemented

![screen shot 2018-03-03 at 12 25 56 pm](https://user-images.githubusercontent.com/2119400/36938942-176e75be-1ede-11e8-9256-a3e9b28f2164.png)
![screen shot 2018-03-03 at 12 26 10 pm](https://user-images.githubusercontent.com/2119400/36938943-18aa38a0-1ede-11e8-9547-257bcbf596cb.png)
,micahstubbs
**Hour Date Extract Case** is implemented

![screen shot 2018-03-03 at 12 47 26 pm](https://user-images.githubusercontent.com/2119400/36939140-0e978f40-1ee1-11e8-9559-35f910f43661.png)
![screen shot 2018-03-03 at 12 47 19 pm](https://user-images.githubusercontent.com/2119400/36939141-1087ec78-1ee1-11e8-9eac-645b18967d55.png)
,micahstubbs
**Minute Date Extract Case** is implemented

![screen shot 2018-03-03 at 12 49 26 pm](https://user-images.githubusercontent.com/2119400/36939158-612ca1aa-1ee1-11e8-9075-d086a5faa1c3.png)
![screen shot 2018-03-03 at 12 49 43 pm](https://user-images.githubusercontent.com/2119400/36939160-62698f10-1ee1-11e8-9f07-635ff3d7b3d9.png)
,micahstubbs
**Numeric Bin Case** is implemented

![screen shot 2018-03-04 at 7 46 40 am](https://user-images.githubusercontent.com/2119400/36947432-53b63f0a-1f80-11e8-8f12-615fc06ce243.png)
![screen shot 2018-03-04 at 7 46 20 am](https://user-images.githubusercontent.com/2119400/36947435-58517656-1f80-11e8-8b36-7cee7c5be770.png)
,micahstubbs
it looks like there are five types of date bin supported from the `row` chart

![screen shot 2018-03-04 at 8 32 35 am](https://user-images.githubusercontent.com/2119400/36947865-a6815976-1f86-11e8-9774-4850eab880d6.png)

Auto
Decade
Year
Quarter
Month

per the design, we will 

#### Date Bin Case
split into two columns, format value as ISO timestamp
![screen shot 2018-03-02 at 7 06 46 pm](https://user-images.githubusercontent.com/2119400/36929946-f20bcfc4-1e4c-11e8-943e-7eb46cefd337.png)

note that this treatment deviates from the design pattern we have followed so far, where the values downloaded in the csv file match exactly the values displayed on the chart as bar labels.  the question here is: do we want to optimize the format of the data in the exported csv files for `human legibility` or `machine legibility`?

the current design does a bit of both.

it would be wise to think holistically about this design inconsistency in the future.  see issue https://github.com/mapd/mapd-immerse/issues/4041,micahstubbs
I believe that the binning supported will depend on the range of the column. A narrower time range will unlock more granular binning options and disable the coarse ones. ,tmostak
@tmostak 💡  ah, good to understand that behavior.  now I should dive in an find the place where that's implemented 😄 ,micahstubbs
**Date Bin Case** is implemented

![screen shot 2018-03-04 at 8 43 20 am](https://user-images.githubusercontent.com/2119400/36947958-286f9668-1f88-11e8-8227-9489ec5869b5.png)

![screen shot 2018-03-04 at 8 40 23 am](https://user-images.githubusercontent.com/2119400/36947960-2f7a3d5a-1f88-11e8-886f-b1cc63e5d467.png)

,micahstubbs
Can you specify it the scope of this task is to make it work only for the row chart? Otherwise some things are missing. 

Examples:
Combo chart binned by week:
<img width=""688"" alt=""screen shot 2018-03-05 at 3 19 38 pm"" src=""https://user-images.githubusercontent.com/824534/36997752-a52c9f06-2088-11e8-9d90-fba1ae5596b8.png"">

---

#### Table Chart Date Bin Case | bug report for Week binning 


Table, binned by week, `arr_timestamp` is empty:
<img width=""411"" alt=""screen shot 2018-03-05 at 3 14 12 pm"" src=""https://user-images.githubusercontent.com/824534/36997547-f7574dfe-2087-11e8-83e0-527f34bc6561.png"">
repro dashboard 
🔗 http://localhost:8002/#/link/mapd/50bf872b
🔗 immerse-master.prod.frontend.builds.mapd.com/#/link/mapd/50bf872b

---

Histogram with `extract` witch color dimension:
<img width=""722"" alt=""screen shot 2018-03-05 at 3 16 06 pm"" src=""https://user-images.githubusercontent.com/824534/36997673-69b3e9ca-2088-11e8-910d-a9e8250e85a6.png"">
,biovisualize"
The swap arrows on the pie chart is really small. White label ,4026,,2018-03-02T19:54:20Z,2018-03-02T20:00:01Z,"![image.png](https://images.zenhubusercontent.com/59a47c158f62dc7798c4571a/cbf538fc-7c8e-43da-b93c-d23ed68dae79)

create a chart and click on Pie chart.
You'll see this color pattern with small swap arrows.",menaczar,"P3,bug,white-label",,
Legend bleeds out of point map. White lablel,4024,,2018-03-02T19:42:09Z,2018-03-02T19:59:00Z,"![image.png](https://images.zenhubusercontent.com/59a47c158f62dc7798c4571a/f48d0387-18ca-4ba6-9888-34268286ffbf)
apply the white label settings.
Create a point map:
flights/ lon, lat
color: actualelapsedtime
you get the above result of the legend",menaczar,"P2,bug,white-label",,
FilterDateInputParent async tests fail intermittently,4023,,2018-03-02T17:46:22Z,2018-03-16T19:40:49Z,"### :speech_balloon: Description

![screen shot 2018-03-02 at 9 30 26 am](https://user-images.githubusercontent.com/2119400/36912692-626ac9ce-1dfc-11e8-952b-1ac1e1ae6b25.png)

https://travis-ci.com/mapd/mapd-immerse/builds/67269195?utm_source=github_status&utm_medium=notification

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
-
- **Actual result:**
- **Expected result:**

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

### :memo: Other Info",micahstubbs,"bug,tech",jrajav,"@jrajav right after 3.6.0 let's research this together and fix it 🔧 ,micahstubbs"
[Combo Chart] Consider different multi-measure name,4016,,2018-03-02T01:07:32Z,2018-03-12T16:16:56Z,"### :speech_balloon: Description
Pointed out by @menaczar 
There needs a different measure name other than y-axis 1, y-axis 2...... for Combo charts

### :computer: Environment
- **Browser Name, Version**: Chrome
- **mapd-immerse Version or Branch**: master

### :camera_flash: Screenshots
![screen shot 2018-02-27 at 4 51 51 pm](https://user-images.githubusercontent.com/16374964/36763872-b1f5a3e4-1bde-11e8-88db-7de114398cb8.png)

### :memo: Other Info",ericli5454,"combo-chart,enhancement",Christian-Baptiste,"This is easy to change. @mythilimapd do you have an idea how it should be named? Maybe just ""Y Axis""? Maybe what's there is fine already.,biovisualize
@Christian-Baptiste - would be great to get your feedback on this!,mythilimapd"
Make Immerse aware of new TDatumTypes,4004,,2018-03-01T18:57:25Z,2018-03-01T18:57:25Z,"The back-end now has four new geo datum types (POINT, LINESTRING, POLYGON, MULTIPOLYGON) which have been added to the TDatumTypes enum in Thrift, but Immerse (and probably Connector) need teaching what to do with them. Specifically, the drag-and-drop import workflow needs to support CSVs with geo (WKT) columns. The back end detector will report them correctly, but Immerse reports them as ""small integer"" and it's all downhill from there.",simoneves,,,
support multi-line queries in custom dimension SQL box,4003,,2018-03-01T17:36:19Z,2018-03-01T17:37:12Z,"### :speech_balloon: Description

a direct user request https://community.mapd.com/t/line-break-in-custom-dimension-editor/1031/1

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
-
- **Actual result:**
- **Expected result:**

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

### :memo: Other Info",micahstubbs,"community-request,sql",,
Point map rendering takes a long time and could crash the server,4002,,2018-03-01T04:43:23Z,2018-03-02T21:24:15Z,"### :speech_balloon: Description

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
- Create a point map
- Flights_123M
- dimension: airtime
- dest_lon/dest_lat

**Actual result:**
- you get a long loading time and sometimes the server hangs and I have to restart the cluster.
- 
<img width=""1150"" alt=""screen shot 2018-02-28 at 9 22 04 pm"" src=""https://user-images.githubusercontent.com/10747240/36828270-9648be16-1ccd-11e8-8fd3-458b331c67ee.png"">

**Expected result:**
- normal map rendering

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

### :memo: Other Info
**SQL query:** `SELECT MIN(val) as min_val, MAX(val) as max_val from (SELECT airtime, AVG(dest_lon) as val from flights_123M GROUP BY airtime);`

**VEGA string:** `""{""width"":799,""height"":405,""data"":[{""name"":""pointmap"",""sql"":""SELECT airtime as key0, AVG(conv_4326_900913_x(dest_lon)) as x, AVG(conv_4326_900913_y(dest_lat)) as y FROM flights_123M WHERE ((dest_lon >= -140.4492187499981 AND dest_lon <= 140.4492187499976) AND (dest_lat >= -36.87315716956438 AND dest_lat <= 71.07667699623025)) GROUP BY key0""}],""scales"":[{""name"":""x"",""type"":""linear"",""domain"":[-15634735.511417719,15634735.511417665],""range"":""width""},{""name"":""y"",""type"":""linear"",""domain"":[-4421441.2485094685,11428540.934578208],""range"":""height""},{""name"":""pointmap_fillColor"",""type"":""linear"",""domain"":[0,0.125,0.25,0.375,0.5,0.625,0.75,0.875,1],""range"":[""rgba(17,95,154,0.475)"",""rgba(25,132,197,0.5471153846153846)"",""rgba(34,167,240,0.6192307692307691)"",""rgba(72,181,196,0.6913461538461538)"",""rgba(118,198,143,0.7634615384615384)"",""rgba(166,215,91,0.835576923076923)"",""rgba(201,229,47,0.85)"",""rgba(208,238,17,0.85)"",""rgba(208,244,0,0.85)""],""accumulator"":""density"",""minDensityCnt"":""-2ndStdDev"",""maxDensityCnt"":""2ndStdDev"",""clamp"":true}],""marks"":[{""type"":""points"",""from"":{""data"":""pointmap""},""properties"":{""x"":{""scale"":""x"",""field"":""x""},""y"":{""scale"":""y"",""field"":""y""},""fillColor"":{""scale"":""pointmap_fillColor"",""value"":0},""size"":1}}]}""`

**Response:**
`[1,""render_vega"",2,0,{""0"":{""rec"":{""1"":{""str"":""iVBORw0KGgoAAAANSUhEUgAAAx8AAAGVCAYAAACfEEwyAAAgAElEQVR4Xu3d64+c1X0A4Llfdmb2vjZr764N2PhuY3MPYBYbfIudgC+xuReHS8DBNiaAgQABkqDQNApqA5VI1SpSqqqV2kZKm0/Np6pf+rH/UM8Z+12GYXZ3Zna9zK6fkSzWO+c9l2cG6fx8zu+cVMqLAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBHpYILdqw7093D1dI0CAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAwFIK2FK1lNraIkCAAAECBAgQIECAAAECBAgQIECAAAECBHpbwMpJb38+ekeAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBJa1QHn79JFlPQCdJ0CAAAECBAgQIECAAAECBAgQIECAAAECBAhcVwJWd66rj9tgCRAgQIAAAQKLI7BcJ5G5VRvuXRwBtRAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIEllLAKsdSai9OWz6zxXFUCwECBAgQIECAwAoXMHFe4R+w4REgQIAAAQIECBBYDAGBQ+eKzXk/mdrIuup9Z17ovCZPECBAgAABAgQIEOhBgaUOEpa6vWtB3upwgInp6TPdtDWXR37q1kcylcGxTutdCcadjll5AgQIECBAgAABAjMCrSbE+XW3nUz3DU21y2RS3a6UcgQIECBAgAABAgQIfFUgmy8Vb7l/wduK5lw9mNz1nXz40y19Lwc8c/Xt9POpl7sds+cIECBAgAABAgQILDuB+SbucVtRulgZWXYD02ECBAgQIECAAAECBFauwHyBzEoc+XK9eHIlfhbGRIAAAQIECBAgsMwFug0okue2fnvvLxKCdKm2Kj+1+9Hk793W/U2TxhyYxnHE/ixk29g3PR7tEyBAgAABAgQIEOhpgVaBQ6tjZ089O1DPayjtOPxWadMDL7W7hav6rZPP9uqEvtVWtF7ta09/iXSOAAECBAgQIEBgfoHl+i/284/s6yU6GWtMTM+UqkOpTDbfaVvdTt7j8bm5sZvuju0193W+vufGt+yPz208cfK1+Kexzwu5v2O+dju1UZ4AAQIECBAgQIDAdS3QaoKdLg+sKW5+8IfFLfsv5EanNnQClAQfvTJxn+3+jk5OqHrg1JYFnxLWiaGyBAgQIECAAAECBOYV6JUJ92wdjYHBXCsTX+l/Op3J9I9N1e47/Vyr+mK+RAhOLubXbj80L0yL1YzkmcY25+tfO+20WyY/sf1wUjYGWbUHnzkf+7L1+y/+urjlobbH1W57yhEgQIAAAQIECBAg0I1AJpOLE/Z0Ll9OhSAlqaI5eFjsYCysyIzn1m47GNvrP/DC6/X8k/CnuHX/xS+DmfUbq/edmVmpiH2KeSeNfYnbtIq33DcTVA0ceumtTKlWP4a4suvApUx54IbGcXVD5BkCBAgQIECAAAECK0agnYl9pysJjcnhrU6CStrMDk3sKG3e90oqnckuBmi7Se8xaIjBRmHt5p3Dj3342fu/W/vnfT+99MfyziNvx37E/I6Bo+ffD/kq/XP1K10eXFvYcO/ZpEy2NjpRCPegLMZY1EGAAAECBAgQIECAQIcCc11KWL339HOZvoGx2aqMW7HqKyNha1aHzaZiABSfKYbgIFMZXJXK5AqpEOUk9RRGx9c99tHRfyvVikNrjz7+qzvf/cm/1yYnN9Wf2TR9Lgk8Zktar28XCwn1s53W1U5Q1+mYlCdAgAABAgQIECCwrAWSSXKryXK3E+iYw7EYKOlS/+qwjWmsm9WEJCclv+62E/VtVdsPXS5u2fdK7mpuSczNSLZbpfPF6u2X3/mXC58d+mNhdHJP6Ht6vv7HoChTGZqcr5z3CRAgQIAAAQIECBC4xgILOdkpuSW8cNNdj6cLfUPNXZ0rKMrXj8sNCSTV0Rvjc9mhyVvr+RwbvvUXIQdjdXyvsb4kACnvOvL2yMTw5hCgnA8rLkdimTUbR3blb7zz8VZUoczhZLtYsZwq795/4/Ha/rOvXmNW1RMgQIAAAQIECBBYuEC3qwwLb7k3aohH8TbfEp7O5oqFMPlvFYDM1utCCDLic8UN9zyT6V+1MQYhMcDIhp+TZxLrTG3spiT4iP9trrM5gJrtMzr3XuqnF/728H/2hqReECBAgAABAgQIXBcC10sA0c04Z3smbIs6mcoXyzHBO10o1+IXJTOwZmtyGlUMJOIWqnS+VE/+zk/tORlXJ5IvVHNCe3wvBhxh7SNbCneMFNbt/Nbw4x99nl99U73OdL5voN5G3+BILFvaNP1SdnDN1iT4qJ9gtXnfD8MCSXpwz/6vXDTY+CXuxuC6+J/AIAkQIECAAAECBAh0I9DtBLtQrQ63215Y1Ri8krjdV0sVK8PFrQ9divkZjSsR8ee+PYdPxoAgUxtdE47AfT6pv57QHnI2kr9n+vpHrgQyfZXw3OXaHcfeWXfw0Nny9v31HI/i5ulz6crw5OCxix8Mn37301guM7hmWywb60gXqyNx3HFVpHkM3Xq0a6EcAQIECBAgQIAAgWsq0CsT2uT0puabyItDw+Oz5T00w8Qk7r5tDzy/+amnP6hNP/XD+eC+MvZ8eaC46YEfpMNSR/25EGfcePLJn8VcjBg03P2TD/4wdsvU7ivJ4wcuNNe98cTJ15ITruJJVWHV41w4iWp45p6NGLiU+wc3vnjht8WtD18KAUupOn3256nYblghGXrk9Z/P1BlOxsqt3rg3Ozx5ayqTzc83Du8TIECAAAECBAgQINCBQFxBiNufkpvI4/aj+PjE9PSZOavJFathW9Sx+qpEdXT9zvOv/+MX/5H6c/MzcXtVfTKfLYQjb7/+yk/sPDZ0/M1PSjsOXooBxo6Th3/91u+/+z/Fvnx1z6uXfhu3Tj3z6RP/ter+Ix8lT8c6ZzuGt35K1i17X5xpKZ3NjtyQWfv5nwb+t7Jt77lUrliK7cRVlLD6UY39T8rGk6xSYZtXDECS5PMOKBUlQIAAAQIECBAgcO0E5p2gX216w8N7P3rj49G/2Xr27Md3vPX2P51679i/Vncf+XGcWA+eevfT0rYDr8XVg3iSUmH9HafrJyqFV3L6U/y58cK/ZOWg3d8tdJXloQvf+TT2tTFJe/DRN39V2nXkjZA3sa1vx76X97z+9j+Xh/vDqVKpVGN76VyxErZTvbnx6ef/qjo5tSXkVbySX3/795o/lXSuUC7efPdToXzYvFVZfesr5z8vjoytje0OffvlH4c7O65s6QrvhxyR+patVp9s8pnUA4ypdVsHT1z+JG7nGr7r4fdiPsjQ6ff/Oqx+lFNh21dt37MX4rG+ScJ75c7vPhGKXFmBafFqdlzIyV7X7lupZgIECBAgQIAAgetCYK5Jfv9oZU15y/0H+m4Yv6lv15F3ZkCyhXJpx6HLYUJd6VWkvuGBqcLU7kenDn3nQmFi57cr9xx/OhuCgfqpVBvvey6eSlXZdeBSfG+2Mbz87vhf3v7m5d9XxsdvTsqEJPLjhU17fxDv4ajvtxoY31rafvCN+H66XB3IlSv9MfjIVoevXEgYV1vW7TlZ2vTAS+ly/3CyNWo296mjp96JQUjM8ShdTVYPqyy/iKsdMQCKAU/hprufjAHSbP1uDAB79fPRLwIECBAgQIAAAQJtCqQzYevR0cbtPwtdqWiz4YUXy2RyufHN+5N7L2aCinBKVXLZX/K7bDadG33w9Me3XnztH8JOqFyyijL8vfd+E3/OVEbibebpYtwyFYKMyj0nnnnyV0/9aaaTuVK1sP7207FsYXLr7uHHPvysePM9T9XzOxpe9fendj8Sf1X/OW77Gli9JlWoJ7W/mpSPuSILB/iyhubxLmbd6iJAgAABAgQIECCwJAJLGYjMlUuxGIPd8vQzH/7uv6v/F1K9R1IhAqnXGQKN+gV/8ejdGIEVK0Nh69mZkCQ+HFc9YpHi4ODqeO9HDCbiakksFwKPp+MJVYWr269m7vAoD9zQqq+hjQu5UrE/yeVIktSby3bi3VhW8LEY3xB1ECBAgAABAgQIdC3QyUS23UaSOlvV3W57s20lSpcH1hRiAvocr262ISU5LLXbj7wxfOqtX1b3PvZi5bYjM3kfuVUb76+vfoTE9XC7+RMzqyIh+PjF78t/2P795z6p3Xb4jfj73Oj6O2P36n0NqyRhO1XYsvXlK96OnqkM1QOQxpyY+Pcn39/4m8Fjr37YWD4ZTzfjavczU44AAQIECBAgQIDAihBoN+BYysE29ykm0c/Vfn58y0Nhq9TxwvrbTvXtPng8Nzy1p+/2o6cHjpz78Y5zP/i7wsDQqnriesiNaXUjeWPdsVxt/7MXwwpK/XLCxlf/Df3rhx//8LNOLNo9VCDW2YufRSdjVZYAAQIECBAgQOA6FOhmEtt843e7bJnayLpw7GzLk6NmrSPkesTtT6HNieSkqFi2vm2rKQej/vurp3e126eW5dKZTP/Dz/0ovnf6+dTLzWUatz3F+z5CYvqJdLjLo7FccmLXbP3oxn1BY/IwAQIECBAgQIAAgaUQWOyJbv3G72JlpNO+xyNrw2R9aLZL9VoFNfF43Xh8bby0L5XNl2baDD8nR+AuZHzdBFLNORfxWN1wZ8lDSd8mHjz4wf4X9s3cFRLu9LhYnZzcXNt/9tVOzZQnQIAAAQIECBAgcF0ILGRS3woo5k4U43G34f6N+P5X7ujoG5qKwUS4F6Pa+Gw90AnH1MYL+RpzRLoNgBrrrt+4vu3Aj+LFh91+oFfHkJ5rxaU0tmrdrvMXv4jbuPpWja1rDELkf3Qr7zkCBAgQIECAAIGeFViqSe58AUu6VFtVmNx5rBmqMZiYr47FQm6+cb2x3lbbrRrfj6sZ8/WjHpDU7/m440xymtY7vxz7ItwqMlzaNP217Vzz1ed9AgQIECBAgAABAgR6WKCTQCbklpysXwiYL19JIA95HGGL1XeT4TVvt2qVIN4Y5A0ev/xJbmTixnAx4mBp0/1n6lVWa2vrKzxdbFvrYWZdI0CAAAECBAgQuF4E5vtX+l506CQoWKr+Z2qja2oPPPFScspVuJDxWOPxup3er5GtjU5cDTRmLicMKx4vtUqUT8bYiy5L5a8dAgQIECBAgAABAgRmEZjvKN74WHZoYmcxbLHK3bDpwdzabQczfVfuBfEiQIAAAQIECBAgQGAFCMy3etD8/lz5MHPVFRLgZ7ZktWKr1xvuAom3qieXGVbvPXV2BRAbAgECBAgQIECAAAECvSiQX7PtYLY2dnM47Ws83pTebh/nC6LarUc5AgQIECBAgAABAgTaFFjKSfhingrW3O+Bu469s/via39fHB6banPoihEgQIAAAQIECBAg0I7AUgYN1yLpPt6inhud2pCMdaHjCfWdyPcPjTfeV5LU3e3Wr3Y+B2UIECBAgAABAgQIEOhlgWyhkC6UBweOnn+/l7upbwQIECBAgAABAgQILHOByl2PPBmO2T2fqQyOLeZQFrp6sph9URcBAgQIECBAgAABAitAoDnIaBV0tLqkcAUM3RAIECBAgAABAgQIECBAgAABAgQIECBAgACBFS0QE9fTfUNOuFrRn7LBESBAgAABAgQIEPgGBJq3WIX7Pda0OuHqG+iaJgkQIECAAAECBAgQIJBKSUb3LSBAgAABAgQIECCwjASuxX0fy2j4ukqAAAECBAgQIECAwLUSWMwbya9VH9VLgAABAgQIECBAgMAKF7AKssI/YMMjQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIDAchU49ezAy8u17/pNgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgACBJRCwzWoJkDVBgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgMBKF8it2nDvSh+j8REgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIBAjwlMTE+f6bEu6Q4BAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAoubPhgAAANvSURBVAQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgEDPCPw/zQQi8rUN20oAAAAASUVORK5CYII""},""2"":{""str"":""6""},""3"":{""i64"":131172},""4"":{""i64"":140},""5"":{""i64"":131316},""6"":{""str"":""{\""scales\"":[{\""name\"":\""pointmap_fillColor\"",\""type\"":\""linear\"",\""domain\"":[0.0,0.125,0.25,0.375,0.5,0.625,0.75,0.875,1.0],\""range\"":[\""rgba(17,95,154,0.475)\"",\""rgba(25,132,197,0.547115)\"",\""rgba(34,167,240,0.619231)\"",\""rgba(72,181,196,0.691346)\"",\""rgba(118,198,143,0.763462)\"",\""rgba(166,215,91,0.835577)\"",\""rgba(201,229,47,0.85)\"",\""rgba(208,238,17,0.85)\"",\""rgba(208,244,0,0.85)\""],\""accumulator\"":\""density\"",\""minDensityCnt\"":1.0,\""maxDensityCnt\"":5.268849354025275,\""clamp\"":true}]}""}}}}]`",menaczar,"P2,bug",,"The issue is with this query taking 131278ms on mahakali.

```
SELECT airtime as key0, AVG(conv_4326_900913_x(dest_lon)) as x, AVG(conv_4326_900913_y(dest_lat)) as y FROM flights_123M WHERE ((dest_lon >= -140.4492187499981 AND dest_lon <= 140.4492187499976) AND (dest_lat >= -36.87315716956438 AND dest_lat <= 71.07667699623025)) GROUP BY key0
``` 

there's nothing we can do from the frontend to speed up query execution on the backend ,nytai
Also note that this isn't a regression.,billmaimone"
Aggregated measures (lon & lat) are not respected by point-map selectors filters,4001,,2018-03-01T01:12:00Z,2018-03-01T01:12:00Z,"### :speech_balloon: Description
[on master] when I apply multiple selections on a point map and change the `agg`, not all selections are respected
http://immerse-master.prod.frontend.builds.mapd.com/#/link/mapd/fce89a1a

Hint: It might be related to the binning, we can now bin lon and lat by `avg`, `min` and `max`

Query:`SELECT admin2 as key0, MAX(conv_4326_900913_x(lon)) as x, MAX(conv_4326_900913_y(lat)) as y FROM tweets_nov_feb_60M WHERE ((lon IS NOT NULL AND lat IS NOT NULL AND (DISTANCE_IN_METERS(-103.43975067138672, 36.82977294921875, lon, lat) < 1360160.9113796772)) AND (lon >= -164.9892163910819 AND lon <= 175.8590941768536) AND (lat >= -56.278044394814735 AND lat <= 75.45159348001769)) GROUP BY key0`


### :computer: Environment
- **Browser Name, Version**: Chrome
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
- Go to Master
- Create a new dashboard
- Create a new chart
- Select data: `tweets_nov_feb_60M`, D:`followees`, M: `lon` & `lat`
- Change aggregation on measures to `MAX`
- Apply a circle selector filter
**Actual result:**
Some points fall out of the circle selection
**Expected result:**
All point should fall inside the circle selection

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots
<img width=""1440"" alt=""screen shot 2018-02-28 at 5 10 04 pm"" src=""https://user-images.githubusercontent.com/10747240/36821947-696ce372-1caa-11e8-8696-4cfca8fc1bdf.png"">
<img width=""1437"" alt=""screen shot 2018-02-28 at 5 00 21 pm"" src=""https://user-images.githubusercontent.com/10747240/36821948-6986f6a4-1caa-11e8-8dc8-3e75f9edb1f9.png"">

### :memo: Other Info
You can find the bug in 2 dashboards:
http://immerse-master.prod.frontend.builds.mapd.com/#/link/mapd/5d6c0007
http://immerse-master.prod.frontend.builds.mapd.com/#/link/mapd/fce89a1a",Davidiskander,"P2,bug",,
"Display ""Powered by MapD"" when using custom logo",3998,,2018-02-28T19:26:58Z,2018-05-31T18:18:35Z,"### :speech_balloon: Description
 For customers white labeling MapD Immerse with their own logo, display a ""Powered by MapD"" message next to the favicon.


### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
-
- **Actual result:**
- **Expected result:**

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

### :memo: Other Info",mythilimapd,,jrajav,"As discussed earlier this is moved to 4.1 (@niviksha for re-confirmation, no need to reply if accurate),jrajav
Note: Closely related to https://github.com/mapd/mapd-immerse/issues/4337 (but possibly still orthogonal in code),jrajav"
List of design decisions to make on line2,3995,,2018-02-28T16:36:50Z,2018-03-02T10:29:27Z,"### Description
Some issues are raised during QA, development and usage of the new line chart that are about UX/UI design more than actual bugs. Let's list them here and discuss solutions.

### List
* Design the logic between line/area and line/bar selectors https://github.com/mapd/mapd-immerse/pull/3956#issuecomment-368703040 and https://github.com/mapd/mapd-immerse/pull/3956#issuecomment-368703843
* Y axis labels revert back to default when switching orientation https://github.com/mapd/mapd-immerse/pull/3956#issuecomment-369065501
* Measure selector could have a different name than Y Axis [1, ...] https://github.com/mapd/mapd-immerse/pull/3956#issuecomment-369081551",biovisualize,"combo-chart,design",,
Reproduce and investigate cause of async timeout test failure,3994,,2018-02-28T14:44:31Z,2018-02-28T14:44:31Z,"### :speech_balloon: Description

Discover what causes this error, if a concrete cause can be found, or consider steps to mitigate its possibility:

```
1316 passing (30s)
  22 pending
  1 failing

  1) FilterDateInputParent Component 

CustomRange component filter range state on input submit events should set an error if startDate is before endDate:

     Error: timeout of 2000ms exceeded. Ensure the done() callback is being called in this test.
```",jrajav,"tech,tests",,
[Point Map] Legend min & max reverts to default after changing map themes or any visual attribute setting,3992,,2018-02-28T01:24:21Z,2018-06-08T06:22:27Z,"### :speech_balloon: Description
Todd noticed an issue where the point maps max/min would revert back to its default values after user has changed the map theme or any visual attribute settings

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
1. Select point map chart
2. Add the following:
Data Source: nyc_yellow_taxi
Measure - Lon: dropoff_longitude  
Measure - Lat: dropoff_latitude
Measure - Color: total_ amount

3. Change map them or visual attribute (i.e. # of points, Autosize, or Mark Shape settings) 
4. Edit map legend Min/Max value

- **Actual result:**
- Min/max values immediately revert back to default values 
- Note that user is still able to enter min/max legend values prior to changing map theme/visual attribute

- **Expected result:**
- User able to set Min/max value 

### :camera_flash: Screenshots
![point_map_legend_bug](https://user-images.githubusercontent.com/35040876/36764665-759d6234-1be2-11e8-9878-513b1eaf23b5.gif)

### :memo: Other Info",ericli5454,"P2,bug",,"Its actually after changing any thing on the right side of the map I believe, including # of points (which shouldn't affect min/max here as we're doing it from the data). Changing issue title.,tmostak
I'll add that this is a relative annoying one as often one takes a lot of care to set the min/max correctly, only to have it wiped out after every change.,tmostak
@tmostak  Thanks for the update ~ 
I'll update the descriptions real quick 
,ericli5454
Just confirmed this doesn't happen in heatmap and choropleth. Not sure though if it occurred in heatmap when this was filed (color scaling on heatmap was changed to Vega transforms).,tmostak
@ericli5454 you can repro this?,tmostak
@tmostak Yeah i can still repro this,ericli5454"
Line2 adapter's setConfig invokes a render before config has been set,3991,,2018-02-28T00:57:42Z,2018-03-02T10:29:49Z,"### :speech_balloon: Description
In the line2-adapter's setConfig method, the chart is actually rendered before its config object has been overridden. This is because chart.getEvents() calls render(). This could lead to some unwanted side effects and it probably makes sense to move the event setup outside of setConfig. 

Problematic code here: https://github.com/mapd/mapd-immerse/blob/master/src/charts/line-chart2/line2-adapter.js#L164-L185

Proposed solution implemented with Stacked Bar: https://github.com/mapd/mapd-immerse/pull/3959/commits/e8cd1543b022f461aadef321fdcfe354d2739370

cc @biovisualize 

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
-
- **Actual result:**
- **Expected result:**

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

### :memo: Other Info",clhenrick,combo-chart,,"Just a note: `getEvents` will not call render unless the components has not been instantiated (because otherwise, `eventCollector` would not have been populated).
```
function getEvents () {
    if (!cache.svg) {
      render()
    }
    return eventCollector
  }
```
But it is instantiated right before in Immerse
```
cache.chart = Chart(cfg.parentNode)
cache.chart.getEvents()
```
And even if it would hit `render` it would not render sub-components before some data was set
```
function render () {
    build()

    if (dataObject.dataBySeries) {
      buildChart()
    }
    return this
  }
```
So I don't think we are trying to solve a problem here. But the code logic is not clear and I agree it needs a cleanup. And the way you do it makes sense.,biovisualize
I get what you’re saying @biovisualize but the problem is that with line2 adapter as it currently is, render is called with the default config before setConfig has done what it’s naming implies: set the chart’s config. This means a chart will be first rendered with the chart type “line”, even if the desired chart type is something else, which can have unintended side effects. So yes it is a problem that should be fixed.,clhenrick
Context of this issue: I want to append a class name of the chart type to the chart’s SVG element in the html template in the chart’s build method, because that seems like the obvious place to do it. However with the adapter currently as is, that class name will always be “line”, which is not what I want if my chart type is something else.

Furthermore from an architecture perspective it seems like adapter’s setConfig is doing too much and that the first call to getEvents should live in its own function.

If we are to use this adapter logic for other chart types with mapd3 and immerse I imagine it could potentially lead to other unwanted / confusing side effects.,clhenrick
Thanks for the context. I agree :+1:,biovisualize"
[Scatter] Color palette legend key remains after respective measure is deleted,3990,,2018-02-28T00:55:59Z,2018-02-28T00:56:25Z,"### :speech_balloon: Description
After user drag and drops a color measure, and deletes measure, the color measures 
respective legend in color palette remains

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
1. Select scatterplot charts 

2. Then add the following:
Data Source: Flights_123M
Measure X-Axis: airtime
Measure Y-Axis: arrdelay
Measure Color: dest_city

3. Drag and drop dest_city from Color Measure to Size Measure
4. Delete dest_city from Size Measure 

- **Actual result:**
The Color Palette legend for dest_city remains after dest_city has been deleted

- **Expected result:**
The Color Palette legend for dest_city  is removed after dest_city has been deleted

### :camera_flash: Screenshots

![bug_color_palette](https://user-images.githubusercontent.com/35040876/36763939-0c03bc0e-1bdf-11e8-8557-6a37d5b3f9d0.gif)

### :memo: Other Info",ericli5454,"P3,bug",,
[Pointmap/Scatter] Chart does not update until another measure is added,3989,,2018-02-28T00:19:10Z,2018-02-28T00:33:02Z,"### :speech_balloon: Description
Todd noticed an issue with Pointmaps/Scatter chart in which adding/editing a dimension isn't updated on charts until a measure is added


### :computer: Environment
- **Browser Name, Version**: Chrome
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
1. Select Point Map Chart and Select tweet_nov_feb
2. Add in lon(AVG)  and lat(AVG) respectively for the Lon and Lat Measures
3. Then add in county_state for Dimension

-  **Actual result:**
The number of data points remain the same

![point_map_bug](https://user-images.githubusercontent.com/35040876/36762676-a8737346-1bd9-11e8-9bc3-90b6113ae14e.gif)

-  **Expected result:**
The number of data point should decease such that there is should be only one data point per county.
Note that: Adding an extra measure updates the charts with dimension. 
<img width=""1207"" alt=""screen shot 2018-02-27 at 4 16 48 pm"" src=""https://user-images.githubusercontent.com/35040876/36762689-bd9443e0-1bd9-11e8-8fd4-26498b6c2e35.png"">

### :memo: Other Info",ericli5454,"P2,bug",,
update the bot to post the CI build links for testing on the issue,3983,,2018-02-27T19:35:01Z,2018-03-16T19:40:48Z,"### :speech_balloon: Description

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
-
- **Actual result:**
- **Expected result:**

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

### :memo: Other Info",micahstubbs,tech,,
warning  Function 'removeSelectorThunk' has a complexity of 21,3977,,2018-02-26T23:47:45Z,2018-02-26T23:47:53Z,"### :speech_balloon: Description

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
-
- **Actual result:**
- **Expected result:**

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

### :memo: Other Info
![screen shot 2018-02-26 at 3 47 35 pm](https://user-images.githubusercontent.com/2119400/36702552-614dfeb4-1b0c-11e8-8853-c4f5bee32de1.png)",micahstubbs,tech,,
Heatmap/Choropleth legend min/max issue,3975,,2018-02-26T17:53:13Z,2018-02-26T18:04:27Z,"### Description
Heat map legend multi behavior issues

### Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

Master

### Steps To Reproduce
-Create a heat map

- **Actual result:**
Can input a value less then the minimum ex: 5.
Min and max could have the same value.
User could set max less than min 

- **Expected result:**
Max box can't have a value less than Min.
Max and Min should not be equal to each other.
Max should not be less than Min 
### Screenshots

### Other Info",biovisualize,"P3,bug",,
Split css/scss module loader across webpack configs to configure sourceMap for dev,3971,,2018-02-26T14:44:39Z,2018-04-22T15:55:46Z,"### 📄 Github Issue
 #3970 

### :camera_flash: Screenshot

<img width=""405"" alt=""screen shot 2018-02-26 at 08 44 17"" src=""https://user-images.githubusercontent.com/2074135/36676423-440b653e-1ad1-11e8-9b90-c47cfe4251af.png"">",jrajav,WIP,jrajav,"@jrajav looks like the CI build failed,clhenrick
@jrajav take a look at this failing test

```
  1316 passing (30s)
  22 pending
  1 failing

  1) FilterDateInputParent Component 

CustomRange component filter range state on input submit events should set an error if startDate is before endDate:

     Error: timeout of 2000ms exceeded. Ensure the done() callback is being called in this test.
```,micahstubbs
@clhenrick I saw - I am deferring fixing this, it's not priority, but I'll take a look when I can. I thought this would be a simple change.

@micahstubbs I have seen that test error intermittently before. It could not possibly be caused by this change - this only changes the css / scss loader in the webpack build.,jrajav
retest this please,jrajav
@jrajav if so, then the next step is to reproduce the test timeout on master and create an issue to fix the intermittently failing test,micahstubbs
retest this please,jrajav
**Immerse**: http://immerse-3971.dev.frontend.builds.mapd.com

,mapd-bot
@micahstubbs Builds passed here now with no change. I created issue https://github.com/mapd/mapd-immerse/issues/3994 to investigate the test failure (which already exists in master now). I was trying to find the failing PR builds from this to link there but I can't see anything in the history - do you know of a way to directly access the full build history for a certain PR?

And with this, do you agree we can merge this?,jrajav
@jrajav yes, making the new issue and seeing the tests pass is good.  I'll fix the conflict with master and wait for the CI tests to be green again. then I'll give the ✅ review,micahstubbs
this PR has no conflicts with `master`, and so needs no special formatting treatment,micahstubbs
retest this please,jrajav
**Immerse**: http://immerse-3971.dev.frontend.builds.mapd.com

,mapd-bot"
Enable CSS source maps,3970,,2018-02-26T14:43:33Z,2018-02-26T14:43:33Z,"Enable CSS source maps in the css / scss webpack module loader in the dev environment, so we can track the origin of styles from the developer tools.",jrajav,tech,,
"When plotting a scatterplot/pointmap with dimension(s), don't filter that chart by the x and y axis on zoom",3969,,2018-02-25T05:58:47Z,2018-02-25T06:02:25Z,"Currently we apply the x/y filter on zoom on a pointmap/scatterplot, which makes sense when the data is not grouped (i.e. there are no dimensions), but doesn't really when you are grouping. Doing so leads points to move around because their x and y will change as we are applying the filters.  See the a) screengrab below of plotting avg(depdelay) and avg(arrdelay) when grouping by tailnum on flights_123M and b) screengrab plotting avg(lon) and avg(lat) by lang on tweets.

![moving_points](https://user-images.githubusercontent.com/953210/36638577-6e0e01a4-19ad-11e8-9cf0-023ac87fd4a5.gif)

![moving_points_map](https://user-images.githubusercontent.com/953210/36638593-ddb4581e-19ad-11e8-95d0-cb837667169e.gif)",tmostak,enhancement,,
Warning: Failed prop type: Required prop `dcFlag` was not specified in `LineChartComponent`,3966,,2018-02-23T23:55:07Z,2018-02-26T18:50:10Z,"### :speech_balloon: Description

webpack:///./node_modules/fbjs/lib/warning.js?:33 Warning: Failed prop type: Required prop `dcFlag` was not specified in `LineChartComponent`

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
- open immerse
- open browser js console
- paste `document.cookie=""future-features=true""` 
- make a new dashboard
- add a chart
- select a datasource
- click the line2 icon
- **Actual result:**
Warning in the console
- **Expected result:**
no warning, no scary red text in the console

### :camera_flash: Screenshots
![screen shot 2018-02-23 at 3 53 17 pm](https://user-images.githubusercontent.com/2119400/36622367-b1ff2c28-18b1-11e8-917e-ff2ca66cb157.png)

### :memo: Other Info
<Details>
<Summary>error log</Summary>
```
webpack:///./node_modules/fbjs/lib/warning.js?:33 Warning: Failed prop type: Required prop `dcFlag` was not specified in `LineChartComponent`.
    in LineChartComponent (created by ChartContainer)
    in ChartContainer (created by Connect(ChartContainer))
    in Connect(ChartContainer) (created by MapD(Connect(ChartContainer)))
    in MapD(Connect(ChartContainer)) (created by ChartContainerPanel)
    in ChartContainerPanel (created by Dashboard)
    in div (created by Dashboard)
    in div (created by Dashboard)
    in Resizable (created by GridItem)
    in DraggableCore (created by GridItem)
    in GridItem (created by ReactGridLayout)
    in div (created by ReactGridLayout)
    in ReactGridLayout (created by _class)
    in _class (created by Dashboard)
    in div (created by Dashboard)
    in Dashboard (created by Connect(Dashboard))
    in Connect(Dashboard) (created by RouterContext)
    in div (created by App)
    in App (created by RouterContext)
    in RouterContext (created by Router)
    in Router (created by Root)
    in div (created by Root)
    in MapDServicesProvider (created by Root)
    in Provider (created by Root)
    in div (created by Root)
    in Root (created by DragDropContext(Root))
    in DragDropContext(Root) (created by Connect(DragDropContext(Root)))
    in Connect(DragDropContext(Root))
    in AppContainer 
```
</Details>",micahstubbs,"fixed,tech",,
filter csv export data when chart filters are applied,3961,,2018-02-23T05:45:34Z,2018-03-16T19:40:47Z,"### :speech_balloon: Description

filter csv export data when chart filters are applied

a logical extension of #3510, which was silent on this feature  

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
-
- **Actual result:**
all data behind a chart is downloaded
- **Expected result:**
only data that is drawn when the filter is applied to a chart should be downloaded

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots

### :memo: Other Info

thanks to @menaczar for suggesting this 

The other thing I noticed is that downloading a chart with or without a filter gives the same .csv
Example:
-Download a heat chart.
-Apply filter by selecting some items in the heat chart.
-Download again.

https://github.com/mapd/mapd-immerse/pull/3876#issuecomment-367862851",micahstubbs,enhancement,,
Scatter chart points to small to be seen.,3960,,2018-02-23T03:27:05Z,2018-02-23T06:04:40Z,"### :speech_balloon: Description

### :computer: Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### :page_with_curl: Steps To Reproduce
-Create a scatter chart.
-Flights.
-D: carrier_name
-M: Long/Lat

- **Actual result:**
You cant see anything. looks like blank chart.

- **Expected result:**
Turn off points auto size and increase the size then you'll start seeing points.
We should have a minimum visible size.

### :dash: Smoke Test
- [ ] is feature working / bug resolved in chrome
- [ ] is feature working / bug resolved in safari
- [ ] is feature working / bug resolved in firefox
- [ ] is feature working / bug resolved in ie 11
- [ ] is feature working / bug resolved in ie edge

### :camera_flash: Screenshots
![Screen Shot 2018-02-22 at 7.25.51 PM.png](https://images.zenhubusercontent.com/59a47c158f62dc7798c4571a/c0a41b20-7640-442d-a471-52bfbf21482f)
### :memo: Other Info",menaczar,"P2,enhancement",,"@nytai how are we doing autosizing when grouping by dimension? Are we using the total number of rows instead of say approx_count_distinct(dimension)?

@menaczar this is important but not sure it warrants the P1 label. (Not saying we don't want to get it fixed),tmostak
@tmostak Oh. My bad. I'll remove the tag.,menaczar"
UI overlapping bug when searching and selecting a non-existing data set for filter,3957,,2018-02-22T21:40:20Z,2018-02-22T21:40:20Z,"### Description

### Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### Steps To Reproduce
- Go to minos
- Create a new dashboard
- Tap `Add filter`, start typing a string that doesn't qualify for dataset name. i.e. `tdxycuvbhhvgcfxd`
- Press Enter/Return

**Actual result:**
- UI elements overlap

**Expected result:**
UI shall not overlap

### Screenshots
![bug_emptystate](https://user-images.githubusercontent.com/10747240/36459135-55c57620-1667-11e8-9198-701b14501f8e.gif)

### Other Info",Davidiskander,"P4,bug",,
dashboard share link broken if created after user switches mapd backend server,3953,,2018-02-22T00:45:08Z,2018-02-22T04:22:41Z,"### Description
dashboard share link broken when user logs out, specifies new backend server, logs in again

### Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### Steps To Reproduce
- visit http://immerse-master.prod.frontend.builds.mapd.com/#/?_k=ec4dtj from the office network or mapd vpn
- click the user profile icon and click `LOG OUT`
- click advanced settings
- change the `HOST NAME` to `kali.mapd.com`
![screen shot 2018-02-21 at 8 19 00 pm](https://user-images.githubusercontent.com/2119400/36520201-80edb37a-1744-11e8-8b67-3d6513a15348.png)
- click `CONNECT`
- search for a dashboard that starts with `csv`
- click the `csv-export-sandbox` dashboard to open it
- click the share icon
![screen shot 2018-02-21 at 8 20 12 pm](https://user-images.githubusercontent.com/2119400/36520221-a82dfbf2-1744-11e8-9444-ca1ee28cd3a5.png)
- copy the share link generated to the clip board
![screen shot 2018-02-21 at 8 20 30 pm](https://user-images.githubusercontent.com/2119400/36520236-b8eb345a-1744-11e8-868b-9265750e29f4.png)
- open a new browser tab
- paste the dashboard link into the new tab and go (visit the link) 
 
- **Actual result:**
we see a `failed to load dashboard` error
![screen shot 2018-02-21 at 8 21 40 pm](https://user-images.githubusercontent.com/2119400/36520255-df6a3252-1744-11e8-97f3-f79124e730cb.png)

- **Expected result:**
the desired dashboard loads successfuly
![screen shot 2018-02-21 at 8 21 46 pm](https://user-images.githubusercontent.com/2119400/36520260-e4fd902e-1744-11e8-800d-fd32a730feec.png)
### Screenshots

### Other Info
related to 
https://github.com/mapd/mapd-immerse/issues/3776 **Dashboard sharing to users and roles (groups)**
https://github.com/mapd/mapd-immerse/issues/3239 **Enhancement suggestion: Share button label should reflect that it shares the instance on the screen**",micahstubbs,bug,,
Stacked bar chart,3950,,2018-02-21T23:44:44Z,2018-05-03T20:13:43Z,"### Description
As a user, I want to be able to visualize my data nested by a 2nd dimension, for example the sum of my sales (measure) for each region (dimension 2) across each year (dimension 1), so I can make decisions that need a break down of a dimension by another one (like sum(sales) for each year by region).

### Requirements
Copy-pasted from [here](https://docs.google.com/document/d/1hSbMc3mZwP3Dsu1V2T0uX_00jHJgnTVoZc8gNCdKhPQ/edit)
* Allow ability to stack when adding a second dimension
* Stacked bar chart can have a single color or color by dimension ~or color by measure~
* ~When color by measure, disable color by dimension and when color by dimension, disable color by measure~
* When date extracts are used as groups, default sorting will be chronological within groups and overall
* Default colors when color by dimension ~or color by measure~

### Design specs
Discussion is ongoing here #3919

### Possible task breakdown
**Design decisions**
* Design decisions, particularly the one needed to decide if it will be a separate chart type, replacing histogram or replacing row chart

**Data**
* Figure out the query for stacked bar chart with categorical data
* Hardcode this query in mapd-data-layer

**Chart adapter**
* Add the scaffolding for the new stacked bar chart, probably duplicating what’s in line2 and hardcoding the chart type to `stackedBar`
* Write the data transform using data from the query
* Pipe the right props to update the chart

**Integration and widgets**
* Trigger the hardcoded query when selecting dimension/measure
* Pipe the right info to the query builder to modify the query
* Work on selectors
* Work on color

**MapD3**
* Tooltip
* Selection
* Support negative bars",biovisualize,"Epic,documentation,stacked-bar-chart",clhenrick,"We can start with a limited scope for this epic's first phase - on this new bar chart incarnation we limit to single measure, multiple dimensions.,mythilimapd"
consolidate testing steps prompts on issue template,3948,,2018-02-21T23:16:59Z,2018-03-16T19:40:46Z,"### Description

consolidate testing steps prompts on issue template so that all the information needed to test a feature or bugfix is in one place.",micahstubbs,tech,,
Prepare all dashboard state for storing in Redux,3945,,2018-02-21T19:39:54Z,2018-02-21T19:39:57Z,"## Ongoing goal
As we refactor charts and other dashboard components, either put all of their non-transient state into Redux and mutate with actions, or if not yet feasible due to external interactions and dependencies, prepare them for the eventual move by making the interface reactive (accept all input data wholesale and optimize delta changes, and encapsulate mutations as events).

### Notes
- Make sure to use mapd-data-layer from https://github.com/mapd/metis wherever possible to translate queries to SQL.

### Active related issues
https://github.com/mapd/mapd-immerse/issues/3755",jrajav,"Epic,tech",,
Introduce snapshot tests,3944,,2018-02-21T18:27:05Z,2018-02-21T18:27:05Z,"### Description

Use a snapshot testing library to automatically validate the rendered output of every component, letting us know if anything changed that we did not intend.

Analogous to (but not a replacement for) screenshot tests, but for virtual DOM.

Two alternatives that could integrate with the existing test framework:

https://www.npmjs.com/package/mocha-snapshots
https://www.npmjs.com/package/chai-jest-snapshot",jrajav,"tech,tests",,
Shouldn't allow naming a new dashboard with an existing dashboard title,3941,,2018-02-21T01:50:01Z,2018-02-21T01:50:36Z,"### Description
New dashboard replaces an old dashboard if I give it the same title 

### Environment
- **Browser Name, Version**: chrome
- **mapd-immerse Version or Branch**: master/minos

### Steps To Reproduce
- Create a **dashboard A** and name the title ""Test Test David"", and **save** it
- Add few charts to **dashboard A**, and **save** it
- Create a **dashboard B** and name the title ""Test Test David"", and **save** it
- Go to dashboards list and search for the dashboard with title ""Test Test David""

**Actual result:**
**dashboard A** is totally wiped and replaced by **dashboard B**

**Expected result:**
Dashboards should not be wiped. I could think of 2 solutions:
1. Show a popup to user and ask them to choose another name
2. Save the new dashboard with additional text (i.e. Test Test David_1) 

### Screenshots

### Other Info",Davidiskander,"P3,bug",,
[US Political donations] line/ pie charts don't default to the color scheme,3939,,2018-02-21T00:35:57Z,2018-02-21T00:35:57Z,"### Description

### Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: Demo

### Steps To Reproduce
- Go to http://titan-azure.mapd.com/#/link/mapd/ae57df03
- Press Unknown on the Pie chart >> (color will go from green to blue)
- Press any bar on the bar chart >> (color will go from green to blue)

**Actual result:**
find the attachment

**Expected result:**

### Screenshots
![bug_colors](https://user-images.githubusercontent.com/10747240/36456885-138d155c-165c-11e8-8493-60b3985ccc83.gif)

### Other Info",Davidiskander,"P3,bug,regression",,
Null bar counts on bar chart are one minus the value of selected group# when Null dimension is toggled off,3938,,2018-02-20T23:44:36Z,2018-02-21T01:32:55Z,"### Description

### Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### Steps To Reproduce
- Go to minos
- Create a new dashboard
- Create a new chart (Data: school_deprecated, D:column_11, M(width): #records 
- Toggle Null off
- Change number of groups

**Actual result:**
- If number of groups selected is 5, only 4 bars show
- If number of groups selected is 6, only 5 bars show
- If number of groups selected is 7, only 6 bars show

**Expected result:**
Number of groups should match the count of bars

### Screenshots
![screen shot 2018-02-20 at 3 35 49 pm](https://user-images.githubusercontent.com/10747240/36455283-4f348bc4-1654-11e8-87d4-feaf859e132a.png)
![screen shot 2018-02-20 at 3 36 03 pm](https://user-images.githubusercontent.com/10747240/36455284-4f477860-1654-11e8-932d-ebd2933d931f.png)
![screen shot 2018-02-20 at 3 36 21 pm](https://user-images.githubusercontent.com/10747240/36455285-4f5e2416-1654-11e8-9421-457296c7d2ce.png)

### Other Info",Davidiskander,bug,,"Are we sure this is a regression? Guessing this has to deal with the fact that we remove nulls post-hoc, so 6 becomes 5 groups for example. ,tmostak
You are right @tmostak, it's not a regression,Davidiskander"
Indicate source of error messages,3936,,2018-02-20T21:47:17Z,2018-05-30T18:17:18Z,"> As a 

developer triaging issues

> I want to

know the source of error messages

> With the benefit that

related issues are more quickly found and the appropriate team is notified, while minimizing noise to unrelated teams.

----

It would be nice to have some kind of indication showing where a displayed error message originated from, ie did it come over the wire from MapD Core? Is it from Immerse? Is it from a library?",andrewseidl,"enhancement,tech",,"https://github.com/mapd/mapd-connector/issues/80 will probably solve the 'Is it Core or Immerse' part of this issue, if we have a consistent error format from the backend and propagate them to an error snackbar / dialog on the UI.,jrajav"
Render custom shapes and symbols in Immerse,3933,,2018-02-20T17:04:05Z,2018-02-20T17:33:11Z,"### Description

Customer Request, link to zendesk ticket. Will fill in details when we prioritize the user story.

https://mapd.zendesk.com/agent/tickets/263


### Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### Steps To Reproduce
-
- **Actual result:**
- **Expected result:**

### Screenshots

### Other Info",mythilimapd,"customer,feature",,"Can you please add a user story or some specs? This can mean many things. I'm guessing it's about adding custom markers on a map?,biovisualize
I will add details once the story is prioritized. This is more for tracking purposes for customer that raised a support ticket,mythilimapd"
opening dashboard: TypeError: this._.getUTCMonth is not a function,3932,,2018-02-17T00:23:24Z,2018-02-22T02:27:27Z,"### Description

A dashboard is in some state that causes Immerse to throw errors.

I don't know what lead to this.  Take a look at the dashboard if it helps you find a bug.  I don't need the dashboard fixed or anything.

### Environment
- **Browser Name, Version**: chrome
- **mapd-immerse Version or Branch**: 3.4.1

On mit, this is dashboard named ""support282"": http://mit:9092/#/dashboard?_k=opfahp

### Steps To Reproduce
- I don't know, but I created this dashboard with a choropleth and a couple bar charts and a global filter.
- Save dashboard
- open dashboard
- **Actual result:**

Dialog:
```
CHART RENDER ERROR
TypeError: this._.getUTCMonth is not a function
```

Console:
```
raygun.js:1667 uncaught at l TypeError: Cannot read property 'type' of null
    at i (http://mit:9092/5ac78690c6c3cb86d117.bundle.js:198:15010)
    at http://mit:9092/5ac78690c6c3cb86d117.bundle.js:198:15605
    at http://mit:9092/5ac78690c6c3cb86d117.bundle.js:198:16238
    at http://mit:9092/5ac78690c6c3cb86d117.bundle.js:198:14595
    at http://mit:9092/5ac78690c6c3cb86d117.bundle.js:79:24813
    at http://mit:9092/5ac78690c6c3cb86d117.bundle.js:246:23328
    at http://mit:9092/5ac78690c6c3cb86d117.bundle.js:246:19216
    at http://mit:9092/5ac78690c6c3cb86d117.bundle.js:233:22813
    at dispatch (http://mit:9092/5ac78690c6c3cb86d117.bundle.js:246:23684)
    at http://mit:9092/5ac78690c6c3cb86d117.bundle.js:27:14548
```

Click OK.

Then clear all filters.

Dialog:
```
AN ERROR OCCURED
redrawAllAsync() is called before renderAllAsync(), please call renderAllAsync() first.
```

Nothing more on the console.",mikehinchey,,,"Could this be related to https://github.com/mapd/mapd-immerse/issues/3850 ?,jrajav
@jrajav , I don't understand the relationship to 3850.  I didn't use a NOT anywhere (this is a small dashboard, but that's not actually the problem in 3850).

The most complex filter is:
```json
""filters"": [
        [
          ""1944-10-01T00:00:00.000Z"",
          ""1950-07-01T00:00:00.000Z""
        ]
      ]
```

Full dashboard json:
```json
{""charts"":{""1"":{""autoSize"":true,""areFiltersInverse"":false,""cap"":12,""renderArea"":false,""color"":{""type"":""quantitative"",""key"":""mapDScale"",""val"":[""#115f9a"",""#1984c5"",""#22a7f0"",""#48b5c4"",""#76c68f"",""#a6d75b"",""#c9e52f"",""#d0ee11"",""#d0f400""]},""colorDomain"":null,""dcFlag"":2,""densityAccumulatorEnabled"":true,""dimensions"":[{""isError"":false,""isRequired"":false,""table"":""VOTERS_USA"",""type"":""STR"",""is_array"":false,""is_dict"":true,""name_is_ambiguous"":false,""label"":""State"",""value"":""State"",""custom"":false,""axisLabel"":null,""max_val"":null,""min_val"":null,""maxBinSize"":null,""currentHighValue"":null,""currentLowValue"":null,""autobin"":false,""numOfBins"":null,""isBinned"":false,""isBinnable"":false,""inactive"":false,""name"":""geo""}],""elasticX"":true,""elasticY"":true,""filters"":[""VA""],""geoJson"":""us-states.json"",""loading"":false,""measures"":[{""isError"":false,""isRequired"":false,""label"":""# Records"",""value"":""*"",""type"":""SMALLINT"",""custom"":false,""axisLabel"":null,""minMax"":null,""categories"":null,""colorType"":""quantitative"",""aggType"":""Count"",""originIndex"":0,""name"":""val"",""inactive"":false}],""rangeChartEnabled"":false,""rangeFilter"":[],""savedColors"":{},""sortColumn"":null,""ticks"":3,""title"":"""",""type"":""choropleth"",""showOther"":false,""showNullDimensions"":true,""hasError"":false,""dataSource"":""VOTERS_USA"",""hoverSelectedColumns"":[]},""2"":{""autoSize"":true,""areFiltersInverse"":false,""cap"":100,""renderArea"":false,""color"":{""type"":""ordinal"",""key"":""mapD"",""val"":[""#22A7F0"",""#3ad6cd"",""#d4e666""]},""colorDomain"":null,""dcFlag"":5,""densityAccumulatorEnabled"":true,""dimensions"":[{""inactive"":false,""name"":null,""isError"":false,""isRequired"":false,""table"":""VOTERS_USA"",""type"":""STR"",""is_array"":false,""is_dict"":true,""name_is_ambiguous"":false,""label"":""State"",""value"":""State"",""custom"":false,""axisLabel"":null,""max_val"":null,""min_val"":null,""maxBinSize"":null,""currentHighValue"":null,""currentLowValue"":null,""autobin"":false,""numOfBins"":null,""isBinned"":false,""isBinnable"":false},{""isError"":false,""isRequired"":false}],""elasticX"":true,""elasticY"":true,""filters"":[""VA""],""geoJson"":null,""loading"":false,""measures"":[{""isError"":false,""isRequired"":false,""inactive"":false,""name"":""val"",""label"":""# Records"",""value"":""*"",""type"":""SMALLINT"",""custom"":false,""axisLabel"":null,""minMax"":null,""categories"":null,""colorType"":""quantitative"",""aggType"":""Count"",""originIndex"":0},{""inactive"":false,""name"":""color"",""isError"":false,""isRequired"":false,""table"":""VOTERS_USA"",""type"":""STR"",""is_array"":false,""is_dict"":true,""name_is_ambiguous"":false,""label"":""Religion"",""value"":""Religion"",""custom"":false,""axisLabel"":null,""minMax"":null,""categories"":null,""colorType"":""quantitative"",""aggType"":""# Unique"",""originIndex"":1}],""rangeChartEnabled"":false,""rangeFilter"":[],""savedColors"":{},""sortColumn"":{""col"":{""name"":""val""},""index"":0,""order"":""desc""},""ticks"":3,""title"":"""",""type"":""row"",""showOther"":false,""showNullDimensions"":true,""dataSource"":""VOTERS_USA"",""hasError"":false},""3"":{""autoSize"":true,""areFiltersInverse"":false,""cap"":12,""renderArea"":false,""color"":{""type"":""custom"",""key"":""blue"",""val"":[""#27aeef""],""column"":""State"",""customKey"":""key1"",""isCustom"":true,""customDomain"":[""CA"",""TX"",""FL"",""NY"",""PA""],""customRange"":[""#ea5545"",""#bdcf32"",""#b33dc6"",""#ef9b20"",""#87bc45""],""defaultOtherDomain"":""other"",""defaultOtherRange"":""#27aeef""},""colorDomain"":null,""dcFlag"":11,""densityAccumulatorEnabled"":true,""dimensions"":[{""isError"":false,""isRequired"":false,""inactive"":false,""name"":""X Axis"",""table"":""VOTERS_USA"",""type"":""DATE"",""is_array"":false,""is_dict"":false,""name_is_ambiguous"":false,""label"":""BirthDate"",""value"":""BirthDate"",""custom"":false,""axisLabel"":null,""loading"":false,""timeBin"":""auto"",""min_val"":""1917-01-01T00:00:00.000Z"",""max_val"":""1999-11-01T00:00:00.000Z"",""currentLowValue"":""1916-01-01T00:00:00.000Z"",""currentHighValue"":""1998-11-01T00:00:00.000Z"",""cardinality"":31573,""isBinned"":true,""isBinnable"":true,""autobin"":true,""maxBinSize"":250,""numOfBins"":400,""selector"":{""table"":""VOTERS_USA"",""type"":""DATE"",""is_array"":false,""is_dict"":false,""name_is_ambiguous"":false,""label"":""BirthDate"",""value"":""BirthDate"",""custom"":false,""axisLabel"":null}},{""name"":""Color"",""isError"":false,""isRequired"":false,""table"":""VOTERS_USA"",""type"":""STR"",""is_array"":false,""is_dict"":true,""name_is_ambiguous"":false,""label"":""State"",""value"":""State"",""custom"":false,""axisLabel"":null,""loading"":false,""max_val"":null,""min_val"":null,""maxBinSize"":null,""currentHighValue"":null,""currentLowValue"":null,""autobin"":false,""numOfBins"":null,""isBinned"":false,""isBinnable"":false,""inactive"":false}],""elasticX"":true,""elasticY"":true,""filters"":[[""1944-10-01T00:00:00.000Z"",""1950-07-01T00:00:00.000Z""]],""geoJson"":null,""loading"":false,""measures"":[{""isError"":false,""isRequired"":false,""inactive"":false,""name"":""series_1"",""label"":""# Records"",""value"":""*"",""type"":""SMALLINT"",""custom"":false,""axisLabel"":null,""loading"":false,""aggType"":""Count"",""originIndex"":0,""selector"":{""label"":""# Records"",""value"":""*"",""type"":""SMALLINT"",""custom"":false,""axisLabel"":null}}],""rangeChartEnabled"":false,""rangeFilter"":[],""savedColors"":{""custom_Religion"":{""type"":""custom"",""key"":""blue"",""val"":[""#27aeef""],""column"":""Religion"",""customKey"":""key1"",""isCustom"":true,""customDomain"":[""?"",""Protestant"",""Catholic"",""Jewish"",""Buddhist""],""customRange"":[""#ea5545"",""#bdcf32"",""#b33dc6"",""#ef9b20"",""#87bc45""],""defaultOtherDomain"":""other"",""defaultOtherRange"":""#27aeef""},""custom_State"":{""type"":""custom"",""key"":""blue"",""val"":[""#27aeef""],""column"":""State"",""customKey"":""key1"",""isCustom"":true,""customDomain"":[""CA"",""TX"",""FL"",""NY"",""PA""],""customRange"":[""#ea5545"",""#bdcf32"",""#b33dc6"",""#ef9b20"",""#87bc45""],""defaultOtherDomain"":""other"",""defaultOtherRange"":""#27aeef""}},""sortColumn"":null,""ticks"":3,""title"":"""",""type"":""line"",""showOther"":false,""showNullDimensions"":true,""dataSource"":""VOTERS_USA"",""hasError"":false,""colorByDimension"":""State"",""width"":665,""height"":535},""VOTERS_USA"":{""dcFlag"":12,""loading"":false,""color"":{""defaultOtherDomain"":""Default""},""areFiltersInverse"":false,""filters"":[]}},""ui"":{""showFilterPanel"":true,""showClearFiltersDropdown"":false,""banner"":{""open"":false,""type"":null},""modal"":{""type"":null,""open"":false,""content"":"""",""header"":"""",""primaryAction"":{""text"":""OK""},""secondaryAction"":{""text"":""CANCEL""}},""selectorPillHover"":{""shouldShowPrompt"":false,""message"":""Required  measure"",""top"":328},""selectorPositions"":{""dimensions"":[199,239,199,239,199,239,199,199,239,199,199,199,199,199,239,199,239,199],""measures"":[328,328,328,288,328,368,288,328,288,288,288,328,368,328,288]}},""filters"":[],""dashboard"":{""title"":""support282"",""chartContainers"":[{""id"":""1""},{""id"":""2""},{""id"":""3""}],""table"":null,""filtersId"":[],""layout"":[{""w"":10,""h"":10,""x"":0,""y"":0,""i"":""1"",""moved"":false,""static"":false},{""w"":10,""h"":10,""x"":10,""y"":0,""i"":""2"",""moved"":false,""static"":false},{""w"":10,""h"":10,""x"":20,""y"":0,""i"":""3"",""moved"":false,""static"":false}],""currentDataSource"":""VOTERS_USA"",""dataSources"":{""VOTERS_USA"":{""alias"":""A"",""columnMetadata"":[{""table"":""VOTERS_USA"",""type"":""STR"",""is_array"":false,""is_dict"":true,""name_is_ambiguous"":false,""label"":""VOTERID"",""value"":""VOTERID""},{""table"":""VOTERS_USA"",""type"":""STR"",""is_array"":false,""is_dict"":true,""name_is_ambiguous"":false,""label"":""State"",""value"":""State""},{""table"":""VOTERS_USA"",""type"":""STR"",""is_array"":false,""is_dict"":true,""name_is_ambiguous"":false,""label"":""FamilyID"",""value"":""FamilyID""},{""table"":""VOTERS_USA"",""type"":""FLOAT"",""is_array"":false,""is_dict"":false,""name_is_ambiguous"":false,""label"":""Latitude"",""value"":""Latitude""},{""table"":""VOTERS_USA"",""type"":""FLOAT"",""is_array"":false,""is_dict"":false,""name_is_ambiguous"":false,""label"":""Longitude"",""value"":""Longitude""},{""table"":""VOTERS_USA"",""type"":""STR"",""is_array"":false,""is_dict"":true,""name_is_ambiguous"":false,""label"":""Gender"",""value"":""Gender""},{""table"":""VOTERS_USA"",""type"":""STR"",""is_array"":false,""is_dict"":true,""name_is_ambiguous"":false,""label"":""Parties"",""value"":""Parties""},{""table"":""VOTERS_USA"",""type"":""DATE"",""is_array"":false,""is_dict"":false,""name_is_ambiguous"":false,""label"":""BirthDate"",""value"":""BirthDate""},{""table"":""VOTERS_USA"",""type"":""STR"",""is_array"":false,""is_dict"":true,""name_is_ambiguous"":false,""label"":""Religion"",""value"":""Religion""},{""table"":""VOTERS_USA"",""type"":""STR"",""is_array"":false,""is_dict"":true,""name_is_ambiguous"":false,""label"":""Zipcode"",""value"":""Zipcode""},{""table"":""VOTERS_USA"",""type"":""STR"",""is_array"":false,""is_dict"":true,""name_is_ambiguous"":false,""label"":""County"",""value"":""County""},{""table"":""VOTERS_USA"",""type"":""STR"",""is_array"":false,""is_dict"":true,""name_is_ambiguous"":false,""label"":""Congressional_District_2011"",""value"":""Congressional_District_2011""}]}},""saveLinkState"":{""error"":false,""request"":false,""saveLinkId"":null},""loadState"":{""request"":false,""error"":false},""saveState"":{""request"":false,""error"":false,""isSaved"":false},""streaming"":{""interval"":0,""request"":false},""version"":""3.4.1dev-20180116-7d8f760"",""initialization"":{""done"":false,""pending"":false,""error"":false,""counter"":0}},""machineLearning"":{""training"":false,""queued"":false,""error"":null,""predictionCol"":null,""featureCols"":[],""conditions"":[],""algorithm"":""Linear Regression"",""nModels"":3,""nAlphas"":4,""nLambdas"":100,""nFolds"":4,""tensorFlowInput1"":0,""tensorFlowInput2"":0,""deepLearningInput1"":""foo"",""tableWithPredictions"":null,""trainingTable"":null,""predictedColumn"":null,""accuracyColumn"":null,""modelName"":"""",""predicting"":false,""models"":[],""complete"":false,""trainResults"":null,""accuracy"":null,""jobId"":null,""progress"":{""steps"":null,""current"":null}}}
```
,mikehinchey
The issue in #3850 was actually date parsing, not anything to do with the query, which is why I asked. After investigating a bit further, seems unlikely to be directly related, though might still be a similar faulty assumption in the code. Pinging @nytai who fixed that one.,jrajav"
"Chart, extract days of week, invalid sql",3930,,2018-02-16T21:55:04Z,2018-02-16T22:02:02Z,"### Description

Setting dropdown options for a table or line chart produces invalid sql and UI can not recover because error dialog repeats.

### Environment
- **Browser Name, Version**: chrome
- **mapd-immerse Version or Branch**: 3.4.1

### Steps To Reproduce
- http://mit:9092/
- Add Chart
- Table Chart
- Sources: VOTERS_USA
- Add dimension: Birthdate, Extract, Days of Week
- For a Line Chart, also select the Measure to count # records
- **Actual result:**

```
CHART REDRAW ERROR
Error: Exception: Parse failed: Encountered "", )"" at line 1, column 27.
Was expecting one of:
"")"" ...
```

Also on the dev console:

    raygun.js:1667 4 "": error""

Immerse produced this request:

    [1,""sql_execute"",1,0,{""1"":{""str"":""Qzkv36ZWTm7fxTK6d9frC8fJmmqxosxn""},""2"":{""str"":""SELECT extract(isodow from ) as key0,COUNT(*) AS val FROM VOTERS_USA GROUP BY key0 ORDER BY key0""},""3"":{""tf"":1},""4"":{""str"":""12""},""5"":{""i32"":-1},""6"":{""i32"":-1}}]

Response from server:

    [1,""sql_execute"",2,0,{""1"":{""rec"":{""1"":{""str"":""Exception: Parse failed: Encountered \"", )\"" at line 1, column 27.\nWas expecting one of:\n    \"")\"" ...

Immerse repeats the error dialog forever (which is another problem).

- **Expected result:**

  - error dialog that doesn't repeat
  - valid sql",mikehinchey,"bug,sql",,
[Combo Chart] Brushing range breaks focus with bar and line marks enabled using SuperStoreSales,3928,,2018-02-16T20:32:10Z,2018-02-22T20:27:47Z,"### Description
When enabling the range chart and brushing on the range chart the combo chart breaks.

### Environment
- **Browser Name, Version**: Chrome latest
- **mapd-immerse Version or Branch**: `combo-chart`

### Steps To Reproduce
- create a combo chart with 2 measures
- set one to be a line and one to be a bar
- enable range chart
- brush on range chart

**Actual result:**
- focus chart breaks

**Expected result:**
- focus chart shows brushed area

### Screenshots
![image](https://user-images.githubusercontent.com/161748/36327999-4de209e6-1315-11e8-9485-1dc6e3031433.png)

<img width=""1167"" alt=""screen shot 2018-02-16 at 11 20 42 am"" src=""https://user-images.githubusercontent.com/161748/36328004-5468ae32-1315-11e8-8153-885199f308e4.png"">


### Other Info",clhenrick,"bug,combo-chart",,"The problem seems to only happen on this specific dataset, which is known to have issues with dates. Crossfilter seems to be choking on the weird dates. I can fix it, but at least it's not a general problem.,biovisualize"
include the query and the filters applied on the chart at time of export as text in the last row of the exported csv file,3927,,2018-02-16T20:22:53Z,2018-02-16T20:22:53Z,"### Description

related to https://github.com/mapd/mapd-immerse/issues/3510

### Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### Steps To Reproduce
-
- **Actual result:**
- **Expected result:**

### Screenshots

### Other Info",micahstubbs,"csv-export,enhancement",,
login session should survive page refresh,3926,,2018-02-16T19:45:01Z,2018-02-16T20:23:08Z,"### Description

My login session should survive a page refresh. This is expected behavior of web app that needs login.

### Environment
- **Browser Name, Version**: chrome
- **mapd-immerse Version or Branch**: 3.4.1

### Steps To Reproduce
- go to http://mit:9092/
- login, see the dashboard list
- refresh page, or go to http://mit:9092/ again
- **Actual result:**
  - prompted for login
- **Expected result:**
  - should show dashboard list",mikehinchey,enhancement,,"Maybe one solution could be a ""Remember me"" checkbox, as suggested here https://github.com/mapd/mapd-immerse/issues/3881,biovisualize"
export data from backend asynchronously as a compressed archive via push notification ,3923,,2018-02-16T18:11:06Z,2018-02-16T18:11:06Z,"### Description
a logical extension of our small data csv export https://github.com/mapd/mapd-immerse/issues/3510 to big data in the MapD backend.  imagining a feature like that of Google Drive or Google Takeout where:
1) the user requests a large file
2) the server prepares the large file
3) when the large file is ready, the user recieves an email and a push notification that their download is ready
4) user clicks the link and downloads large file as an archive of some kind - `.zip` or `.tar.gz` or some similar format

may or may not be a good idea, depending on product strategy and support model.
 
### Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### Steps To Reproduce
-
- **Actual result:**
- **Expected result:**

### Screenshots

### Other Info",micahstubbs,"csv-export,design,enhancement",,
"export data for each chart in dashboard as excel workbook, one chart's data per tab",3922,,2018-02-16T17:43:57Z,2018-02-16T18:11:27Z,"### Description
a logical extension of our recent csv export work.  enterprise people will ❤️  it


related https://github.com/mapd/mapd-immerse/issues/3510

### Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### Steps To Reproduce
-
- **Actual result:**
- **Expected result:**

### Screenshots
![screen shot 2018-02-16 at 9 42 29 am](https://user-images.githubusercontent.com/2119400/36321228-f964bf6a-12fd-11e8-806d-b6d9bff00a2f.png)


### Other Info",micahstubbs,"csv-export,enhancement",,
csv export from multi-datasource charts,3921,,2018-02-16T17:31:08Z,2018-02-16T17:34:50Z,"### Description
a follow on issue from a conversation with @billmaimone about https://github.com/mapd/mapd-immerse/issues/3510#issuecomment-366133694

preliminary design:  

export as a csv file normalized table contained join data from the multiple datasources used to draw the chart whose export icon the user clicked on.

### Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### Steps To Reproduce
-
- **Actual result:**
- **Expected result:**

### Screenshots

### Other Info",micahstubbs,"csv-export,enhancement",,
Design spike on data layer for categorical data,3919,,2018-02-16T17:10:43Z,2018-03-21T15:47:04Z,"### Description
Stacked bar chart needs to work with categorical data, a bit like the row chart. We need to investigate how hard it is to enable this on [mapd-data-layer](https://github.com/mapd/metis/tree/master/packages/data-layer) and what could be the side-effects",biovisualize,stacked-bar-chart,,"@biovisualize so sounds like we need to do an overview of **mapd-data-layer** for our next code session?,clhenrick
Adding some questions that we need to answer before developing this feature based on the [NVIDIA GFE Requirement Doc](https://docs.google.com/document/d/1hSbMc3mZwP3Dsu1V2T0uX_00jHJgnTVoZc8gNCdKhPQ/edit?usp=sharing)

## Questions

- What is the difference between what NVIDIA wants in a stacked bar chart and what the histogram chart currently does?

  - no brushing on stacked bars (?)

  - click on individual rectangles within stacked bars to filter (?)

  - bar chart should use categorical / ordinal x axis, as the difference between a bar chart and histogram is that histogram uses binning (?)

- Do we allow for adding more than 2 dimensions? If so, why?

- Does the ""sort by"" UI exist anywhere else in Immerse? Let's be explicit about what this feature does (assume it's sorting the bars either by y value or x value, asc or desc)

- Should we replace the existing row chart and add a stacked option, or create a new chart?

- is the following requirement necessary? why not always use different colors? _""Stacked bar chart can have a single color or color by dimension or color by measure""_

- how would color by measure work? example given is y axis measure is Sum(sales), and color measure is Avg(profit). Does this work or even make sense? How do we enforce limitations on this feature so that it doesn't break the chart? Or at the very least make sense?

- Will stacked bars require a data transformation from the backend, or can the same data format be used that LineChart2 uses for stacked areas?

## NVIDIA Requirements

- Ability to stack when adding a second dimension

- Stacked bar chart can have a single color or color by dimension or color by measure

- When color by measure, disable color by dimension and when color by dimension, disable color by measure

- When date extracts are  used as groups, default sorting will be chronological within groups and overall

- Default colors when color by dimension or color by measure


,clhenrick
@clhenrick answers to your questions.

1. Current histogram does not allow discrete / categorical dimensions in xaxis. NVDIDA requirement is very specific about having categorical dimension on x-axis and stack by a second categorical or date/time dimension. Also they want the vertical stacking first.

2.  Stacking will always be on one dimension (categorical or date /time) However if we allow more than 2 dimension then that becomes  stacked and grouped bar chart.

3. Yes _sort by_ already exists in Immerse and you can see this in row chart. We allow sorting ASC/DSC by dimension and by measure (i.e., all fields in the chart)

4. I would prefer a single bar chart that can do both horizontal and vertical bar (row chart and column chart) and add stacking and grouping to it.  

![grouped bars](https://user-images.githubusercontent.com/29928117/36456712-100f96b2-165b-11e8-897c-7e593a3039bf.png)

5. Some users don't like color and they may just want to see the stacking through a single color. This is more a nice to have and we can keep single color stacking as stretch goal.

![stacked bar no colors](https://user-images.githubusercontent.com/29928117/36456752-4c81b120-165b-11e8-8362-1b5e69689b48.png)

6. If you have more than one measure and stacking we have to come up with clever ways to handle colors. We can choose solid colors for dimension members and gradient colors for the measures or choose a solid color per measure and gradient colors by dimension. However to keep requirements to a minimum, for the Phase 1 we can limit the stacked bar to have single measure and 2 dimensions.  Basically this new incarnation of bar chart will support single measure, but allow stacking or grouping on second dimension and also allow switching between a row and column chart easily.

7.  I am not the right person to answer the question but I can give you how a sample query for stacked bar chart would look like, if that would help.


,mythilimapd
@mythilimapd thanks for the detailed response, few follow up questions and points of clarification:

For UX I'd like to 

- confirm that we are not brushing on bars (not extending the behavior for how the histogram and line chart work)

- determine how will the filtering UX work? Will a user clicking on an individual rectangle within a stacked bar create a filter? If so what kind of filter? Or do we only allow for users to click on the entire stacked bar?

- determine how tooltips will display the values for a stacked bar. For a single rectangle that is being hovered over? Or show values for all rectangles within a stacked bar when hovering over anywhere in that bar?

- confirm that it doesn't make sense to have the x axis domain extent editing inputs when the data is categorical or ordinal. 

What happens if someone sorts the bars by y value and then changes the x domain extent when the x domain values are numeric? Do we then resort the bars by number or date desc / asc? Or should we disable the domain extent inputs all together for this new chart?

How would one use a date / time unit as a second category to stack the bars? Is there an example in Tableu or similar that shows this? It sounds like an odd feature to me which is why I ask.

If this is a replacement for the current ""Row Chart"", I think there are other issues we need to consider such as the Row Chart's ability to keep adding dimensions that get binned, which not only is an odd behavior but also can break the chart layout. Do we keep this behavior in the new (Stacked) Bar Chart?  We need to be absolutely clear on the design and UX before moving ahead with replacing the Row Chart.,clhenrick
@mythilimapd - the toggle (grouped vs. stacked) does not work for this scenario as the chart is both grouped and stacked.

> Stacking will always be on one dimension (categorical or date /time) However if we allow more than 2 dimension then that becomes stacked and grouped bar chart.,ashish5ahu
While waiting on flushing out the spec for this new chart I'm starting to look into the `mapd-data-layer` module that was mentioned in the first comment above by @biovisualize to see how it either already supports or can be altered to support categorical data.,clhenrick
For now we don't have to support the stacked and grouped together. It can be either stacked or grouped but not both. 
@clhenrick my response to your questions.

1. For the new bar chart, yes it will be click filtering and NO brushing and no range chart.
2. Regarding filtering - could we check what we currently do in stacked histogram today and keep the same behavior. We can improve on it later. 
3. Tooltip will display for the single rectangle. This is what all other analytics , visualization tools do.
4. Yes I confirm we should NOT allow editing x-axis when it is ordinal /categorical.,mythilimapd
@mythilimapd thanks, a couple left un-answered:

- How would one use a date / time unit as a second category to stack the bars? Is there an example in Tableu or similar that shows this? It sounds like an odd feature to me which is why I ask

- If this is a replacement for the current Row Chart, do we keep the Row Chart's odd behavior of allowing the user to apply infinite number of dimensions? Or do we cap the number of dimensions at 2? (one for x axis and one for stacking),clhenrick
In Tableau date/time can be treated as discrete or continuous. If you are plotting a line or histogram the x-axis is always continuous.  However if you use bar as mark type them time is automatically discrete. Here is an example of a stacked bar chart where the x-axis is Region and stacking is by Year.  Our existing histogram already allows the other way around where x-axis is a time bin and you stack by region.

This is what I mean.
![tableau stacking](https://user-images.githubusercontent.com/29928117/36511620-3c328eea-171c-11e8-86bc-9edfb21e46d0.png)



We already support this  image below through our existing histogram where x-axis is by time bin or time extract and stacking is by a categorical dimension.
![immerse histogram](https://user-images.githubusercontent.com/29928117/36511683-773c3914-171c-11e8-803b-413674da7cbf.png)


2. The current behavior of allowing more than 2 dimensions in row charts  can be a stretch goal and we always show them as grouped bar by default, instead of the funky way we currently show multiple dimensions in row charts.

,mythilimapd
@mythilimapd so if we use date/time as a categorical unit for stacking bars will we also allow for binning? Or only use discrete units of time such as years, days of the week, months of the year, etc.

I don't think we should keep the behavior to add infinite number of dimensions like the Row Chart currently does. 

It will be easier to implement this if it's not a Row Chart replacement but rather it's own chart.,clhenrick
We don't want to have too many chart types all doing similar things by keeping the old row chart and this new bar chart. This will confuse end users. We also want to ensure that this new bar chart allows for opening any dashboards that has the old row charts as we cannot break existing dashboards.  ,mythilimapd
I personally don't think ""We don't want to have too many chart types all doing similar things by keeping the old row chart and this new bar chart"" is a valid argument. The Row Chart is it's own unique type of chart that has different capabilities from a typical bar chart. This is a customer requirement for a new feature but re-writing the Row Chart is a separate task in of itself outside of this client request.,clhenrick
I have to disagree with you @clhenrick . It is a valid argument because to me as a business user me bar chart is a single chart type and the only difference is the orientation.  Every other charting tools does it the same way and I don't think we should let existing implementation prevent us from simplifying these concepts and introduce a new chart type just for the sake of it.,mythilimapd
Toggling the orientation of the bars is not a requirement of the stacked bar chart, it's a separate task / issue.,clhenrick
Part of good engineering is to take the time and simplify existing concepts as part of continuous improvement.  Like I mentioned we can do it in phased manner but I have to disagree that  these are two chart types. ,mythilimapd
I agree with both of you. Ideally we would not end-up with 4 bar charts (histogram, row chart, combo and stacked). But we also need to find a way to deliver it fast. We will estimate the level of effort and the pros and cons for both solutions. Then we can decide.,biovisualize
@clhenrick Let's work together at evaluating our options here #3919. The current task on mapd-data-layer doesn't depend on this decision, so we can proceed in parallel.,biovisualize
Let us have a discussion on this after standup tomorrow. I think there is a lot of confusion and I am not asking for the moon here.  But what I want is to ensure we think beyond the immediate deliverables for NVIDIA GFE and come up with a solution that we can easily expand on - to add the other features like  row versus column and eventually deprecating the existing row chart.  We can definitely limit the scope of the stacked bar chart for this delivery to basically supporting - i.e., stacking on vertical bars. ,mythilimapd
Based on meeting from yesterday, for Phase 1 of stacked bar we will deliver the following:
1. We will have a new chart type **vertical bar** which will be behind a feature flag.
2. We will only support stacking on this new vertical bar.
3. Single measure and 2 dimensions 
4. No brushing, no range chart.
5. Click filter on whole bar (clicking on segments in stretch goal)
6. Tooltip for individual segment
7. Allow sorting by dimension or measure
8. Support bins for x-axis ( bins on date can be the first level grouping or second level grouping) **-** **Stretch goal and can be moved to Phase 2 if we run out of time**.

Icon for the new vertical bar chart is here
https://drive.google.com/drive/folders/1w8jZkNL-YH2sb-bqOrL1ZHJpGzogTCq_?usp=sharing,mythilimapd
Example of a stacked bar with date as first level grouping
![date as first level grouping](https://user-images.githubusercontent.com/29928117/36606680-4f7ed586-1879-11e8-975a-8cac289ca0c1.png)




Example of date as second level grouping in stacked bar
![date as second level grouping](https://user-images.githubusercontent.com/29928117/36606682-5456df68-1879-11e8-8d09-d7c16b9edb3b.png)
,mythilimapd
@mythilimapd sounds good. 

The only issue that stands out to me is `#8`. Binning on the x axis is what the histogram already does, and it also stacks the bars. If we allow for binning on the x axis with the new Bar Chart we are essentially duplicating the histogram (with the exception of brushing and range chart). Vertical Bar Charts are always ordinal on the x axis, as far as I know. 

@biovisualize what is your opinion on this?,clhenrick
@clhenrick there is one slight difference in the sense, on histogram we don't allow sorting on the x-axis, which is what I mean by discrete vs continuous x-axis. In histogram the x-axis will always be fixed order going  from lower to higher value. I guess this is what you also mentioned ie treating time as discrete instead of continuous.

By treating time as discrete in this bar chart, we can sort by year or quarter or month so the month/year/quarter with highest measure value appears first.  Does that make sense?

![sort by date](https://user-images.githubusercontent.com/29928117/36608336-6063a26e-187e-11e8-80db-c7a4716226a9.png)


https://docs.google.com/presentation/d/1tEwNBwh82xedGo7T1PgCQon4xF5eezqeVE4TWePQs9Y/edit?usp=sharing

,mythilimapd
@clhenrick, @biovisualize let me know if it makes sense.  We can also chat in person either today or Monday after standup, guessing Monday as @biovisualize is out sick today,mythilimapd
Okay, I think I'm getting hung up on the technical definitions of [Bar Chart](https://en.wikipedia.org/wiki/Bar_chart) and [Histogram](https://en.wikipedia.org/wiki/Histogram), and am realizing that Immerse does not follow them which is leading to confusion.

From Wikipedia links above:

> A bar chart or bar graph is a chart or graph that presents categorical data with rectangular bars with heights or lengths proportional to the values that they represent. The bars can be plotted vertically or horizontally. A vertical bar chart is sometimes called a line graph.

> A bar graph shows comparisons among discrete categories. One axis of the chart shows the specific categories being compared, and the other axis represents a measured value. Some bar graphs present bars clustered in groups of more than one, showing the values of more than one measured variable.

> A histogram is an accurate representation of the distribution of numerical data. It is an estimate of the probability distribution of a continuous variable (quantitative variable) and was first introduced by Karl Pearson.[1] It is a kind of bar graph. To construct a histogram, the first step is to ""bin"" the range of values—that is, divide the entire range of values into a series of intervals—and then count how many values fall into each interval. The bins are usually specified as consecutive, non-overlapping intervals of a variable. The bins (intervals) must be adjacent, and are often (but are not required to be) of equal size.

Time can be treated as discrete units if that's how it presents itself in the data. For example if you have a column called ""year"" that has a range of all years inclusive from 1990 - 2000 then you would draw one bar per year and it would be a bar chart. Likewise with month, or day of week, as they can be treated as categorical.

On the other hand if your data has a column with time stamps representing a continuous range of date time values from 1990 - 2000 and each timestamp is in the format of month/day/year–hour/minute/second; and you want to visualize the number of records for each year, then you would be binning your data by year to show the number of values for each year which would be a sort of histogram.

In Immerse however, the current Row Chart and Histogram allow someone to create a vert similar visualization when binning, which seems to go against the definition of a what a bar chart is, which is why I'm getting confused. 

For example, here's a row chart binning a timestamp by month:

<img width=""1124"" alt=""screen shot 2018-02-23 at 10 00 27 am"" src=""https://user-images.githubusercontent.com/161748/36609159-d27c94d0-1880-11e8-8375-052301f7c13f.png"">

And here's a histogram doing the same:

<img width=""1118"" alt=""screen shot 2018-02-23 at 9 59 00 am"" src=""https://user-images.githubusercontent.com/161748/36609185-dd3872ea-1880-11e8-9e37-71ba5f1a9dff.png"">

You can see that they are almost copies of each other, with the exception that one is horizontal and one is vertical. The overall pattern / shape of the bars matches in both.

,clhenrick
Follow up, if we're binning in x axis for the new bar chart so be it, as that's what the existing row chart does. The idiosyncrasies of Immerse don't always mesh with my understanding of how certain chart types are supposed to work, which often gets me confused.,clhenrick
@clhenrick For  Phase 1, we can  limit the scope of what appears in x-axis to simply categorical (discrete dimensions) and extend support for date and numeric bins when we go to Phase 2  where we  bring in the row chart capabilities into this Uber BAR chart.,mythilimapd
@mythilimapd I believe this was brought up before; the tooltip method you are suggesting (only showing the value for segment being hovered over) won't work when the bars are very thin. The default tooltip handles this type of situation much better:

<img width=""807"" alt=""screen shot 2018-02-23 at 3 10 44 pm"" src=""https://user-images.githubusercontent.com/161748/36621221-cd4a4144-18ab-11e8-99f1-8d87d2906d22.png"">
,clhenrick
@clhenrick  would it be possible to show the segment name along with measure value on tooltip?  Instead of using the legend colors? If the user disables the legend box, then the color in the tooltip would not make sense without the segment name.

Also just curious why the bars appear touching each other? Would there be a space between each of the x-axis categories?,mythilimapd
@mythilimapd yes, the tooltip could be configured to show the segment names, although we'd probably have to truncate them after _n_ characters to prevent the tooltip from becoming too wide.

Agree that the bars shouldn't be touching each other, they need some padding. 

I'm writing up a list of known issues & design polish work as I'm implementing this, will post them here or in a Google Doc when it's ready.,clhenrick
also I'm checking off completed tasks in the top most comment of the related PR: https://github.com/mapd/mapd-immerse/pull/3959#issue-170887644,clhenrick"
first class support for a `datetime` data type in Immerse,3914,,2018-02-16T13:29:04Z,2018-02-16T13:29:58Z,"### Description
it would be helpful to have robust support for time data in Immerse.  Will make this epic to kickstart the conversation.

### Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### Steps To Reproduce
-
- **Actual result:**
- **Expected result:**

### Screenshots

### Other Info",micahstubbs,Epic,,
"years should be rounded to a whole number, 0 decimal places",3913,,2018-02-16T13:26:11Z,2018-02-16T13:26:11Z,"### Description

### Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### Steps To Reproduce
-
- **Actual result:**
- **Expected result:**

### Screenshots
![screen shot 2018-02-16 at 5 25 11 am](https://user-images.githubusercontent.com/2119400/36309537-e4c11244-12d9-11e8-9bcc-a775867f1a1c.png)


### Other Info",micahstubbs,,,
X Y axis switching for heat map dimensions,3912,,2018-02-16T13:23:46Z,2018-02-16T13:24:55Z,"### Description
X Y axis switching for heat map dimensions, with an arrow `switch` or `reverse` icon like the color palette
### Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### Steps To Reproduce
-
- **Actual result:** I have to delete both dimensions and re-pick them
- **Expected result:** I can click a `switch axes` button the switch the x and y dimensions

### Screenshots

![screen shot 2018-02-16 at 5 22 15 am](https://user-images.githubusercontent.com/2119400/36309446-762f7230-12d9-11e8-93ae-e278abe9c613.png)

![screen shot 2018-02-16 at 5 23 04 am](https://user-images.githubusercontent.com/2119400/36309455-7e22dba8-12d9-11e8-95a1-35aa376824c0.png)


### Other Info",micahstubbs,enhancement,,
document IML access steps in Immerse devdocs - README.md,3908,,2018-02-15T21:50:23Z,2018-02-15T21:50:56Z,"### Description
`document.cookie=""IML=true""` (edited)

`?dburl=bewdy.mapd.com:9092&mlport=44372`

the interactive machine learning PR that @wamsiv mentions https://github.com/mapd/mapd-immerse/pull/3717

### Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### Steps To Reproduce
-
- **Actual result:**
- **Expected result:**

### Screenshots
![screen shot 2018-02-15 at 1 48 49 pm](https://user-images.githubusercontent.com/2119400/36282772-19fe3122-1257-11e8-9f4f-4e3edf378bc5.png)



### Other Info",micahstubbs,"component-iml,dev-docs",,
Point map legends expand when the state of the map changes,3907,,2018-02-15T19:56:14Z,2018-02-15T19:56:14Z,"### Description
Point map legends expand when the state of the map changes

### Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

Master

### Steps To Reproduce
- Create any point map
- Collapse the legends
- Move the map/zoom/clear filter/ apply a cross filter from different chart/ apply global filter.



- **Actual result:**

Legends re expand

- **Expected result:**

Legend should remain collapsed.

### Screenshots

### Other Info",menaczar,"P2,bug",,
Histogram on Taxi doesn't have color dimension. ,3903,,2018-02-15T01:02:34Z,2018-02-15T01:02:34Z,"### Description

Histogram on Taxi doesn't have color dimension. 

### Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

Taxi

### Steps To Reproduce
- Go to taxi demo
- edit the histogram

- **Actual result:**
No color dimension 

- **Expected result:**
Color dimension should be there.

### Screenshots

![Screen Shot 2018-02-14 at 5.01.43 PM.png](https://images.zenhubusercontent.com/59a47c158f62dc7798c4571a/c4ab019c-0438-4d20-8883-1e9c5be28427)

### Other Info",menaczar,"P2,bug",,
Immerse incorrectly bins decade time intervals ,3893,,2018-02-14T01:02:45Z,2018-02-14T18:47:27Z,"### Description
Relates to #3746 

For example, if my dataset has a natural domain in years of 1987 – 2009, when I bin on decade the domain is altered to 1981 – 2001 thus adding years outside of the dataset's natural domain as well as chopping off the last 8 years (testing this using the `chrisv-basic` dashboard Line Chart on Kali). This seems strange to me.

An alternative method of binning on decades could be to find natural 10 year intervals in the dataset, such as 1987 – 1997 – 2007, instead of forcing it into intervals like 1981 – 1991 – 2001.

Furthermore it seems logical that a decade would start on 1980 then go to 1989, then 1990 – 1999, then 2000 – 2009. Starting on 1981 and not including 1980 within the same decade seems like a bug IMO.

### Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### Steps To Reproduce
- make a new dashboard
- use flights data set
- choose line1 chart
- x axis arr_timestamp
- y axis count # records
- select ""10y"" for `BIN` option 

- **Actual result:**
when hovering on the chart the tooltip should show date ranges like 1980 – 1989, 1990 – 1999, 2000 – 2009

- **Expected result:**
tooltip shows date ranges like 1981 – 1990, 1991 – 2000, 2001 – 2010

### Screenshots

<img width=""1427"" alt=""screen shot 2018-02-13 at 4 59 44 pm"" src=""https://user-images.githubusercontent.com/161748/36182616-54d1dcaa-10df-11e8-82d3-d88bf668ece9.png"">


### Other Info",clhenrick,enhancement,,
design unique 'Export CSV' icon ,3886,,2018-02-12T23:57:45Z,2018-03-02T19:45:06Z,"### Description

When actually sized as a control on the UI, the Export CSV icon's ""csv"" text is so small that it doesn't add much to the usability of the icon. We might consider replacing it with either a simple export icon or the text ""CSV"" in the same block - or another solution yet to be designed.

### Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### Steps To Reproduce
-
- **Actual result:**
- **Expected result:**

### Screenshots

### Other Info",jrajav,"P4,csv-export,design,lo-pri",,"@jrajav screenshot?,clhenrick
<img width=""137"" alt=""screen shot 2018-02-13 at 19 31 41"" src=""https://user-images.githubusercontent.com/2074135/36183607-924354be-10f4-11e8-8c28-342531c09a97.png"">

@clhenrick ,jrajav
lol, so our `download` icon is used by Microsoft as a `share` icon.  they have a more-obvious down-arrow `download` icon:

![screen shot 2018-02-21 at 4 21 43 pm](https://user-images.githubusercontent.com/2119400/36513211-78a70caa-1723-11e8-9811-f5169dd8274b.png)
![screen shot 2018-02-21 at 4 21 54 pm](https://user-images.githubusercontent.com/2119400/36513213-7ab784f2-1723-11e8-93c5-b23b58d0123f.png)

not saying that Microsoft products are the golden standard for design practice, but I think they may have a point here 😄 

,micahstubbs
The down arrow is more obvious to me as well. Here's one that we could use or modify to look more similar to the icons in Immerse already: https://material.io/icons/#ic_file_download,clhenrick
+1 for a download icon. That's more than enough (or even better, honestly) for discovery of the basic function, and can be combined with a helpful tooltip that reads ""Download as CSV"" to solidify expectations.,jrajav
There is a subtle difference between export and download. The functionality we have implemented is about **exporting** client side chart data as CSV. 
 **Download** means there is a file that is already generated and sitting in the server or cloud, which is not what we are doing. 
In any case, let us stick to the current icon for now and when we have a new UX person, we can get his/her input. ,mythilimapd
This is not a high priority item,mythilimapd
@micahstubbs, I did not approve this change and after specifically  saying this is not a priority I am shocked that you snuck this change in without talking to me, please revert this PR.

@Davidiskander or @menaczar can we revert this PR?,mythilimapd
@mythilimapd thanks for the constructive reply.  just saw this now - it seems that github does not notify when an existing comment is edited.,micahstubbs
it looks like we currently use the [share icon](https://github.com/feedbin/feedbin/blob/master/app/assets/images/icon-home-share.svg) from [feedbin](https://github.com/feedbin/feedbin) with the export data action.

Using this icon in this way is problematic, as there is already _another_ share icon on the page in Immerse. 

![two-share-icons](https://user-images.githubusercontent.com/2119400/36912056-6351880c-1dfa-11e8-9866-89c7f770db1c.png)
,micahstubbs
it is good to understand the design goal of distinguishing between `downloading` an existing file from some server's filesystem and `exporting` data from a chart.

if we want to follow that path, I'd suggest that we work with a designer to design a new `export data` icon that is not already commonly used to mean another different action.,micahstubbs
will share the conversation from slack here

![screen shot 2018-03-02 at 11 38 17 am](https://user-images.githubusercontent.com/2119400/36918309-54b91170-1e0e-11e8-8df5-19afdec9bf79.png)

![screen shot 2018-03-02 at 11 38 27 am](https://user-images.githubusercontent.com/2119400/36918313-5962abdc-1e0e-11e8-8b4d-739aab8d75d7.png)

![screen shot 2018-03-02 at 11 38 35 am](https://user-images.githubusercontent.com/2119400/36918316-5c0c1bfc-1e0e-11e8-9504-6d03886738bb.png)

,micahstubbs
Just adding some precedence here, this is how CARTO (one of our major competitors) handles exporting data in their UI:

Dropdown with just the word ""export""

![image](https://user-images.githubusercontent.com/161748/36918353-81def11a-1e0e-11e8-9ea4-64b3a31dcb34.png)

Then select the data format:

![image](https://user-images.githubusercontent.com/161748/36918363-89f8ebee-1e0e-11e8-9f18-c983ff6c339c.png)

Notice above the small icon with cloud and down arrow and right below it ""export dataset"". I think that gives a very clear meaning.

Not saying we have to follow this example, just throwing it out there as design precedence.,clhenrick
for reference, that CARTO icon is the Google material design `cloud download` icon https://material.io/icons/#ic_cloud_download,micahstubbs"
Remove clear filters icon when editing chart,3883,,2018-02-12T21:38:01Z,2018-02-12T21:38:01Z,"### Description

Doesn't make sense, and also collides with edit icon when title is long enough.

### Environment
- **Browser Name, Version**: 
- **mapd-immerse Version or Branch**: master

### Steps To Reproduce
-
- **Actual result:**
- **Expected result:**

### Screenshots

<img width=""144"" alt=""screen shot 2018-02-12 at 15 26 26"" src=""https://user-images.githubusercontent.com/2074135/36121036-a96fe354-100a-11e8-991a-7d42afa922c1.png"">


### Other Info",jrajav,,,
Incremental improvements of chart and data layers,3882,,2018-02-12T21:00:09Z,2018-02-12T21:00:12Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description
a placeholder issue for a wider plan taking shape in this google doc https://docs.google.com/document/d/1VfcT0yI1OIemHdyCnYxhqa98AXZBrgk_t4yzph24iek/edit

## Steps To Reproduce

## Expected Result

## Actual Result

## Link To Dashboard

## Screenshots

## Other Information",micahstubbs,Epic,,
Add a 'Remember me' checkbox to login form,3881,,2018-02-12T20:58:30Z,2018-02-12T20:58:30Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description

## Steps To Reproduce

## Expected Result

## Actual Result

## Link To Dashboard

## Screenshots

## Other Information
",jrajav,,,
Change SVGs to be inline components with react-svg-loader,3877,,2018-02-12T18:07:27Z,2018-06-01T14:15:19Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

Rationale: More efficient loading (included in bundle), ability to style directly with CSS

https://github.com/boopathi/react-svg-loader

## Issue Description

## Steps To Reproduce

## Expected Result

## Actual Result

## Link To Dashboard

## Screenshots

## Other Information
",jrajav,tech,,
dashboard autosave,3873,,2018-02-12T15:08:15Z,2018-02-12T15:08:15Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description
I hate losing my changes.  Immerse should autosave like google docs does.

## Steps To Reproduce

## Expected Result

## Actual Result

## Link To Dashboard

## Screenshots

## Other Information
",micahstubbs,,,
ships demo pointmap: cannot color by VesselLength,3872,,2018-02-12T14:50:53Z,2018-02-12T19:28:38Z,"## General Info
- **Platform**: MacOS
- **Browser Name**: Chrome 64
- **Application Version**: ships demo

## Issue Description
I'd like to color by binned `VesselLength` on the ships demo.  As a user,  I can't do it, because of some obnoxious error.  make it work. 

(edit: it seems like this is an intermittent bug or was fixed very recently, since 2/12/18)

## Steps To Reproduce

## Expected Result
see points colored by binned `VesselLength` https://www.mapd.com/demos/ships/#/chart/1/edit?_k=5qi7ze

## Actual Result
Error: Exception: TException - service has thrown ... The column alias ""color"" mapping to the column ""VesselLength"" in table, ""ships_ais"", is not a dictionary-encoded string column.  Cannot get string ids.)

## Link To Dashboard

## Screenshots
<img width=""1920"" alt=""screen shot 2018-02-11 at 10 12 00 am"" src=""https://user-images.githubusercontent.com/2119400/36102338-e0ef7316-0fc0-11e8-94ac-f04c214b78e8.png"">

![screen shot 2018-02-12 at 6 51 00 am](https://user-images.githubusercontent.com/2119400/36102428-2b5560a0-0fc1-11e8-9c8b-52b9fd1f0ad7.png)


## Other Information",micahstubbs,,,"Can you paste the Vega generated? It’s likely an Issue of th frontend trying to treat vessel length categorically and generating the wrong vega, not a backend issue. ,tmostak
huh, seems like it's working now 

![screen shot 2018-02-12 at 11 14 05 am](https://user-images.githubusercontent.com/2119400/36114797-e91246ca-0fe5-11e8-9225-8e709c0ebf8f.png)
,micahstubbs
query generated:
```
SELECT MIN(VesselLength) AS minimum,MAX(VesselLength) AS maximum FROM ships_ais WHERE (Longitude >= -128.25007888921175 AND Longitude <= -73.19432726335684) AND (Latitude >= 12.975757994129111 AND Latitude <= 52.746988514241195) on Server 0 - Execution Time: 33  ms, Total Time: 36ms
```

render call:

```
render: {""width"":453,""height"":405,""data"":[{""name"":""pointmap"",""sql"":""SELECT conv_4326_900913_x(Longitude) as x, conv_4326_900913_y(Latitude) as y, VesselLength as color, ships_ais.rowid FROM ships_ais WHERE MOD(ships_ais.rowid * 265445761, 4294967296) < 823726 AND ((Longitude >= -128.25007888921175 AND Longitude <= -73.19432726335684) AND (Latitude >= 12.975757994129111 AND Latitude <= 52.746988514241195)) LIMIT 2000000""}],""scales"":[{""name"":""x"",""type"":""linear"",""domain"":[-14276733.474185381,-8147955.238795166],""range"":""width""},{""name"":""y"",""type"":""linear"",""domain"":[1456962.8146344684,6936334.084695664],""range"":""height""},{""name"":""pointmap_fillColor"",""type"":""quantize"",""domain"":[0,1022],""range"":[""#115f9a"",""#1984c5"",""#22a7f0"",""#48b5c4"",""#76c68f"",""#a6d75b"",""#c9e52f"",""#d0ee11"",""#d0f400""],""clamp"":true}],""marks"":[{""type"":""points"",""from"":{""data"":""pointmap""},""properties"":{""x"":{""scale"":""x"",""field"":""x""},""y"":{""scale"":""y"",""field"":""y""},""fillColor"":{""scale"":""pointmap_fillColor"",""field"":""color""},""size"":1}}]} on Server 0 - Execution Time: 159  ms, Total Time: 291ms
```
,micahstubbs
vega generated:

```
{
  ""width"": 453,
  ""height"": 405,
  ""data"": [
    {
      ""name"": ""pointmap"",
      ""sql"":
        ""SELECT conv_4326_900913_x(Longitude) as x, conv_4326_900913_y(Latitude) as y, VesselLength as color, ships_ais.rowid FROM ships_ais WHERE MOD(ships_ais.rowid * 265445761, 4294967296) < 823726 AND ((Longitude >= -128.25007888921175 AND Longitude <= -73.19432726335684) AND (Latitude >= 12.975757994129111 AND Latitude <= 52.746988514241195)) LIMIT 2000000""
    }
  ],
  ""scales"": [
    {
      ""name"": ""x"",
      ""type"": ""linear"",
      ""domain"": [-14276733.474185381, -8147955.238795166],
      ""range"": ""width""
    },
    {
      ""name"": ""y"",
      ""type"": ""linear"",
      ""domain"": [1456962.8146344684, 6936334.084695664],
      ""range"": ""height""
    },
    {
      ""name"": ""pointmap_fillColor"",
      ""type"": ""quantize"",
      ""domain"": [0, 1022],
      ""range"": [
        ""#115f9a"",
        ""#1984c5"",
        ""#22a7f0"",
        ""#48b5c4"",
        ""#76c68f"",
        ""#a6d75b"",
        ""#c9e52f"",
        ""#d0ee11"",
        ""#d0f400""
      ],
      ""clamp"": true
    }
  ],
  ""marks"": [
    {
      ""type"": ""points"",
      ""from"": { ""data"": ""pointmap"" },
      ""properties"": {
        ""x"": { ""scale"": ""x"", ""field"": ""x"" },
        ""y"": { ""scale"": ""y"", ""field"": ""y"" },
        ""fillColor"": {
          ""scale"": ""pointmap_fillColor"",
          ""field"": ""color""
        },
        ""size"": 1
      }
    }
  ]
}

```,micahstubbs"
bar chart labels are overplotted after returning to dashboard from pointmap chart editor,3869,,2018-02-12T14:26:50Z,2018-02-12T14:33:17Z,"## General Info
- **Platform**: MacOS
- **Browser Name**: Chrome 64
- **Application Version**: ships demo https://www.mapd.com/demos/ships/#/dashboard?_k=p01em7

## Issue Description

## Steps To Reproduce
- visit https://www.mapd.com/demos/ships
- filter the **# Records by Ship Type** horizontal bar chart by clicking on the `Military Ops`
category
- visit the chart editor for the **Ship Locations (Colored by Type)** pointmap chart by clicking on the gear icon
- leave the chart editor by clicking the `Cancel` link
- observe that the labels are overplotted

note that this bug does not always appear - it may be dependent on window width or some application state.

## Expected Result

## Actual Result

## Link To Dashboard

## Screenshots
<img width=""1919"" alt=""screen shot 2018-02-11 at 10 14 22 am"" src=""https://user-images.githubusercontent.com/2119400/36101318-d8605e16-0fbd-11e8-9015-c8b51acad35d.png"">
<img width=""604"" alt=""screen shot 2018-02-11 at 10 14 28 am"" src=""https://user-images.githubusercontent.com/2119400/36101319-d87a553c-0fbd-11e8-86e2-c679922c9f32.png"">
<img width=""448"" alt=""screen shot 2018-02-11 at 10 14 32 am"" src=""https://user-images.githubusercontent.com/2119400/36101320-d898c530-0fbd-11e8-859a-1c21cdc463da.png"">


## Other Information",micahstubbs,,,
Autosize text inputs (dashboard / chart titles) to grow to several rows for long text,3864,,2018-02-09T17:39:45Z,2018-02-09T17:39:45Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description

Probably add back https://github.com/andreypopp/react-textarea-autosize for editing each, with a maxRows prop (undocumented but works) and ensuring it does not break the layout.

## Steps To Reproduce

## Expected Result

Text inputs grow to several rows *without* breaking layout.

## Actual Result

## Link To Dashboard

## Screenshots

## Other Information
",jrajav,,,
Use custom tooltip for dashboard and chart titles,3861,,2018-02-08T22:34:47Z,2018-02-09T17:42:06Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description

- [ ] use `react-lightweight-tooltip` or some similar easy-to-style custom tooltip for the dashboard title tooltip https://github.com/mcumpl/react-lightweight-tooltip

## Steps To Reproduce

## Expected Result

## Actual Result

![screen shot 2018-02-08 at 2 35 34 pm](https://user-images.githubusercontent.com/2119400/36001989-593bb5dc-0cdd-11e8-88d4-49d63bbb596e.png)


## Link To Dashboard

## Screenshots

## Other Information",micahstubbs,,,"here's an example of this tooltip:

![screen shot 2018-02-08 at 2 53 47 pm](https://user-images.githubusercontent.com/2119400/36002693-e7d287ba-0cdf-11e8-9225-80f27c5c6c3f.png)


![screen shot 2018-02-08 at 2 49 38 pm](https://user-images.githubusercontent.com/2119400/36002711-f4ea9aa0-0cdf-11e8-9e59-4d34102087c1.png)


https://github.com/mapd/mapd-immerse/blob/master/src/components/dashboard-machine-learning/machine-learning-panel/ml-algorithm-options.js#L71

,micahstubbs
Edited top comment to include finishing up ellipsis overflow in this issue as well - closely related improvement to title display. It isn't as simple as a single CSS prop as the inputs tend to change width on edit vs. display, and require some more positional tweaking (probably wrapping in a centering div rather than as a direct child of the absolute positioned container).,jrajav
Added react-textarea-autosize note too. Might be a bit of a stretch goal.,jrajav"
Data source count popup hidden behind charts when they are hovered over,3854,,2018-02-08T00:14:20Z,2018-02-08T00:14:20Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description

When mousing over charts, they appear above the data source count popup while it is open.

## Steps To Reproduce

Create a multi-source dashboard with charts near the count widget, open the data source count popup by clicking the count widget, then hover over a chart below it.

## Expected Result

The data source count popup stays on top.

## Actual Result

It doesn't.

## Screenshots

![screen shot 2018-02-07 at 4 10 56 pm](https://user-images.githubusercontent.com/2074135/35948547-db36c822-0c21-11e8-9028-25e99332a4e4.png)

![screen shot 2018-02-07 at 4 10 44 pm](https://user-images.githubusercontent.com/2074135/35948546-d9c2c1bc-0c21-11e8-9c36-da06041949ae.png)",jrajav,bug,,
[Scatter plot] Y-axis title and labels overlap with nyc_yellow_taxi_2014 dataset,3852,,2018-02-07T23:27:19Z,2018-02-07T23:27:19Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**:  minos

## Issue Description
After creating  a scatterplot with the nyc_yellow_taxi_2014 data source, there is an overlap between the Y-axis title and lables

## Steps To Reproduce
Select scatterplot for chart type
Data source : nyc_yellow_taxi_2014 
Measures: AVG(dropoff_x) - X-axis
Measures: AVG(dropoff_y) - Y-axis
Measures: AVG(fare_amount) - Size

## Expected Result
Y-axis title and axis labels do not overlap

## Actual Result
Y-axis title and axis labels overlap occurs

## Link To Dashboard
http://minos.mapd.com:8000/#/link/mapd/b3abb0bf

## Screenshots
<img width=""1478"" alt=""screen shot 2018-02-07 at 1 44 20 pm"" src=""https://user-images.githubusercontent.com/35040876/35947159-532647ce-0c1b-11e8-8004-4445c796fb5c.png"">

## Other Information",ericli5454,"P3,bug",,
explore dashboard old updater and converter,3846,,2018-02-07T19:30:48Z,2018-02-08T16:31:38Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description
from original version of dashboard schema to the current version of the dashboard schema

💡  @biovisualize @jrajav 

## Steps To Reproduce

## Expected Result

## Actual Result

## Link To Dashboard

## Screenshots

## Other Information
",micahstubbs,,,"Relevant comments left in #3845,jrajav"
idea: semver dashboard schema version,3845,,2018-02-07T19:26:21Z,2018-02-08T16:30:23Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description

as described by @jrajav 

## Steps To Reproduce

## Expected Result

## Actual Result

## Link To Dashboard

## Screenshots

## Other Information
",micahstubbs,,,"Perhaps semver itself is not the right approach for this? It depends on how granular we want to get. A simple single number incrementing (like versioning a REST API) might be sufficient if we only expect very occasional breaking changes - and if we guard against empty properties, the only breaking changes should be changes or deletions to existing properties. That would simplify the schema upgrade reducers to simple modules, rather than encoding any notion of semver ranges.,jrajav
```
Version 1 schema:
{
  version: 1,
  prince: boolean,
  cosmos: string
}

Still version 1 schema (No upgrade reducer needed):
{
  version: 1,
  prince: boolean,
  cosmos: string,
  roll?: number
}

Version 2 schema (Upgrade reducer for breaking property change):
{
  version: 2,
  king: boolean, // was 'prince'
  cosmos: string,
  roll: number
}

const v1👉v2 = compose( dissoc( 'prince' ), assoc( 'king' ), prop( 'prince' ) )

const upgrader = compose( v3👉v4, v2👉v3, v1👉v2 )
```,jrajav"
document yarn dependency,3842,,2018-02-07T00:28:29Z,2018-02-07T00:28:29Z,good idea from @clhenrick ,micahstubbs,,,
line: format data for export,3835,,2018-02-06T00:34:06Z,2018-02-06T00:37:08Z,related to https://github.com/mapd/mapd-immerse/issues/3510,micahstubbs,csv-export,,
histogram: format data for export,3834,,2018-02-06T00:33:46Z,2018-02-06T00:33:46Z,related to https://github.com/mapd/mapd-immerse/issues/3510,micahstubbs,csv-export,,
heat: format data for export,3833,,2018-02-06T00:33:15Z,2018-02-06T00:37:08Z,related to https://github.com/mapd/mapd-immerse/issues/3510,micahstubbs,csv-export,,
bubble: format data for export,3831,,2018-02-06T00:25:29Z,2018-02-06T00:25:34Z,related to https://github.com/mapd/mapd-immerse/issues/3510,micahstubbs,csv-export,,
pie: format data for export,3830,,2018-02-06T00:25:11Z,2018-02-06T00:25:11Z,related to https://github.com/mapd/mapd-immerse/issues/3510,micahstubbs,csv-export,,
bar: format data for export,3829,,2018-02-06T00:24:45Z,2018-02-06T00:24:45Z,related to https://github.com/mapd/mapd-immerse/issues/3510,micahstubbs,csv-export,,
table: format data for export,3828,,2018-02-06T00:24:02Z,2018-02-07T01:18:47Z,related to https://github.com/mapd/mapd-immerse/issues/3510,micahstubbs,csv-export,,"looking at https://github.com/mapd/mapd-immerse/blob/master/src/components/table/table.js but nothing seems to get called there when I render a table in Immerse

,micahstubbs
so https://github.com/mapd/mapd-immerse/blob/master/src/charts/table.js does get called, but it's not clear where the data is passed in,micahstubbs
strategy: let's pull values out of the crossfilter dimension 

![screen shot 2018-02-06 at 9 43 18 am](https://user-images.githubusercontent.com/2119400/35874793-4b36d1f4-0b22-11e8-8389-74bda0ac715a.png)

https://stackoverflow.com/questions/21992120/retrieving-values-in-crossfilter-dimension,micahstubbs
ok, it looks like I found it 

![screen shot 2018-02-06 at 10 59 57 am](https://user-images.githubusercontent.com/2119400/35878457-2c4765be-0b2d-11e8-83fe-d69ced73b108.png)

logging
 added in this commit https://github.com/mapd/mapd-immerse/commit/90fea3c0b5c0a11f63299ee6913b207b94a6826d,micahstubbs
![screen shot 2018-02-06 at 3 29 50 pm](https://user-images.githubusercontent.com/2119400/35889994-9e479d58-0b52-11e8-9c7e-416b968e0939.png)
,micahstubbs
alright, looks like this is working now

![screen shot 2018-02-06 at 5 18 20 pm](https://user-images.githubusercontent.com/2119400/35893201-c922d808-0b61-11e8-9ff3-55bf39a037d4.png)
,micahstubbs"
explore migrating CI build scripts to yarn,3826,,2018-02-05T21:40:26Z,2018-02-06T22:31:03Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description

Also probably a good idea to consider moving CI builds to use yarn over npm. 

from https://github.com/mapd/mapd-immerse/pull/3741

## Steps To Reproduce

## Expected Result

## Actual Result

## Link To Dashboard

## Screenshots

## Other Information",micahstubbs,"good-first-issue,tech",,"travis should move over once it detect a yarn.lock file. Getting jenkins ported should be a simple find and replace, though it involves a couple different jenkins projects. ,nytai
This currently doesn't work because yarn doesn't so something right with the binary node_modules, causing the eslint call to fail (not finding the eslint binary):

![screen shot 2018-02-06 at 2 29 10 pm](https://user-images.githubusercontent.com/2074135/35887771-2abfbc10-0b4a-11e8-830e-7dd5129ca629.png)

This happens regardless of whether `npm run` or `yarn run` are used in the scripts, or whether the Travis script is set the `yarn test`. Further investigation needed.,jrajav"
display git commit hashes in immerse about page for immerse and mapd dependencies,3820,,2018-02-02T22:48:37Z,2018-02-02T22:51:25Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description

for 
- mapd-immerse
- mapd-charting
- mapd-connector
- mapd-crossfilter
- mapd3
- mapd-core

also display version numbers for mapd libs  

see also https://github.com/mapd/mapd-immerse/issues/2039

## Steps To Reproduce

## Expected Result

## Actual Result

## Link To Dashboard

## Screenshots

## Other Information",micahstubbs,,,
document custom webpack config for devs,3817,,2018-02-02T22:17:40Z,2018-02-02T22:19:50Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description

document custom webpack config for devs in the `README.md` for `mapd-immerse`

see https://github.com/mapd/mapd-immerse/pull/3806#issuecomment-362398431

## Steps To Reproduce

## Expected Result

## Actual Result

## Link To Dashboard

## Screenshots

## Other Information",micahstubbs,tech,,
rename jenkins PR build from `default` to something description like `jenkins`,3815,,2018-02-02T20:05:29Z,2018-02-02T20:05:45Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description

## Steps To Reproduce

## Expected Result

## Actual Result

## Link To Dashboard

## Screenshots
![jenkins-build](https://user-images.githubusercontent.com/2119400/35752584-580d865c-0811-11e8-9eab-6f3a4671b6d7.png)

## Other Information",micahstubbs,tech,,"cc @nytai @andrewseidl ,micahstubbs"
integrate interactiveML demo into Immerse behind a feature flag,3812,,2018-02-02T19:01:24Z,2018-02-02T19:01:40Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description
integrate interactiveML demo into Immerse behind a feature flag

PR https://github.com/mapd/mapd-immerse/pull/3717

## Steps To Reproduce

## Expected Result

## Actual Result

## Link To Dashboard

## Screenshots

## Other Information",micahstubbs,"component-iml,feature",,
Make Zoom/pan of line2 as fast/smooth as old line chart,3811,[object Object],2018-02-02T18:22:24Z,2018-06-05T19:25:37Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description
Line2 is not updating data on other charts as fast as old line. Also true when updating focus chart when brushing on range chart.

This task is extracting line2 requirements, to make line2 exactly like old line chart, from #3765 which got conflated and was about a different but related improvement.

## Acceptance criteria
* Line2 should update the other charts at sensibly the same rate as old line chart
* The range chart should update the focus chart at sensibly the same rate too.

## Steps To Reproduce
* Make a dashboard with old line chart and a number chart
* See at what rate brushing on the focus chart refreshes the number chart
* Do the same after switching ole line chart to line2 to compare
* Do the same comparison with the refresh rate on the focus chart when brushing in the range chart

## Expected Result

## Actual Result

## Link To Dashboard

## Screenshots

## Other Information",biovisualize,"P2,line2",biovisualize,"@ericli5454 this is ready to test. It's in fact a break down of #3765 to differentiate between the state we need the chart to be in, at parity with old line chart, from the improvements (a smoother experience than on old line chart).,biovisualize
@biovisualize , got it testing now ,ericli5454
Tested and verified that:
- Line2 chart updates at same rate as old chart
- The range chart updates focus at reasonable rate,ericli5454
Reopening on behalf of @tmostak who sees the combo chart being less smooth than the old line chart. @niviksha, he mentioned that it could be the last blocker before deprecating the old line chart, so we could prioritize it as needed.,biovisualize
Note that we have 2 solutions:
* tweaking the debounce on the combo until it queries at the right rate to look as smooth as the old line chart (which is what we tried to do here)
* improve the smoothing with some fancy caching strategies (https://github.com/mapd/mapd-immerse/issues/3765),biovisualize
Comparison of update speed:

![line-combo-chart-brushing](https://user-images.githubusercontent.com/953210/40863416-9bb7df92-65a4-11e8-9884-eea215e543e9.gif)

Note there is at least one other issue around binning on combo that also would need to be fixed before deprecating line (@biovisualize did you file the one where binning options wasn't being adjusted).,tmostak
I made some benchmarks and I have a mean of 709.1769230761341ms between row chart `_doRedraw` call with line chart and 770.0384615382063 with combo. That’s a difference of 60.86153846207219 ms. I will tweak it to have combo chart faster, but a difference of 60ms is not a thing I notice. I will push my timer logging so we can see if there's something else that differs between my setup and @tmostak's.,biovisualize
I got it down to a mean of 348.31538461395. Can be tested here https://github.com/mapd/mapd-immerse/pull/4584

old line http://kali.immerse-4584.dev.frontend.builds.mapd.com/#/dashboard/580?_k=0z8gzk
combo http://kali.immerse-4584.dev.frontend.builds.mapd.com/#/dashboard/574?_k=lpmfye (,biovisualize
@tmostak I filed the issue you are mentioning here https://github.com/mapd/mapd-immerse/issues/4586 and added it to an epic to deprecate the old line chart https://github.com/mapd/mapd-immerse/issues/4587,biovisualize
I now set the throttling down to 150ms. But following discussions with @tmostak, I should just change it to not retrigger a query until the previous one comes back.,biovisualize
Notes: Instead of throttling to a fixed and arbitrary delay, the query should be smart enough to wait for the last one to come back before re-querying. ,biovisualize"
Measure / Dimension Selectors have multiple isOpen state flags,3809,,2018-02-02T01:07:11Z,2018-02-06T00:46:14Z,"Relates to #3757 (adding line2 y axis toggle to all measure types)

After reviewing the Measure Selector I noticed the following:

The `<SelectorContainer />` component has a prop called `isDropdownOpen` which, when set to `false` was still rendering its child `<AutoComplete />` component. 

However, the child `<AutoComplete />` component has another prop called `isOpen`, which is what actually determines if the dropdown list is shown.

This is misleading for devs and a bad handling of component level state. Both of these state flags are the result of over usage of Recompose's `withState` and `withHandlers` HOCs that modify the wrapped component and add additional `props` (not to be confused with component level `state`).

What probably needs to happen here is that there should be a **single source of truth** for whether or not the dropdown is open. The top most parent component should set the single flag and this flag should be passed down to `<AutoComplete />`. There should also be a function that updates this flag which should also be passed down to `<Autocomplete />`, so that it may set the `isDropdownOpen` flag from a user interaction.

This is a basic example of ""hoisting state"" in React, and I'm not sure why the original authors didn't follow it and instead created two separate flags for stating whether the dropdown should be open or not.",clhenrick,"tech,tech-debt",,"Over usage of Recompose's `withState` has lead to situations like this, with dimension / measure selectors:

![screen shot 2018-02-01 at 5 12 11 pm](https://user-images.githubusercontent.com/161748/35711770-79b36edc-0773-11e8-9eab-67be43477b68.png)
,clhenrick
this is like some kind of strange geometric art,micahstubbs
Upon further investigation I've found that `SelectorDropdown` has a prop called `shouldDropDown` which is what set's `AutoCompleteParent`'s `isOpen` flag and thus determines whether or not the dropdown of list items for measures / dimensions is actually shown. The `shouldDropDown` flag is set by a function of the same name in [selector-dropdown.js](https://github.com/mapd/mapd-immerse/blob/master/src/components/selector-dropdown/selector-dropdown.js#L9).,clhenrick"
add new codecov key,3803,,2018-02-01T19:33:35Z,2018-02-01T19:33:42Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description
see https://github.com/mapd/mapd-immerse/pull/3770#issuecomment-362336696

## Steps To Reproduce

## Expected Result

## Actual Result

## Link To Dashboard

## Screenshots

## Other Information",micahstubbs,tech,,
When using server authentication fetching servers.json returns a 401,3802,,2018-02-01T19:11:25Z,2018-02-01T19:11:31Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description

as reported in this PR from our marketing website web dev firm https://github.com/mapd/mapd-immerse/pull/3779

## Steps To Reproduce

## Expected Result

## Actual Result

## Link To Dashboard

## Screenshots

## Other Information",micahstubbs,bug,,
UI to import data from a file path on the server,3794,,2018-01-31T17:57:45Z,2018-05-31T18:25:43Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description
add a UI to import data from a file path on the server that the MapD backend is currently running on.

this feature is useful for importing data into mapd when:

1) your data is in a file that is bigger than the ~2gb browser upload limit
2) you want to use the Immerse UI to import data (you don't want to use any of the command line or SQL-based import strategies)

![screen shot 2018-01-31 at 9 57 13 am](https://user-images.githubusercontent.com/2119400/35638875-2d4039f6-066d-11e8-9470-790203ec66bc.png)
https://mapd.slack.com/archives/C1KDFH2BH/p1517254268000719

## Steps To Reproduce

## Expected Result

## Actual Result

## Link To Dashboard

## Screenshots

the UI from h2o's Flow could be an inspiration:

![screen shot 2018-01-31 at 10 00 17 am](https://user-images.githubusercontent.com/2119400/35638997-94095a28-066d-11e8-9a6e-a309d74d9cb2.png)

![screen shot 2018-01-31 at 9 59 57 am](https://user-images.githubusercontent.com/2119400/35639003-969103d6-066d-11e8-9cd3-dd0120b408ca.png)

![screen shot 2018-01-31 at 10 00 53 am](https://user-images.githubusercontent.com/2119400/35639020-aad80c7c-066d-11e8-936b-0e9741cb9ca8.png)


## Other Information",micahstubbs,"data,enhancement,import",,"This would be a useful enhancement for cloud @venk-at-krishnamurthy,jp-harvey"
Still Showing Community Logo after Enterprise Trial Activation is Confusing,3793,,2018-01-31T16:24:22Z,2018-01-31T19:44:45Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description
User is not sure if Enterprise Trial Key was activated because logo still says community

## Steps To Reproduce
Activate enterprise license key

## Expected Result
Expect to see visual cue that you are using enterprise trial

## Actual Result
Continues to show community logo

## Link To Dashboard

## Screenshots
![image](https://user-images.githubusercontent.com/7843610/35634226-061ddd5e-0660-11e8-9852-009f0e68720e.png)

## Other Information",ashish5ahu,enhancement,,"This is by design when we first implemented it. Since it is only a trial we made a  decision to keep the community logo. Community logo will only disappear when user upgrades to a full license. If we want to change that now, that is fine by me.,mythilimapd"
Switching binning OFF on Histogram doesn't render.,3792,,2018-01-31T01:00:37Z,2018-01-31T01:03:47Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description
Switching binning of on Histogram doesn't render.

## Steps To Reproduce
create a Histogram:
flights, depdelay, arrdelay
go to depdelay dimension
turn binning off

 
## Expected Result
should render new state

## Actual Result
nothing 

## Link To Dashboard
master

## Screenshots

## Other Information
",menaczar,"P2,bug,regression",,
UI hints for keyboard shortcuts in SQL Editor,3791,,2018-01-30T02:06:22Z,2018-01-30T02:16:07Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description

@david uploaded a file: sql editor.jpg and commented: @micah we discussed adding hints in the very bottom of the sql editor. What I had in mind is something like that

## Steps To Reproduce

## Expected Result
![sql editor](https://user-images.githubusercontent.com/2119400/35544436-2c90d5b4-051f-11e8-8b2e-fa0d0b759114.jpg)

## Actual Result

## Link To Dashboard

## Screenshots

## Other Information",micahstubbs,"enhancement,sql",,"credit to @Davidiskander for the idea 💡 and the image ,micahstubbs
Thanks @micahstubbs for tracking this suggestion ,Davidiskander"
[LINE2] Unable to save edited chart color,3789,[object Object],2018-01-30T01:16:27Z,2018-06-05T19:24:39Z,"## Issue Description
User is unable to save line chart color after making edits. 
Customer Escalation: **Tutela**

## Steps To Reproduce
1. Create and save a multi-series line chart to dashboards
2. Go to charts Editor view and edit a lines series color
3. Click Apply and then save to dashboards
4. Reopen charts

## Expected Result
Edits to line chart color should be saved.

## Actual Result
Chart line colors revert back to default colors after user saves chart color edits

## Screenshots
![unable_to_save_edited_color](https://user-images.githubusercontent.com/35040876/35543097-144fa504-0518-11e8-8b44-7e12d6d91769.gif)

## Other Information",ericli5454,"P1,bug,combo-chart,customer,tutela",biovisualize,"It turns out it was probably this more general problem #3910, unrelated to line2. @ericli5454 can you confirm?,biovisualize
@biovisualize I think this issue might still be a separate bug as it still seems to occur in the PR http://immerse-3911.dev.frontend.builds.mapd.com for line_2

![line2_chart_bug](https://user-images.githubusercontent.com/35040876/36438901-1b20b09e-1620-11e8-8a21-6e48f8f5a253.gif)
,ericli5454
@ericli5454 I forgot to tell you to test it on the combo-chart PR http://immerse-3867.dev.frontend.builds.mapd.com/,biovisualize
Besides, it works for me on 3911. Let's sync.,biovisualize
sure thing
,ericli5454
Colors are not really saved. It's temporary saved (in the cache only). Once an action is performed to allow fetching the chart and it's color to happen, color bounces back to default blue.
***Actions that will allow the color to bounce back to default:***
- re-open the dashboard
- apply filter
- change binning

![bug_combo defaults to blue](https://user-images.githubusercontent.com/10747240/37008072-4cd35b94-2095-11e8-822c-4fd3072e0fd4.gif)
,Davidiskander"
show mapbox labels on top of backend-rendered data layer on maps,3784,,2018-01-27T07:30:57Z,2018-01-30T20:28:41Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description

a nice idea from @vastcharade 

slack conversation https://mapd.slack.com/archives/C6ELEJHRT/p1517017745000039

<img width=""528"" alt=""screen shot 2018-01-26 at 11 28 50 pm"" src=""https://user-images.githubusercontent.com/2119400/35469741-d6179ef0-02f0-11e8-8c36-eac36bfbdd01.png"">

https://www.mapbox.com/mapbox-gl-js/example/geojson-layer-in-stack/

https://www.mapbox.com/help/create-a-custom-style/

## Steps To Reproduce

## Expected Result

## Actual Result

## Link To Dashboard

## Screenshots
<img width=""1888"" alt=""screen shot 2018-01-26 at 11 27 45 pm"" src=""https://user-images.githubusercontent.com/2119400/35469729-a40788c6-02f0-11e8-8a30-27434e99b234.png"">


## Other Information",micahstubbs,enhancement,,"so then, we could stack together the

1) mapbox basemap tiles with no labels
2) our rendered data tiles
3) mapbox labels-only tiles

please substitute `tiles` for the right term here,micahstubbs
One problem can be that the basemap we want already has labels that can’t be hidden without customizing it, so you end-up with 2 different label sets, one under and one over the raster layer. It's fine if they match, but they rarely do if they don't come from the same basemap that you split yourself.,biovisualize
@biovisualize right in that case it's a problem. the solutions that I have seen require a custom basemap with no labels.,micahstubbs
@micahstubbs Ryan from Mapbox just reached out offering to help get the rendering under the labels (would not just apply to choropleth). https://twitter.com/RyanBaumann/status/958049936305565696,tmostak
💡 https://twitter.com/RyanBaumann/status/958165326784598021

<img width=""978"" alt=""screen shot 2018-01-29 at 11 08 09 pm"" src=""https://user-images.githubusercontent.com/2119400/35552606-6aca1c9e-0549-11e8-8d93-ed675d9464df.png"">
,micahstubbs
IMO a better implementation of this would be to give Immerse users the ability to:

- hide and show labels
- position labels above or below the data layer(s)

This is how other mapping platforms handle labels, basemap, and data layers with slippy maps and it allows for more customization over creating geospatial viz.,clhenrick
@clhenrick I think that those features still need the same technical capability: be able to retrieve a map tile layer that has only labels (or maybe labels + waterways).

do you agree, or do you see a different solution?,micahstubbs
@micahstubbs I need to double check, but it seems that with MapboxGL the styling and what is shown on the map can be set client side. MapboxGL prefers to consume vector tiles, which are a geospatial data format, and thus can be rendered client side using WebGL. My assumption is that because of this you can change how and where labels are rendered via MapboxGL JS. ,clhenrick
@clhenrick ah, good to understand.  I think I'm speaking from my earlier experience with raster-tile mapbox.

can see how the solution might be a little different with MapboxGL JS / webgl mapbox,micahstubbs"
remove hard cap of 2 million points to be rendered in Immerse,3783,,2018-01-27T06:56:02Z,2018-01-29T20:30:59Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description

expose --render-mem-bytes setting to the user somewhere in Immerse

currently the setting is hardcoded to `2 million`

related slack thread https://mapd.slack.com/archives/C5E81A85A/p1516985383000409

## Steps To Reproduce

## Expected Result

## Actual Result

## Link To Dashboard

## Screenshots

<img width=""1496"" alt=""screen shot 2018-01-26 at 10 55 43 pm"" src=""https://user-images.githubusercontent.com/2119400/35469565-1347848e-02ec-11e8-96ea-71239997440a.png"">


## Other Information",micahstubbs,enhancement,,"What is hardcoded [here](https://github.com/mapd/mapd-immerse/blob/48d7fa284166c80484a043ad7b3517dd7734e543/src/constants/charts.js#L206) is the 2M cap on number of points, which sets the maximum of this slider in Immerse UI.

<img width=""461"" alt=""screen shot 2018-01-27 at 8 18 38 am"" src=""https://user-images.githubusercontent.com/824534/35472307-fd2768a0-033a-11e8-95b7-a72e00b095dc.png"">

i don't think it directly relate to any memory related option fro the server. Maybe an admin panel would be the right place to tweak these technical options.,biovisualize
Render mem bytes is a startup option for MapD server so would be hard to set dynamically. We might want to set the max of rendered points dynamically based on render mem bytes and the number of gpus. ,tmostak
good point @biovisualize, I updated the title

@tmostak ah I see.  agree, we probably shouldn't expose options in Immerse that would require restarting the MapD server,micahstubbs
@micahstubbs as @biovisualize pointed out, this setting already exists in immerse. 

This option could be added to the other incarnations of our BE charts, but those are all grouped queries and putting an arbitrary limit on it is not likely to be a common use case. ,nytai
@nytai  🤦‍♂️  thanks for helping me parse that.  seems that my reading comprehension wasn't so good two days ago.

I've updated the issue title once more to do what I think we want to do,micahstubbs"
Point map looks washed out compared to older versions of immerse.,3782,,2018-01-27T02:27:30Z,2018-01-27T02:28:12Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description
Point map looks washed out compared to older versions of immerse.

## Steps To Reproduce
Create a point map
nyc_trees
lon,lat
Spc_common as color measure
 and compare it to this on 3.3.1
http://immerse-3457.dev.frontend.builds.mapd.com/#/link/mapd/8a33809e

## Expected Result
Should look the same

## Actual Result
Looks washed out until you turn off the autosize.

## Link To Dashboard
http://immerse-master.prod.frontend.builds.mapd.com/#/link/mapd/b8bc26ec
## Screenshots
<img width=""721"" alt=""screen shot 2018-01-26 at 5 46 17 pm"" src=""https://user-images.githubusercontent.com/16374964/35467688-99dc1cd8-02c6-11e8-9361-f79872ab7cde.png"">
<img width=""1008"" alt=""screen shot 2018-01-26 at 5 38 26 pm"" src=""https://user-images.githubusercontent.com/16374964/35467690-9e688aa2-02c6-11e8-9e70-7446307af87b.png"">

## Other Information

Size is being handled differently:

3.3.1: “size”:2
3.4: “shape”:“circle”,“width”:2,“height”:2}}",menaczar,"P2,enhancement",,
Formatting from Data Manager using a friendly UI,3777,,2018-01-26T23:12:31Z,2018-05-24T06:38:27Z,"## General Info
Customer Requirement: ISG
SOW Date: 06/06/2018

As an Immerse user I would like  to specify the default format of various fields in a data set level so these default formats are applied consistently when I visualize them in a chart.

Functional Requirements

- From the Data Manager ability to specify format for numeric fields 
- Form the Data Manager ability to specify format for date fields
- Formats specified via Data Manager should be persisted, so user can view/inspect the default format from Data Manager
- From the data manager allow creating calculated measures and dimensions
- Ability to specify format for calculated measures
- All formatting specification must be through an end user friendly UI
- If no format is specified the current sensible defaults will be applied
- If end user overrides the data manager level format via chart editor, the chart editor takes precedence over the data manager format.

- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

**Due Date: June 6, 2018**

## Issue Description

## Steps To Reproduce

## Expected Result

## Actual Result

## Link To Dashboard

## Screenshots

## Other Information",mythilimapd,"ISG,customer,formatting",,
Upgrade to Webpack 4,3769,,2018-01-26T16:44:05Z,2018-01-26T18:07:21Z,"More details on benefits [here](https://medium.com/webpack/webpack-4-beta-try-it-today-6b1d27d7d7e2)

* improved performance
* smaller bundle sizes
* cleaner configs",mrblueblue,tech,,"Webpack v4@beta was just announced, so probably safe to hold off on this for a little bit IMO.,clhenrick"
[LINE2] Pop up (tooltip ) is not scrollable,3768,,2018-01-26T02:04:52Z,2018-01-31T18:18:23Z,"## Issue Description
Currently if the users continually adds measures the chart pop up (like the chart 2 legend) will continually expand. 

Pop up should be scrollable or capped in some way

## Screenshots

![Screen Shot 2018-01-25 at 6.02.10 PM.png](https://images.zenhubusercontent.com/5a4c12b9a016c5b034bbd07e/f2df32c8-956d-46cf-8e3c-aa85849d65f3)",ericli5454,"P3,design,enhancement",,"The old line chart and the histogram tooltip are not scrollable neither (see screenshot). I'm not sure how the user could scroll it since it follows the cursor. So @mythilimapd we need a design/spec decision here:
* should we apply a max height and hide the rest?
* should we invent a fancy way for the cursor to be able to move inside the tooltip to scroll it?
* should we also do it on the histogram?

In any case, that's not a bug but an improvement and not specific to line2 if we want to be consistent with histogram.

<img width=""436"" alt=""screen shot 2018-01-26 at 7 39 59 am"" src=""https://user-images.githubusercontent.com/824534/35440298-c43c1672-026c-11e8-87f2-50b60f9814d1.png"">

<img width=""456"" alt=""screen shot 2018-01-26 at 7 45 20 am"" src=""https://user-images.githubusercontent.com/824534/35440331-eeb13824-026c-11e8-901e-a2408fe093dd.png"">
,biovisualize
I removed the line2 label as it's a histogram and line 1 design problem too, not something to get fixed for delivering line2.,biovisualize"
[LINE2] Improve Focus Chart Render when Brushing Range Chart,3765,,2018-01-25T23:25:40Z,2018-03-02T10:30:37Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description
Currently the brushing implementation of the range chart causes the focus chart rendering to be spotty and leave gaps while the user is brushing. This could be improved to be more seamless. 

The skipping appears in the old line chart and histogram too. But we could at least fix it in line2

## Acceptance criteria
* Brushing on range chart zoom and pan in a smoother way, with less jumping on data refresh

## Screenshots
### Current focus rendering when brushing range chart

![line2-focus-render-range-brush-bug](https://user-images.githubusercontent.com/161748/35417785-c86242d2-01e3-11e8-9dec-108a7f34179d.gif)

### Example of a smoother focus rendering when brushing range chart:
![correct-focus-render-from-range-brushing](https://user-images.githubusercontent.com/161748/35417838-e86a3b7a-01e3-11e8-9913-b2969a4d9292.gif)",clhenrick,"combo-chart,enhancement",,"We should fix this one for 3.6,mythilimapd
I tried to use a hack where you translate using cached data and then just re-query at the end. But we need to change it to retrigger the query continuously, not just on brush end, so it will make it less smooth, same as the old line chart. Unless we use some clever prefetching tricks. It's easy to get something smooth when the data is on the client.,biovisualize
@biovisualize nope, there is an easier way, it involves sharing the domain between the two charts.,clhenrick
That would work. ,biovisualize
yeah it's basically updating the x scale's domain of the focus chart with the extent of the brushed area on the range chart on the brush event (calling `on.('brush')` continually passes the min and max to the focus domain),clhenrick
@biovisualize I'm still not sure why we need to query during range brushing, if the new behavior of the range brush is to only affect what the focus chart displays? Because of binning?,clhenrick
Yes, because the focus chart doesn't only show a window from the range chart data, it takes the new x domain and re-bin, aggregate, compute topK, etc. which can be very different if you do it, say on data from 1990 to 2000 than on 1990 to 1991. Maybe @nytai could confirm. ,biovisualize
I think some of this is documented here: https://github.com/mapd/mapd-immerse/issues/3330
,nytai
In fact @tmostak reminded me that we don't need to re-query when we pan, also when binning is locked, as we don't need to get a new binning on the backend. So we could do:
* client-side filtering the focus chart using range chart data on panning
* same when binning is locked
* throttle re-query when zooming (changing domain range)
* ideally having a mix of client-side zooming between the queries to keep it zmooth

Note that we still need to call the filtering on other charts even if we don't re-query.,biovisualize
@biovisualize would it be possible for us to have a call sometime to discuss this? I'm having a hard time conceptualizing all the moving pieces around the line chart brushing.,clhenrick
I improved it a bit. It needed some throttling on the focus brush. I also added a throttled re-query on the range chart instead of the partial client-side smooth zoom/pan of focus + re-query on brushEnd. The next step would be to improve the client-side panning in all cases that doesn't need a re-query (zoom without range change, locked binning).,biovisualize
I gathered information about this task. Here's how I would define the acceptance criteria:

* Line2 should update the other charts at sensibly the same rate as old line chart
* The range chart should update the focus chart at sensibly the same rate too.

I will open a new task for improvements @clhenrick and myself discussed, to keep this task as a pure reproduction of old line chart behaviour, which was the original intent.

@ericli5454 If we agree with these acceptance criteria, this task is ready to test.,biovisualize
@biovisualize agree with those two points, but we should make sure to not lose the original reason I posted this issue which is that currently the way the range chart updates the focus chart is choppy and could be improved. This choppiness is present in the original line chart as well, so it would be an enhancement, but IMO it's also been an existing bug. 

It may be worth opening a separate issue for those two points you made as they have to do more with replicating original line chart behavior (focus chart update and db querying) in line chart 2, rather then fixing the choppiness.,clhenrick
I agree that it's the opposite: you opened it to improve over the legacy behaviour and was Todd wanted before releasing line2 was to get at feature parity. I will open a new one for QA.,biovisualize
@clhenrick, @biovisualize is this going to be done for 3.6? If not, I can clear the release field.,mythilimapd
@mythilimapd The part of this task that is relevant to the release is completed #3811. This one is an improvement that you can remove from 3.6.,biovisualize"
[LINE2] Incorrect key symbol in color palette after editing the line style,3760,,2018-01-25T22:39:14Z,2018-03-12T22:44:13Z,"## Issue Description
After adding a X-axis dimension and 2 measures. Edit the line style of 1st measure. Then add a 3rd measure. The key symbol (in legend box) for the third measure is incorrect 

![2nd_measure_w_color_dimension3](https://user-images.githubusercontent.com/35040876/35416211-2b6aa24a-01dd-11e8-8022-ce7ff6412f97.gif)

<img width=""984"" alt=""screen shot 2018-01-25 at 2 38 20 pm"" src=""https://user-images.githubusercontent.com/35040876/35416279-70b03c34-01dd-11e8-9d4a-f27ee8a7a2e6.png"">",ericli5454,"P2,bug,combo-chart",,"The screenshots mixes multiple problems that are filed elsewhere or fixed. Here is a better gif to isolate the problem this issue describes:

![color_palette_bug](https://user-images.githubusercontent.com/824534/35417830-0816ca42-01fd-11e8-8732-9645d1b4ca42.gif)
,biovisualize
Note: a side effect of this issue is that after key symbol is in incorrect state, user would no longer be able to edit line styles in combo charts

![combo_chart_line_style](https://user-images.githubusercontent.com/35040876/36705334-8086586e-1b19-11e8-88da-efdbd3fb3df2.gif)
,ericli5454
Referenced
Color option is sometimes presented in line and some other times presented in a square shape. 
Find `Chart A` in http://immerse-3956.dev.frontend.builds.mapd.com/#/link/mapd/953bfb3b

<img width=""249"" alt=""screen shot 2018-02-28 at 7 45 33 pm"" src=""https://user-images.githubusercontent.com/10747240/36826231-dde2eea2-1cc0-11e8-9cc1-1bc02eb51bd8.png"">

,ericli5454
@biovisualize , I found solid repo for this bug

- Go to minos
- Create a new dashboard
- Create a new chart
- Data: tweets
- Add Dimension: join_time
- Add Measure 1: Admin1
- Add Measure 2: Admin2
- Change the line style into dotted line
- Add measure 3: followees  

Current behavior:
Square shape color is populated next to the 3rd measure (followees)

screenshot:
<img width=""262"" alt=""screen shot 2018-03-12 at 3 17 23 pm"" src=""https://user-images.githubusercontent.com/10747240/37313377-1f3c4958-260c-11e8-9fdb-0910dc2fae5b.png"">
,Davidiskander"
[LINE2] Evaluate requirements for multi-source multi-measure query/transform,3755,,2018-01-25T21:34:32Z,2018-03-02T10:31:05Z,"## Description
We need to be able to select multiple sources from multiple measures. It will require some changes in the query, in the data transform and in the UI, like disabling some widgets, which may require some UX/UI design work.

There are [some mockups](https://drive.google.com/drive/u/1/folders/1UFUpDVyf23rhktzb7sfrZxTaa_J5HXJ1) about it.",biovisualize,combo-chart,,
sunburst chart,3750,,2018-01-25T20:26:06Z,2018-06-06T19:23:09Z,"## User story
As a user (i.e. at JamCity), I want to visualize my hierarchical data in a sunburst, as it's a chart that makes sense to me, so I can analyze my hierarchical data alongside the rest of my information in Immerse dashboards.

As a developer at MapD, I need to find the most efficient way to integrate any new chart in Immerse.

## Goals
We need to help JamCity integrate a sunburst in Immerse. We already gave them some directions to help them develop a chart that matches the API we use for MapD3. The result is here: https://github.com/dtovbeinJC/mapd3/blob/develop/src/charts/sunburst.js

## Increments (possible deliverables)
The development increments could be:
- [ ] validate this code and improve it or write a new one (sunburst code example)
- [ ] connect it to mapd-core to figure out the query and to show it working in isolation (example of sunburst working with mapd-connector)
- [ ] List the technical specs to prepare the sunburst integration and eventual test plan (spec list)
- [ ] Design the architecture for the React wrapper that will connect it to Immerse (architecture prototype/template)
- [ ] Integrate the sunburst in Immerse (working sunburst in Immerse)

## Priority and scope
This project is not on the top of the priority list, but it has multiple goals that are important:
* Keeping JamCity happy
* Redesigning the pattern to integrate new charts in Immerse so it can be done quickly and in a more robust way
* Showing an example of how the community or clients can build new charts that we can then integrate (or we can provide an Immerse stub or some unit tests to make it even easier)

## Notes
We have multiple Slack channels to sync-up with Jamcity (`ext-jamcity` (private), `cust-jamcity`), but we should let non-dev handle all the communication.",micahstubbs,JamCity,uyanga-gb,"one inspiration

https://bl.ocks.org/vasturiano/12da9071095fbd4df434e60d52d2d58d

![screen shot 2018-01-25 at 12 27 09 pm](https://user-images.githubusercontent.com/2119400/35410706-1a530a90-01cb-11e8-8b61-2302d7523217.png)
,micahstubbs
another inspiration

https://bl.ocks.org/micahstubbs/428036f0f948a5c2b95f8a4b91931ee6

![screen shot 2018-01-25 at 12 28 27 pm](https://user-images.githubusercontent.com/2119400/35410766-454ce57c-01cb-11e8-9554-7a1301faa7bf.png)
,micahstubbs"
[SQL Editor] Should be able to navigate through a previous multi-line query in the case of editing,3745,,2018-01-25T18:57:58Z,2018-03-16T19:40:44Z,"## Environment
URL: http://immerse-3675.dev.frontend.builds.mapd.com/
Host: bewdy
Port: 49092

## Steps
- Open the SQLEditor
- Submit query `SELECT * FROM flights_10k WHERE dest_city = 'San Francisco' LIMIT 10`
- Submit multiline query 
```
create table test_test_del (
id    integer,
first_name varchar(50),
last_name varchar(50),
dob DATE
)
```
- Press `arrow ↑` on keyboard to find the previous query > should be the multiline query
- Press `arrow ↑` on keyboard to edit the query

## Expected:
I should be able to navigate through a previous multi-line query, edit and resubmit

## Actual: 
The query is treated as a single line query
User cannot use the keyboard to navigate through
User can use the mouse, move the cursor, edit and resubmit

## Screenshot/ Gif
![edit previous multiline query.gif](https://images.zenhubusercontent.com/597a1712f8b79f8376e107e7/15a9aadc-6dea-4ff7-977e-4dedf08300c7)",Davidiskander,"design,enhancement,sql",,"in the current implementation, this only happens if the multi-line query is unchanged.  if you change the multi-line query, then the behavior for the `arrow ↑` is to move up a line in the editor.

in the bigger picture, this is an artifact of our effort to mix the affordances of a `command-line-interface` or `cli` and a `text editor` or `code notebook input cell`,micahstubbs
Just ran into this issue as well, would using `shift + ↑` OR `cmd/control + ↑` to navigate to previous queries be a possible solution?,clhenrick
yes, it's a reasonable idea.

that said, one of the design constraints is that the SQL Editor is that we have to keep the cli style key bindings.

the basic conflict between cli style keybindings and good text editor UX is what we hope to resolve once we have a designer onboard to persuade @tmostak that the break with the past cli-style is worth the UX improvement ,micahstubbs"
review design of SQL Editor history section,3743,,2018-01-25T18:34:36Z,2018-01-25T18:37:57Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description
It would be nice for a UX professional to review the design of the query history section of our SQL Editor UI.  

## Steps To Reproduce

## Expected Result

## Actual Result

## Link To Dashboard

## Screenshots
![screen shot 2018-01-25 at 10 33 32 am](https://user-images.githubusercontent.com/2119400/35405543-54031efc-01bb-11e8-9786-b54efbf1a201.png)

![screen_shot_2018-01-25_at_10_33_32_am](https://user-images.githubusercontent.com/2119400/35405663-c0e4fe0a-01bb-11e8-9ea3-2fc802f4c7ad.png)




## Other Information",micahstubbs,"design,sql",,
Color scale resets on rendered charts with other visual attributes are modified,3742,,2018-01-25T05:41:32Z,2018-01-25T05:41:32Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description

Anytime we change any of the visual attributes on a rendered chart the color scale resets.

## Steps To Reproduce

Go to this dashboard: http://immerse-master.prod.frontend.builds.mapd.com/#/link/mapd/5ae0dc94.  Open up the settings panel for the pointmap. change the size domain and range of the dots. Note that the color scale resets to the min and max of the color range.

## Expected Result

We should preserve the color scale (settable via the legend) if only visual attributes change. Note if the dimension or measure is changed we should reset the color scale as we are dealing with actual data.

## Actual Result

Color scale resets on any change to other visual attributes like size.

## Link To Dashboard

http://immerse-master.prod.frontend.builds.mapd.com/#/link/mapd/5ae0dc94

## Screenshots

## Other Information",tmostak,,,
Fork Legendables Component to MapD,3740,,2018-01-24T19:35:40Z,2018-01-24T19:54:50Z,"TO DO:

- [x] Fork the Legendables component from @mrblueblue  to MapD GH:
https://github.com/mrblueblue/legendables
- [ ] update **mapd-charting* * `package.json` to point to mapd fork https://github.com/mapd/mapd-charting/issues/149
- [ ] ask @mrblueblue to transfer the `legendables` name on NPM to mapd npm account (unless we'd like to call it something else) https://www.npmjs.com/package/legendables

if we want to call it something else:
- [ ] publish `@mapd/legendables` to NPM and use semver so that we can update it efficiently and painlessly",clhenrick,tech,,"https://github.com/mapd/legendables,micahstubbs"
Running geosql crashes SQLEditor,3724,,2018-01-23T00:58:24Z,2018-03-16T19:40:44Z,"## General Info
- **Platform**: All
MacOS
- **Browser Name**: All
Chrome
- **Browser Version**: All
63.039
- **Application Version**: master dev
3.3.2
It is a special build for geosql functionality

## Issue Description
Running the following command in SQLEditor throws a javascript error

""select * from geo limit 1;""

## Steps To Reproduce
Need geosql build however you can try on http://community-azure.mapd.com:9092/

## Expected Result
`select * from geo limit 1;
pz|pz_coords|p|p_coords|l|l_coords
POINT(0 0)|{0, 0}|POINT(0 0)|{0, 0}|LINESTRING(0 0, 0 0)|{0, 0, 0, 0}`


## Actual Result
Error (spinning wheel)

## Link To Dashboard

## Screenshots
![image](https://user-images.githubusercontent.com/7843610/35252433-470e518a-ff95-11e7-828b-e9d947f65c1b.png)


## Other Information",ashish5ahu,sql,shtilman,"The problem is with displaying Geometry columns
```
> select p from geo limit 10;
(spinning wheel)
Uncaught TypeError: Cannot read property 'toString' of undefined
> select * from geo limit 10;
(spinning wheel)
Uncaught TypeError: Cannot read property 'toString' of undefined
```
The physical columns generated for Geometry columns are displayed just fine (DOUBLE arrays) :
```
> select p_coords,l_coords from geo limit 10;
p_coords   l_coords
0,0        0,0,0,0
1,1        2,0,2,2
2,2        4,0,4,4
3,3        6,0,6,6
4,4        8,0,8,8
5,5        10,0,10,10
6,6        12,0,12,12
7,7        14,0,14,14
8,8        16,0,16,16
9,9        18,0,18,18
Success  10 rows in 23ms
```

,shtilman
@billmaimone, @niviksha   Should get fixed in 3.5 release? Will core support these queries in 3.5?,mythilimapd"
update eslint rules,3721,,2018-01-22T20:47:28Z,2018-01-22T21:36:40Z,"## Description
Some linting rules are a bit constraining without adding much to readability or other benefits of good code style. Let's list them here and disable them. 

Also, let's remove the linting from webpack. It's easy enough to run lint separately and we have a git hook for that.

## Context
https://mapd.slack.com/archives/G7SEBKZ1P/p1516651646000224
>Tai Dupree [15:07] 
seems like passing linter is now a precondition to webpack compiling, while this may seem like a great idea, in practice it’s cumbersome given how anal our linting rules are (edited)

>Jonathan Huang [15:09] 
be sure to alphabetize your imports!

>Tai Dupree [15:14] 
so this does bring up an interesting question. Do we change the linting rules or remove the precondition?

>Micah Stubbs [15:18] 
would vote for removing the webpack lint hook. I like the lint hook  at git push best. `on webpack build` or `on commit` hooks slow me down too much... I disable those pretty fast (edited)

>Christophe Viau [15:40] 
Both :slightly_smiling_face: We could start by simply removing rules we don’t want, those that doesn’t require a change, like alphabetic ordering.",biovisualize,tech,biovisualize,"It would be nice to test if `--fix` works well with the current set of options.

I would comment-out:
* ""sort-imports"", ""sort-vars"", ""react/jsx-sort-props"", ""react/sort-prop-types"" (sorting is tedious and can't be automated with --fix)
* ""no-underscore-dangle"" (dc has some dangles),biovisualize"
add a run button to SQL Editor ,3719,,2018-01-20T02:42:31Z,2018-01-20T02:43:29Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description
add a run button to the SQL Editor that executes the query in the editor.  inspired by the design from plotly's Falcon SQL editor
![falcon_sql_client_v2_4_0-run-button](https://user-images.githubusercontent.com/2119400/35179120-5915f81e-fd48-11e7-8be6-c28c56d40b6a.png)",micahstubbs,"enhancement,sql",,"related to #2466 #3539 ,micahstubbs"
visually distinguish between tables and views in SQL Editor table reference panel,3718,,2018-01-20T01:20:45Z,2018-01-20T01:20:45Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description
visually distinguish between tables and views in SQL Editor table reference panel

as suggested by @mythilimapd 
https://docs.google.com/document/d/19ew-pLwrR2xcmp1kv5sIMz8fMDCc1nX2tWEdDOpqo20/edit?usp=sharing

## Steps To Reproduce

## Expected Result

## Actual Result

## Link To Dashboard

## Screenshots

## Other Information",micahstubbs,"enhancement,sql",,
replace instances of getClientRects with faster getBoundingClientRect,3715,,2018-01-19T19:42:00Z,2018-01-19T19:52:48Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description

this link says that `getBoundingClientRect` is faster https://jsperf.com/getboundingclientrect-vs-getclientrects (more operations per second)

![screen shot 2018-01-19 at 11 52 16 am](https://user-images.githubusercontent.com/2119400/35168828-41fc94fa-fd0f-11e7-9906-0a935e0936fb.png)


it looks like browser support for `getBoundingClientRect` is pretty good
![screen shot 2018-01-19 at 11 40 59 am](https://user-images.githubusercontent.com/2119400/35168399-a795e322-fd0d-11e7-9eca-1ce9b099b25f.png)
https://developer.mozilla.org/en-US/docs/Web/API/Element/getBoundingClientRect

🎩  to @biovisualize  for suggesting this

## Steps To Reproduce

## Expected Result

## Actual Result

## Link To Dashboard

## Screenshots

## Other Information",micahstubbs,"performance,tech",,
highlight tokens in SQL Editor hint menu based on type,3714,,2018-01-19T19:08:18Z,2018-01-19T19:10:17Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description
for example show SQL keywords in one color, column names in another color, and table names in a third color

## Steps To Reproduce

## Expected Result

## Actual Result

## Link To Dashboard

## Screenshots
![screen shot 2018-01-19 at 11 04 21 am](https://user-images.githubusercontent.com/2119400/35166955-89a50370-fd08-11e7-8a35-223c1499170f.png)

## Other Information",micahstubbs,"enhancement,sql",,"related to this PR https://github.com/mapd/mapd-immerse/pull/3675#issuecomment-357090164,micahstubbs
also related to #2466 ,micahstubbs
thanks to @mythilimapd for suggesting this enhancement 😄 ,micahstubbs"
geoheat map should center map on marks,3711,,2018-01-18T23:25:48Z,2018-01-18T23:26:20Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description

## Steps To Reproduce

## Expected Result

![screen shot 2018-01-18 at 3 25 16 pm](https://user-images.githubusercontent.com/2119400/35126794-d7eb246a-fc63-11e7-8a4c-43c2ec1876ad.png)


## Actual Result
![screen shot 2018-01-18 at 3 23 52 pm](https://user-images.githubusercontent.com/2119400/35126758-b8425070-fc63-11e7-9cd0-91353cfb2a96.png)

## Link To Dashboard

## Screenshots




## Other Information",micahstubbs,,,"💡 while fixing https://github.com/mapd/mapd-immerse/issues/3697,micahstubbs"
Changing between Point map and Heat map disregards the color measure.,3706,,2018-01-17T20:51:06Z,2018-01-17T20:51:47Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description
Changing between Point map and Heat map disregards the color measure.

## Steps To Reproduce
Create a point map
Flights, lon, lat, airtime, carrier_name
Change to heatmap
Change back to point map

## Expected Result
Point map should render with colors according to carrier_name

## Actual Result
Point map is rendered with all points blue

## Link To Dashboard
Master

## Screenshots
![screen shot 2018-01-17 at 12 50 13 pm](https://user-images.githubusercontent.com/16374964/35066359-2c505fe6-fb85-11e7-8edb-63cc8a9fe429.png)


## Other Information",menaczar,"P3,bug",,
design variable height input window for SQL editor,3705,,2018-01-17T20:23:15Z,2018-01-24T23:27:27Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description

if you enter 5 - 6 or more queries, the space to enter new queries is quite large.
![image](https://user-images.githubusercontent.com/2932405/35063487-16933650-fb7c-11e7-978e-f6626d0abfaf.png)

---------------------------

It might make sense for the input window to be flexible depending on how many lines the user has entered.  Start as one line, and grow from the bottom up as the user enters more lines.

Eg: 
![vega](https://user-images.githubusercontent.com/2932405/35063526-36567416-fb7c-11e7-84bf-945e73fdb7e4.gif)

as reported by @MarcBalaban 

## Steps To Reproduce

## Expected Result

## Actual Result

## Link To Dashboard

## Screenshots

## Other Information",micahstubbs,"design,sql",,"inspired by this PR comment https://github.com/mapd/mapd-immerse/pull/3598#issuecomment-358422433,micahstubbs"
research what legacy SQL Editor most MapD users used before  ,3704,,2018-01-17T19:21:14Z,2018-01-17T20:37:31Z,"## Issue Description

research what legacy SQL Editor most MapD users used before  

this will be useful to know in cases where we want to offer familiar behavior in Immerse.

",micahstubbs,,,"inspired by the conversation on https://github.com/mapd/mapd-immerse/pull/3598
,micahstubbs
We are using Google Tag Manager to track feature usage currently (see tracker.js). But we will switch to using Segment #3546. One challenge is to track more granular SQL editor features without tracking actual queries or names that could be sensitive.,biovisualize
ah, good to know.  that sort of tracking  of direct immerse usage is important, but not the question I'm asking here.  

I want to survey users and ask what other tool they used before Immerse.
,micahstubbs"
make use of vega transforms for BE-rendered charts where applicable,3703,,2018-01-16T23:16:38Z,2018-04-12T21:55:48Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description
In a handful of cases where BE-rendered charts are used, a pre-query is run to gather certain statistical information about a pending render query to drive color, or point size, or the like. With the advent of vega transform support (see: https://github.com/mapd/mapd-core-internal/issues/473 & its associated docs: https://github.com/mapd/docs.mapd.com/issues/152), these prequeries can be removed, therefore eliminating the redundancy and performance hit of running these prequeries.

One such example is geo-heatmap. Here is an example of a vega that can be generated by this chart:

```
{
  ""width"": 897,
  ""height"": 651,
  ""data"": [
    {
      ""name"": ""heatmap_querygeoheat"",
      ""sql"": ""SELECT reg_hex_horiz_pixel_bin_x(conv_4326_900913_x(lon),-17552387.676773068,17552387.676773112,conv_4326_900913_y(lat),-9235139.541165564,16242239.227283565,9.966666666666667,11.508515365846542,0,0,897,651) as x, reg_hex_horiz_pixel_bin_y(conv_4326_900913_x(lon),-17552387.676773068,17552387.676773112,conv_4326_900913_y(lat),-9235139.541165564,16242239.227283565,9.966666666666667,11.508515365846542,0,0,897,651) as y, count(*) as color FROM tweets_nov_feb_60M WHERE ((lon >= -157.67578124999773 AND lon <= 157.67578124999812) AND (lat >= -63.54495286384991 AND lat <= 81.03987555989866)) GROUP BY x, y""
    }
  ],
  ""scales"": [
    {
      ""name"": ""x"",
      ""type"": ""linear"",
      ""domain"": [
        -17552387.676773068,
        17552387.676773112
      ],
      ""range"": ""width""
    },
    {
      ""name"": ""y"",
      ""type"": ""linear"",
      ""domain"": [
        -9235139.541165564,
        16242239.227283565
      ],
      ""range"": ""height""
    },
    {
      ""name"": ""heat_colorgeoheat"",
      ""type"": ""quantize"",
      ""domain"": [
        1,
        176209.51303257493
      ],
      ""range"": [
        ""rgba(17,95,154,0.5)"",
        ""rgba(25,132,197,0.5)"",
        ""rgba(34,167,240,0.5)"",
        ""rgba(72,181,196,0.5)"",
        ""rgba(118,198,143,0.5)"",
        ""rgba(166,215,91,0.5)"",
        ""rgba(201,229,47,0.5)"",
        ""rgba(208,238,17,0.5)"",
        ""rgba(208,244,0,0.5)""
      ],
      ""default"": ""rgba(13,8,135,0.5)"",
      ""nullValue"": ""rgba(13,8,135,0.5)""
    }
  ],
  ""marks"": [
    {
      ""type"": ""symbol"",
      ""from"": {
        ""data"": ""heatmap_querygeoheat""
      },
      ""properties"": {
        ""shape"": ""hexagon-horiz"",
        ""xc"": {
          ""field"": ""x""
        },
        ""yc"": {
          ""field"": ""y""
        },
        ""width"": 9.966666666666667,
        ""height"": 11.508515365846542,
        ""fillColor"": {
          ""scale"": ""heat_colorgeoheat"",
          ""field"": ""color""
        }
      }
    }
  ]
}
```

You'll notice that the `""domain""` property of the `""heat_colorgeoheat""` scale is set to `[1,
176209.51303257493]`. These values are retrieved by running the following pre-query before the render_vega call:

```
SELECT MIN(c.color) as minimum, MAX(c.color) as maximum, STDDEV(c.color) as deviation, AVG(c.color) as mean FROM (SELECT reg_hex_horiz_pixel_bin_x(conv_4326_900913_x(lon),-17552387.676773068,17552387.676773112,conv_4326_900913_y(lat),-9235139.541165564,16242239.227283565,9.966666666666667,11.508515365846542,0,0,897,651) as x, reg_hex_horiz_pixel_bin_y(conv_4326_900913_x(lon),-17552387.676773068,17552387.676773112,conv_4326_900913_y(lat),-9235139.541165564,16242239.227283565,9.966666666666667,11.508515365846542,0,0,897,651) as y, count(*) as color FROM tweets_nov_feb_60M WHERE ((lon >= -157.67578124999773 AND lon <= 157.67578124999812) AND (lat >= -63.54495286384991 AND lat <= 81.03987555989866)) GROUP BY x, y) as c
```

Then the following expression is used to ensure valid values to use for the domain:

`[max(mean - 2 * deviation, min), min(mean + 2 * deviation, max)]` 

Not only is this redundant, but can be expensive if the underlying binning query takes a while since that query would ultimately be run twice. With the advent of vega data transforms, this redundancy can be removed therefore speeding up the overall render time significantly.

Here's what the vega would now look like to make use of vega transforms instead:

```
{
  ""width"": 897,
  ""height"": 651,
  ""data"": [
    {
      ""name"": ""heatmap_querygeoheat"",
      ""sql"": ""SELECT reg_hex_horiz_pixel_bin_x(conv_4326_900913_x(lon),-17552387.676773068,17552387.676773112,conv_4326_900913_y(lat),-9235139.541165564,16242239.227283565,9.966666666666667,11.508515365846542,0,0,897,651) as x, reg_hex_horiz_pixel_bin_y(conv_4326_900913_x(lon),-17552387.676773068,17552387.676773112,conv_4326_900913_y(lat),-9235139.541165564,16242239.227283565,9.966666666666667,11.508515365846542,0,0,897,651) as y, count(*) as color FROM tweets_nov_feb_60M WHERE ((lon >= -157.67578124999773 AND lon <= 157.67578124999812) AND (lat >= -63.54495286384991 AND lat <= 81.03987555989866)) GROUP BY x, y""
    },
    {
      ""name"": ""heatmap_stats"",
      ""source"": ""heatmap_querygeoheat"",
      ""transform"": [
        {
          ""type"": ""aggregate"",
          ""fields"": [""color"", ""color"", ""color"", ""color""],
          ""ops"":    [""min"", ""max"", ""avg"", ""stddev""],
          ""as"":     [""mincnt"", ""maxcnt"", ""avgcnt"", ""stdcnt""]
        },
        {
          ""type"": ""formula"",
          ""expr"": ""max(mincnt, avgcnt-2*stdcnt)"",
          ""as"": ""mincnttouse""
        },
        {
          ""type"": ""formula"",
          ""expr"": ""min(maxcnt, avgcnt+2*stdcnt)"",
          ""as"": ""maxcnttouse""
        }
      ]
    }
  ],
  ""scales"": [
    {
      ""name"": ""x"",
      ""type"": ""linear"",
      ""domain"": [
        -17552387.676773068,
        17552387.676773112
      ],
      ""range"": ""width""
    },
    {
      ""name"": ""y"",
      ""type"": ""linear"",
      ""domain"": [
        -9235139.541165564,
        16242239.227283565
      ],
      ""range"": ""height""
    },
    {
      ""name"": ""heat_colorgeoheat"",
      ""type"": ""quantize"",
      ""domain"": {""data"": ""heatmap_stats"", ""fields"": [""mincnttouse"", ""maxcnttouse""]},
      ""range"": [
        ""rgba(17,95,154,0.5)"",
        ""rgba(25,132,197,0.5)"",
        ""rgba(34,167,240,0.5)"",
        ""rgba(72,181,196,0.5)"",
        ""rgba(118,198,143,0.5)"",
        ""rgba(166,215,91,0.5)"",
        ""rgba(201,229,47,0.5)"",
        ""rgba(208,238,17,0.5)"",
        ""rgba(208,244,0,0.5)""
      ],
      ""default"": ""rgba(13,8,135,0.5)"",
      ""nullValue"": ""rgba(13,8,135,0.5)""
    }
  ],
  ""marks"": [
    {
      ""type"": ""symbol"",
      ""from"": {
        ""data"": ""heatmap_querygeoheat""
      },
      ""properties"": {
        ""shape"": ""hexagon-horiz"",
        ""xc"": {
          ""field"": ""x""
        },
        ""yc"": {
          ""field"": ""y""
        },
        ""width"": 9.966666666666667,
        ""height"": 11.508515365846542,
        ""fillColor"": {
          ""scale"": ""heat_colorgeoheat"",
          ""field"": ""color""
        }
      }
    }
  ]
}
```

Take a look at the docs ticket: https://github.com/mapd/docs.mapd.com/issues/152 for more details.

Also note, that with the BE change, you can extract these auto-generated values from a `vega_metadata` property on the `TRenderResult` object returned be a `render_vega` thrift call to use to fill legends, or create FE d3 scales to match what is used on the BE.

## Steps To Reproduce

## Expected Result

## Actual Result

## Link To Dashboard

## Screenshots

## Other Information",vastcharade,"component-charting,enhancement",vastcharade,"I'd also add that with our backend rendered pointmaps and scatterplots we currently get the global min/max when coloring by a quantitative measure, which varies with the behavior of the rest of the app where we dynamically fetch the crossfiltered min/max.  It would be nice if we could use this new vega transforms functionality to dynamically set the min/max for the color scale for pointmaps/scatterplots, while still allowing the user to lock the scale or override it (via the legend) as is done on other charts.  We should decide whether porting heatmaps and scatterplots/pointmaps should be considered separate issues of a larger epoch or done as part of the same task.,tmostak
This can be broken up into three separate tasks:

1. updating the connector api to expose the metadata field
1. updating the raster chart api to make use of these transforms
1. updating immerse to handle the new raster chart api,mrblueblue
blocked by https://github.com/mapd/mapd-connector/pull/54,mrblueblue
Nobody is working on this issue, so I'm moving it to prioritized bugs.,biovisualize
I've been assigned this issue. I'm going to start by just changing the geo heatmap-related pre-query, where the hit from running that query is the most noticeable. I'll make a separate issue for that, just so we can get that out the door. It should be a relatively quick thing to add since the heatmap pre-query is buried inside the heatmap-specific raster layer mixin in mapd-charting.

However, to make the use of vega transforms in a more generalized way will require:

1) updating the raster chart api to make use of these transforms
2) updating immerse to handle the new raster chart api

as Jon mentioned above.,vastcharade
I'm going to start by making an initial proposal. Currently the mapd-charting raster layer mixins have a setState() method that takes a JSON object as an argument. The syntax of this JSON does not seem to be defined or validated, but it seems to be loosely based on vega-lite: https://vega.github.io/vega-lite/

Internally in mapd-charting, this JSON is parsed for 2 different purposes: 1) to generate SQL, and 2) to generate a vega for backend-rendering.

The schema for this input JSON is not explicitly defined, whereas the schemas for the parser (mapd-data-layer) to generate the sql is fairly well defined, and similarly for the backend vega.

I propose adopting a new schema, again, loosely based on vega-lite, that when parsed will generate the appropriate json for the SQL parser and for backend rendering.

For example, here is the current call in the geo heatmap example in mapd-charting (https://github.com/mapd/mapd-charting/blob/master/example/exampleGeoHeat.js#L112)

```
  HeatLayer.setState({
    mark: ""hex"",
    encoding: {
      x: {
        type: ""quantitative"",
        field: ""lon"",
        size: WIDTH
      },
      y: {
        type: ""quantitative"",
        field: ""lat"",
        size: HEIGHT
      },
      color: {
        type: ""quantize"",
        aggregate: ""count(lang)"",
        scale: {
          domain: ""auto"",
          range: colorRange,
          default: ""#0d0887"",
          nullValue: ""#0d0887""
        }
      },
      size: {
        type: ""manual"",
        value: 10
      }
    }
  })
```

The `domain: ""auto""` line under the color scale is what ultimately generates the pre-query for geo-heatmap.

Again, the schema for this json does not seem to be well defined, and new rules are just added where appropriate, and not seemingly documented.

I propose we establish a more well-defined schema that will not only take advantage of the vega transform capability, but can be extended when new BE vega features are released, as well as new SQl features. For the geo-heatmap example above, a new JSON syntax might look like this:

```
{
  width: <chart/div width>,
  height: <chart/div height>,
  data: {
    ""crossfilter"": <mapd-crossfilter object>
  },
  projection: {
    ""type"": ""mercator""
  },
  transform: [
    {
      ""bin"": {
        ""type"": ""hex"",
        ""x"": {
          ""field"": ""lon"",
          ""offset"": <optional>
        },
        ""y"": {
          ""field"": ""lat"",
          ""offset"": <optional>
        }
      }
    },
    {
      ""aggregate"": [
        {""op"": ""count"", ""field"": ""*"", ""as"": ""color""},
        ""groupby"": [""x"", ""y""]
      ]
    },
    {
      ""aggregate"": [
        {""op"": ""min"", ""field"": ""color"", ""as"": ""minc""},
        {""op"": ""max"", ""field"": ""color"", ""as"": ""maxc""},
        {""op"": ""avg"", ""field"": ""color"", ""as"": ""avgc""},
        {""op"": ""stddev"", ""field"": ""color"", ""as"": ""stddevc""}
      ]
    },
    {""calculate"": ""min(minc, avgc-2*stddevc)"", ""as"": ""lowc""},
    {""calculate"": ""max(maxc, avgc+2*stddevc)"", ""as"": ""highc""},
  ],
  mark: ""hex"",
  encoding: {
    x: {
      field: ""x"",
      type: ""quantitative""
    },
    y: {
      field: ""y"",
      type: ""quantitative""
    },
    color: {
      field: ""color"",
      type: ""quantitative"",
      scale: {
        type: ""quantize"",
        domain: {""fields"": [""lowc"", ""highc""]},
        range: colorRange,
        default: ""#0d0887"",
        nullValue: ""#0d0887""
      }
    },
    size: {
      type: ""manual"",
      value: 10
    }
  }
}
```

As part of this effort, we'll also develop a proper schema that will validate the input JSON.

The parser of this JSON will create both a JSON needed for the mapd-data-layer SQL parser, as well as the BE vega.

We'll also add proper versioning so that we can keep things backwards compatible.

We can start by saying this is version 0.1.0

JSON's supplied without a version will default to the original, un-supported format, again, for backwards compatibility, and we can properly log deprecation warnings.

Once this task is complete, we can proceed with updating immerse to use the new schema.,vastcharade"
Change login screen wording: `Please enter a password`,3700,,2018-01-16T18:58:50Z,2018-01-16T18:58:50Z,"## General Info
- **Application Version**: master

## Issue Description
- [ ] If `servers.json` doesn't specify a password, the login screen says `Please enter a password`, implying that you're setting it the first time.

## Steps To Reproduce

Remove the `password` field from your `servers.json`

## Expected Result

Remove `a`, maybe replace with `the`?

## Screenshots

![screenshot from 2018-01-16 10-29-24](https://user-images.githubusercontent.com/1416440/35006219-ee749064-faaa-11e7-882e-6ef71ced55c4.png)

## Other Information
Also would be nice if login screen error messages indicated whether the error came from backend or frontend. Message above seems to be generated on the frontend. The password incorrect message (with a capitalized `User`) is from backend. Both show up the same way.",andrewseidl,"enhancement,lo-pri",,
With multi-layer maps need to allow/disallow crossfiltering on each layer,3694,,2018-01-15T17:55:43Z,2018-01-15T17:57:05Z,"As a user, I might want to make a map showing multiple longitude/latitude pairs from the same dataset (i.e. origin and destination on flights, pickup and dropoff locations on taxis). If we enforce cross-filtering on all layers in these situations we can get to the absurd situation where as I zoom in to an area, I crossfilter out all data. (Imagine zooming into SFO in the flights dataset showing both origin and destination on the same map). Since there are no flights that take off at SFO and land at SFO, I will filter out all of the data as I zoom in, which would be unexpected to the user.

I would suggest being able to turn on/off crossfiltering for each layer in the map. By default it would be on.

This would also bring our maps more in line with the behavior of our line charts and histograms, which do not filter if you zoom into a certain range (i.e. by filling in the min/max values). Ideally cross-filter on the current view would be a toggle for these charts as well to keep behavior consistent between the various charts in our app.",tmostak,enhancement,,
first time user experience,3693,,2018-01-15T01:24:40Z,2018-01-25T20:42:21Z,"a collection of bugfixes and enhancement to improve the first time user experience of Immerse.  

this is a list of all the small friction points that you apologize for when you are giving a demo of Immerse to someone who is seeing it for the first time.  let's fix them and stop apologizing 😄 📈 

contributions are welcome! please add issues you have encountered in first time user experience situations to this epic 🌱  

will list issues in some rough categories.

## tile map UX

**add zoom buttons to geo maps, fix scrolling bug** https://github.com/mapd/mapd-immerse/issues/3605
**page scroll user intent should not be confused for map zoom** https://github.com/mapd/mapd-immerse/issues/3692
**Button to zoom to max lat/lon bounds** https://github.com/mapd/mapd-immerse/issues/1662

## pattern finding UX

**a category or class should be encoded using the same categorical color across charts** https://github.com/mapd/mapd-immerse/issues/3472",micahstubbs,,,
page scroll user intent should not be confused for map zoom,3692,,2018-01-15T01:20:18Z,2018-01-16T05:05:07Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

As a user interacting with a multi-chart dashboard on a device with a small screen (laptop), I might need to scroll down to see additional charts in my dashboard. However, my mouse wheel scroll gets intercepted by the map and instead of scrolling, the map zooms in/out.

as originally reported by @clhenrick in related issue https://github.com/mapd/mapd-immerse/issues/3605

## Issue Description

## Steps To Reproduce

## Expected Result

## Actual Result

## Link To Dashboard

## Screenshots

## Other Information",micahstubbs,bug,,"@micahstubbs I'm not sure what the solution would be here, but seems like we **wouldn't** want to implement something elaborate like ""if dashboard requires y scroll to view all charts then disable geo map mousewheel zoom""?,clhenrick
good question.  I have an open mind on solutions right now.  just want to document the problem statement now 😄 
,micahstubbs
the hope is always that we can have all of our fancy complicated features all at once on the same page 😅 ,micahstubbs
I think what Todd suggested, detecting if the mousewheel started outside of the map, would work well. 

Another idea I did on another project was to only enable the mousewheel zoom after the map has the focus, like after you clicked on the -+ zoom icons or double click to zoom. I'm not sure I like it, but it's an alternative.,biovisualize
I'm not sure how the mousewheel event would start outside of the map, start to scroll the page, then move into the map area while the user is still scrolling? It seems the mouse position remains stationary when a user is scrolling via the mousewheel / trackpad. Maybe I'm not understanding Todd's suggestion correctly.,clhenrick
@clhenrick here is an example:

![scroll-zoom-loop](https://user-images.githubusercontent.com/824534/34956016-29036996-f9f5-11e7-8318-80365023ace7.gif)
,biovisualize
@clhenrick I think the idea is that the page moves under the stationary mouse during scrolling.  sometimes a part of the page with a map element moves under the mouse during scrolling.  then, the map's scroll listeners also get called and UX weirdness ensues,micahstubbs"
support custom delimiter characters on file import,3673,,2018-01-11T00:18:21Z,2018-01-11T00:27:00Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description
As a user, I'd like to be able to specify a my own column delimiter character, like a space ' ',  when importing data into Immerse.

delimiters that are commonly used and/or difficult to specify should be provided as menu options.

## Steps To Reproduce

## Expected Result

## Actual Result

## Link To Dashboard

## Screenshots
![screen shot 2018-01-10 at 4 15 54 pm](https://user-images.githubusercontent.com/2119400/34802299-de93e1c8-f621-11e7-9012-f199fffc74e2.png)


## Other Information",micahstubbs,enhancement,,"test this new feature with the space-delimited `housing.csv` dataset, attached.
[housing.zip](https://github.com/mapd/mapd-immerse/files/1620823/housing.zip)

,micahstubbs
a semicolon-delimited test dataset 
[bank-additional-full.zip](https://github.com/mapd/mapd-immerse/files/1620834/bank-additional-full.zip)
,micahstubbs"
Legacy bugs that have an impact on developing multi-measure,3671,,2018-01-10T22:25:10Z,2018-01-10T23:25:59Z,"## Description
Multiple bugs that are in production have an impact non the multi-measure feature development, for multiple reasons:
* They need to be fixed to build on top or modify the broken logic
* They makes Immerse crash when putting the UI in a state needed for development
* They are surfaced by the work on multi-measure (they were invisible or not prioritized bugs but causing problems on multi-measure)
* They are a caused by a confusion in implementation that becomes more visible with the new features

I will file or link them here and estimate the level of impact on multi-measure development.",biovisualize,,,"* histo with flights, arr_timestamp, carrier_name, records
* switch to line, back to histo, 
* remove carrier_name, back to line
* error in modal

![chart_switching_bug](https://user-images.githubusercontent.com/824534/34798740-3c55f0cc-f62b-11e7-9934-a538cfbfca29.gif)
,biovisualize
Color palette state persists after removing color dimension
* histo with flights, arr_timestamp, carrier_name, records
* remove records
* the color palette stays the same

<img width=""1168"" alt=""screen shot 2018-01-10 at 5 15 40 pm"" src=""https://user-images.githubusercontent.com/824534/34798846-89887e64-f62b-11e7-8962-945e06536532.png"">
,biovisualize
Lots of errors in the console all related to color props not having the right shape or being null. It makes true errors more difficult to spot.

<img width=""455"" alt=""screen shot 2018-01-10 at 5 27 57 pm"" src=""https://user-images.githubusercontent.com/824534/34798921-d11524a8-f62b-11e7-80c0-5cc7ae690bb7.png"">
,biovisualize
Note to self: document the multiple range chart problems, x axis domain editing/locking,biovisualize"
Help --> About Immerse should show server and port ,3666,,2018-01-10T19:24:49Z,2018-01-10T19:24:49Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master

## Issue Description
the Help --> About window in Immerse should show server and port that Immerse is connected to.
## Steps To Reproduce

## Expected Result

## Actual Result

## Link To Dashboard

## Screenshots
![screen shot 2018-01-10 at 11 23 01 am](https://user-images.githubusercontent.com/2119400/34791062-ae07540a-f5f8-11e7-9e35-589c0abaa369.png)
## Other Information",micahstubbs,enhancement,,
Enforce upgrading BE if there is an incompatibility,3663,,2018-01-10T00:59:08Z,2018-01-10T01:04:54Z,"Per discussion with Todd and I, 

A user could be in a situation where FE and BE could be incompatible. Instead of letting the user figure out that they are using the wrong BE version, we should notify them.

This is related to #3655 where a user could see an `invalid method name`",Davidiskander,,,
document current mapd-immerse release process,3656,,2018-01-08T20:47:47Z,2018-03-16T19:42:04Z,  document current **mapd-immerse** release process,micahstubbs,,,"one docs release step worth mentioning:

![screen shot 2018-01-08 at 12 55 31 pm](https://user-images.githubusercontent.com/2119400/34691976-4d574df8-f473-11e7-8693-3705cae79d51.png)
https://mapd.slack.com/archives/C165ZDWHJ/p1515441922000009,micahstubbs
some product-team steps for the current release process:

![screen shot 2018-01-08 at 1 03 39 pm](https://user-images.githubusercontent.com/2119400/34692274-77769c46-f474-11e7-8f6a-d6d3ecbaa629.png)


https://mapd.slack.com/archives/C165ZDWHJ/p1515445176000247,micahstubbs
some additional product team & docs teams steps in the release process:

![screen shot 2018-01-09 at 10 48 07 am](https://user-images.githubusercontent.com/2119400/34737348-bb994e30-f52a-11e7-8e2e-5940bc9fd6b6.png)


https://mapd.slack.com/archives/C165ZDWHJ/p1515520892000612,micahstubbs
the product team creates visual summary of new features in the release.  a ""what's in, what's not"" internal document that defines the scope of the release.

![screen shot 2018-01-09 at 11 51 21 am](https://user-images.githubusercontent.com/2119400/34740216-784ade1a-f533-11e7-80a0-e3fed8211ec4.png)

https://mapd.slack.com/archives/C0LEC47GF/p1515527230000099

https://docs.google.com/presentation/d/1Alywf7pmc-EaGXDdDFcfRbyCb9-8MniFbgtyygblovo/edit?usp=sharing

---

in the middle here the QA team does a few rounds of testing.,micahstubbs
at some point someone runs this deploy script https://github.com/mapd/mapd-immerse/blob/master/scripts/deploy.sh
(added by chrisv: )
<img width=""783"" alt=""screen shot 2018-01-11 at 6 21 48 pm"" src=""https://user-images.githubusercontent.com/824534/34852393-643e3f6e-f6fc-11e7-9c97-6aea4456a3f8.png"">,micahstubbs
more useful notes starting at this slack message https://mapd.slack.com/archives/C165ZDWHJ/p1515623545000282,micahstubbs
an engineer supplies a `branch name` and a `release version` to Jenkins, then clicks the **Build** button

https://jenkins.mapd.com/job/mapd-immerse-release/build?delay=0sec

![screen shot 2018-01-10 at 3 16 13 pm](https://user-images.githubusercontent.com/2119400/34800754-18c1d8a8-f61a-11e7-96ab-c15f4d0f111e.png)
,micahstubbs
then Jenkins creates the build.  here's what that looks like:

![screen shot 2018-01-10 at 3 22 55 pm](https://user-images.githubusercontent.com/2119400/34800773-296b328a-f61a-11e7-9f86-17f3a40640e9.png)
https://jenkins.mapd.com/job/mapd-immerse-release/78/,micahstubbs
when the build is complete, Jenkins will look like this:

![screen shot 2018-01-10 at 4 05 32 pm](https://user-images.githubusercontent.com/2119400/34801984-26ae0382-f620-11e7-8885-ff94e02ffcea.png)
,micahstubbs
After it's built, @andrewseidl does something magical, and that makes @Davidiskander happy.

<img width=""830"" alt=""screen shot 2018-01-11 at 6 23 36 pm"" src=""https://user-images.githubusercontent.com/824534/34852438-a3099c48-f6fc-11e7-9958-c354cd6f2800.png"">,biovisualize
I bump the RC version and update the the Immerse URL to the new build. For example: https://github.com/mapd/mapd-core-internal/commit/7348cfdba887a6c2196e911a2e957d98b9e84ced

Then submit two [mapd2-multi](https://jenkins.mapd.com/job/mapd2-multi/) build jobs: one for enterprise edition, one for community edition.,andrewseidl
<img width=""856"" alt=""screen shot 2018-01-14 at 11 03 58 am"" src=""https://user-images.githubusercontent.com/824534/34917987-ad44b600-f91a-11e7-98d3-a9e6e7f9abd2.png"">,biovisualize
The links I post go to the two `mapd2-multi` builds on Jenkins, which bundles the RC build of Immerse with a new build of the Core RC. Usually takes about 10 minutes to complete.

Once those builds complete you get a list of the various package formats we distribute (.deb, .rpm, .tar.gz). Grab the relevant one for the system your testing on.

For pushing to Minos, there's a Jenkins job named [`Deploy2Minos`](https://jenkins.mapd.com/job/Deploy2Minos/). Give this the name of the .tar.gz generated by the `mapd2-multi` job.,andrewseidl
QA has signed off on the release. Now what?

For below, `tag and push it` means:
```
git tag -a v3.4.0 -m v3.4.0
git push --tags
```

---

Immerse: tag the final rc and push it.

---

Docs: finalize release notes, bump `VERSION` file, tag and push it. Do a `mapd-deps` build with the tag (`v3.4.0`).

---

Core: rearrange the RC branch to squash the bump commits. Remove `rc*` from version extra flags. Put in url for final docs build. Tag and push.

Recreate the final branch in the OS repo. Tag and push.

Submit builds to Jenkins:
- EE
- EE, time-limited
- CE
- EE, AWS
- EE POWER8
- EE POWER8, time-limited
- CE POWER8

Builds are done. Time to sign and push to the repos.

- run symlink and manifest update scripts on hoarder
  - verify all expected builds are there. If not, run those missing builds
  - copy manifest URLs to Download URLs wiki page, under both `latest` and in the version archive at bottom
- run rpm+deb package signing scripts
- run repo update scripts (usually get triggered automatically after signing packages)
- run docker image generation scripts
  - push to Docker Hub
- double check that AWS CE and EE instances are ok
- notify all the it's done.

---

Docs part II: run docs build a second time with the tag, this time selecting `make public`.,andrewseidl
Capturing this, because it underscores the advantages of having named feature branches of a development branch.
![image](https://user-images.githubusercontent.com/6788473/35063943-5c056bd0-fb7d-11e7-92a5-81826ea0fa49.png)
,DennisDawson
^^ 💯  this,micahstubbs"
Multi-measure integration details and side-effects,3652,,2018-01-08T16:33:29Z,2018-01-12T14:57:28Z,"## Description
This is a task for integration details, things that doesn't go into specific feature tasks but happens when integrating multiple of them. 

## Task breakdown
- [ ] Verifying chart switching (color/style, selection, disabled states)
- [ ] Verifying chart editor cancelling
- [ ] Verifying backward compatibility",biovisualize,,,
"Multi-measure line chart, phase 1",3650,,2018-01-08T15:17:15Z,2018-01-23T21:04:37Z,"## Description
As a user, I want to select multiple measures as data layers on a single continuous chart sharing a time dimension, so I can visually compare these measures to get some insights.

## Features specs
[Complete spec document](https://docs.google.com/document/d/1JFoEC1d0BUyQ49tBlF6dyIUB5h7osRqk72_rvd-KZzA/edit)

## Design specs
https://drive.google.com/drive/u/1/folders/10DIa58Z2Ko4hRCfol3ZoK3Lhu-SMVItS

## Scope
The line chart replacement is a prerequisite to this project, but is a separated effort.
* Single source
* Multiple axes
* Line style and color by measure

## Acceptance criteria
The feature is implemented following design/specs and delivered to clients.

## Task breakdown
- [ ] Multi-measure line chart #3651 
- [ ] Multi-measure selector #3547
- [ ] Multi-measure widgets and data layer #3595

## Estimates
The complete list of tasks from all issues is in [this spreadsheet](https://docs.google.com/spreadsheets/d/17soKzUYN6fHDpg1RlIi4MXbokJW3i4kLfx79f87K17o/edit#gid=1355057344), which is the source of truth and where estimates happen 
 
## Related issues
Relevant information can be found on related tasks:
* Line chart improvements (which got conflated to line2 development and multi-measure) #3200
* Attempt to document current line chart features #3330
* [Project in Jira](https://mapd-agile.atlassian.net/browse/MAPD-44?jql=project%20%3D%20MAPD%20AND%20%22Epic%20Link%22%20%3D%20MAPD-4)

## Related PRs
* Line chart integration (prerequisite to this task) #3573
* Start of multi-measure selector #3622",biovisualize,,,
improve developer productivity,3638,,2018-01-04T22:34:59Z,2018-03-16T19:40:41Z,"a list of improvements we could make to immerse that would enable us to ship features faster.

💡 ideas and contributions from other **mapd-immerse** devs are welcome!

- [ ]  deterministic routing - history router for immerse
- [x] libs as npm modules https://github.com/mapd/mapd-immerse/pull/3741
- [ ] hmr - hot reloading working as many places as possible (fix conflict between webpack hmr and mapdconnector that @clhenrick found)
- [ ] code auto-formatting with Prettier
- [ ] static types for javascript",micahstubbs,,,"@micahstubbs FYI the most recent version of HMR seems to conflict with settings for Istanbul / nyc as well.,clhenrick
👍 good to understand and document ,micahstubbs
this one should stay open - thanks @clhenrick ,micahstubbs"
Ensure Immerse passes the correct datatype on filters,3627,,2017-12-29T21:18:23Z,2017-12-29T21:18:23Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master 

Immerse should ensure that filter is the same type as the column.

As an example trip_distance < 30 and not trip_distance < 30.238238 because  the trip_distance filed is an INT.

If column is INT, the filter value should be INT and if column type is DECIMAL, the filter value should be DECIMAL with the same significant digits. 

Requested by Todd and needed for some performance improvement he did to reduce the memory size needed by group bys. And his fix only works if filter value is the same type as  column datatype.

## Issue Description

## Steps To Reproduce

## Expected Result

## Actual Result

## Link To Dashboard

## Screenshots

## Other Information",mythilimapd,enhancement,,
Regression: Any update to focus or range chart on chart with range chart fires unneeded update query for range chart,3625,,2017-12-27T22:31:44Z,2018-03-02T21:25:35Z,"To repro:

Build a line chart with dep_timestamp as dimension and # Records as measure on flights_123M.

Turn on SQLLogging.

On master, you'll see that any brushing of either the focus or range chart fires a refresh query for the range chart even though nothing is being updated on that chart. This does not occur in the 3.3.1 release.  

Running on my cpu build this significantly slows the entire dashboard down due to the heaviness of the range chart query.  

Did this by chance come about due to the dashboard refresh capability we added? Previously we had a cache to prevent hitting the backend with repeat queries that our dc charts often generate.",tmostak,"P1,bug,regression",,"This was broken by https://github.com/mapd/mapd-crossfilter/pull/43. With this commit, I get these queries for every single brush event:
```
""SELECT COUNT(*) as n FROM flights WHERE ((airtime >= -2556.8732394366198 AND airtime <= 1730.9577464788736))""
""SELECT MIN(airtime) as min_val, MAX(airtime) as max_val FROM flights ""
""SELECT MIN(airtime) as min_val, MAX(airtime) as max_val FROM flights ""
""SELECT cast((cast(airtime as float) - -3818) * 0.001638001638001638 as int) as key0,COUNT(*) AS val FROM flights WHERE (airtime >= -3818 AND airtime <= 3508) GROUP BY key0 HAVING key0 >= 0 AND key0 < 12 ORDER BY key0""
""SELECT cast((cast(airtime as float) - -3818) * 0.001638001638001638 as int) as key0,COUNT(*) AS val FROM flights WHERE (airtime >= -3818 AND airtime <= 3508) GROUP BY key0 HAVING key0 >= 0 AND key0 < 12 ORDER BY key0""
```
Once I revert it, I get:
```
""SELECT COUNT(*) as n FROM flights WHERE ((airtime >= -2059.8648068669527 AND airtime <= 1859.9120171673821))""
```
Reassigning to @nytai as he will know what this commit was fixing at the first place.,biovisualize
There doesn't seem to be an easy way to fix this one without breaking auto-refresh because of a coupling at the crossfilter level.
>Streaming has fundamentally altered the way we “don’t issue unnecessary queries” as that concept kind of is at odds with the current streaming implementation
There isn’t an easy fix that doesn’t break one. The real fix is probably to clean up the range chart so that it doesn’t issue that query at all, instead of relying to the cache.

@mythilimapd if we want to move on with the release, I think the choices you have are:
a) releasing with the multiple-querying problem
b) releasing with a partly broken auto-refresh (I don’t know how broken it is)
c) hide auto-refresh until we fix it
d) evaluate proper fixes to make both features work

Let us know how we can help you make a decision.,biovisualize
My recommendation is to release with **a)** and document the issue in release notes and work on **d)** as part of next sprint.


,mythilimapd
@biovisualize @mythilimapd so does this mean I should work on merging #3620 or not?
,menaczar
@menaczar I'm not sure I see how #3620 (enabling Raygun for enterprise) is related to this issue. But it means that we can keep this issue and remove the release blocker label.,biovisualize
@biovisualize I will leave this assigned to you and have you see this through completion. Perhaps your refactor will solve it. ,mythilimapd
The issue here is that the cache used to catch these queries, which meant we could _not issue unnecessary queries_ . dc code is lettered with redraw/render invocations throughout the code so cleaning up these unnecessary queries without relying on the cache is hard. When streaming was introduced the cache needed to get busted in order to update charts with new data (using the same query). The proper solution to this is probably to audit the range chart/line chart relationship and add more checks to make sure that no unnecessary render/redraws are called (again this is hard with streaming because you have to issue the queries blindly). We could disable the cache busting on the line/rage chart update, however that would mean that the range chart wouldn't update beyond the initial rendered extent.  ,nytai
@biovisualize would this be addressed through your refactor ? This along with #3631 is marked as regression. ,mythilimapd
@mythilimapd We don't see a path for this to go into 3.6. The line2 chart doesn't have this problem, but histogram will still have it.,biovisualize
I am guessing we wont be fixing this in this release. We can continue to document it in release notes and discuss it for next release.,mythilimapd"
Auto refresh gets stuck during overnight test,3618,,2017-12-21T00:21:07Z,2018-02-27T18:55:46Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description
During an over-night test, auto refresh stuck at numbers that don’t match the actual rows available. Auto refresh icon is also in the state of refresh without stopping and not firing any network calls

## Link To Dashboard
http://immerse-master.prod.frontend.builds.mapd.com/#/link/mapd/d8ebb949

## Screenshots
![auto-refresh](https://user-images.githubusercontent.com/10747240/34234707-925fb4ca-e5a1-11e7-86cb-e13e8f66b974.jpg)


## Other Information",Davidiskander,"bug,needs info",,"I got this error on the log:
Failed to load resource: net::ERR_NETWORK_CHANGED,menaczar
Grabbed this logs file from the crashing browser with over night test
[data_dec_21_2017.har.zip](https://github.com/mapd/mapd-immerse/files/1580824/data_dec_21_2017.har.zip)
,Davidiskander"
immerse should use next open port if 8002 is in use,3611,,2017-12-18T20:33:46Z,2017-12-21T18:59:51Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description

this would enable devs to run multiple instances of local immerse.  this would make it easier to review pull requests and working multiple different **mapd-immerse** branches simultaneously

## Steps To Reproduce

## Expected Result

## Actual Result

## Link To Dashboard

## Screenshots
![screen shot 2017-12-18 at 12 32 13 pm](https://user-images.githubusercontent.com/2119400/34126759-8f435246-e3ef-11e7-8a29-d785d5536c64.png)


## Other Information",micahstubbs,tech,,"@micahstubbs you could modify the `npm start` script in `package.json` to change a different port., e.g. `PORT=8003`. Do you know of a way to have Webpack or Node do this automatically though?,clhenrick
yea, I've seen it done automatically before.  would need to research how exactly we accomplish that.,micahstubbs"
Add support for comparison operators  in global filters for strings ,3609,,2017-12-18T19:24:10Z,2017-12-18T19:24:54Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description

## Steps To Reproduce

## Expected Result

## Actual Result

## Link To Dashboard

## Screenshots

## Other Information
",mythilimapd,enhancement,,"@Davidiskander , @VrajPandya @niviksha  - FYI,mythilimapd"
add support for mapdql commands to the SQL Editor in Immerse,3607,,2017-12-15T19:19:55Z,2018-03-16T19:40:41Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev


As an immerse user I would like to be able to issue all commands that mapdql  supports so I can get metadata information like list of tables, list of views, table metadata etc without having to leave Immerse.

We should support the following commands from SQLEditor in Immerse

**\t**  - list tables
**show tables** (alias to \t)
**\v** - list Views
**show views** (alias to \v)
**\d [table] or [view]** - describe table columns
**describe [table] or [view]**  (alias to **\d [table]** & **\d [view]**)
**\gpu**
**\cpu**
**\timing**
**\notiming**


We do **NOT** need to support the following commands from SQL Editor
**\l**  - list databases (since we don't allow switching databases from Immerse)
**\q** - quit
**\u**  - list users

**Note:**  Unlike SQL statements, backslash commands do not require a terminating semicolon character.


For reference, mapdql documentation
https://www.mapd.com/docs/latest/mapd-core-guide/mapdql/

![mapdql commands](https://user-images.githubusercontent.com/29928117/34073649-bc0f9e7c-e252-11e7-9064-b1d30732bed4.png)


## Issue Description

## Steps To Reproduce

## Expected Result

## Actual Result

## Link To Dashboard

## Screenshots

## Other Information
FYI note https://github.com/mapd/mapd-core/issues/138, which is about to get picked up as a code test by a candidate.  If this is done correctly it would have a backend implementation usable by sql editor too.",mythilimapd,,,"@micahstubbs assigned to you. This will make the SQLEditor end user experience a whole lot richer. We get asked a lot for this to work from SQL Editor from our users.,mythilimapd
nice, thanks for documenting this one!,micahstubbs
| mapdql command | thrift endpoint | notes |
| --- | --- | --- |
| `\h` | none | client-side |
| `\t` | `get_physical_tables` / `get_tables` | first is only actual tables, second includes views but may be slow |
| `\v` | `get_views` / `get_tables` | first is only actual views, seconds includes tables |
| `\d [name]` | `get_table_details` | |
| `\gpu` | `set_execution_mode(session, TExecuteMode.GPU)` | |
| `\cpu` | `set_execution_mode(session, TExecuteMode.CPU)` | | 
| `\timing` | none | client-side, displays `execution_time_ms` and `total_time_ms` from a `TQueryResult` |
| `\notiming` | none | client-side |,andrewseidl
Noting that Verizon has requested this:

![image](https://user-images.githubusercontent.com/6662267/35738042-9a43301e-07fb-11e8-84b8-29bbb6e59abe.png)
,miiklay
I have a suggestion for these functions, rather than rebuild them in the SQLEditor we introduce a `SHOW` sql-ish command in mapd core which both sqleditor and mapdql can use
,dwayneberry"
"add zoom buttons to geo maps, fix scrolling bug",3605,,2017-12-15T00:13:55Z,2018-01-15T01:24:03Z,"## General Info
use zoom buttons (standard on [Google maps](https://www.google.com/maps) and other web mapping services) to zoom in/out incrementally, and possibly also double click on the map to zoom in.

![google_maps](https://user-images.githubusercontent.com/2119400/34923322-a8760734-f94f-11e7-8eae-ea4d7228b2b0.png)




## Issue Description

## Steps To Reproduce

## Expected Result

## Actual Result

## Link To Dashboard

## Screenshots



## Other Information

original issue text: 
~~As a user interacting with a multi-chart dashboard on a device with a small screen (laptop), I might need to scroll down to see additional charts in my dashboard. However, my mouse wheel scroll gets intercepted by the map and instead of scrolling, the map zooms in/out. I'd prefer to~~ 
use zoom buttons (standard on Google maps and other web mapping services) to zoom in/out incrementally, and possibly also double click on the map to zoom in.",clhenrick,"enhancement,feature",,"Another option could be a button within the chart settings to enable mouse wheel zooming. Some users really like this UX, but I've found it to be problematic when your webpage also needs to scroll vertically.,clhenrick
@mythilimapd wondering if you have thoughts on this, perhaps the mouse wheel is not a problem for most users? Has anyone complained / asked for zoom buttons on the map charts?,clhenrick
As an avid user of MapD I’m a big fan of mouse zooming. Perhaps there’s a way where we can intercept zoom events that originate off chart instead to prevent undesired behavior. ,tmostak
@clhenrick I don't think we should disable the mousewheel. A lot of our users use the mousewheel to zoom .  All BI/analytics tools allow the use of mouse wheel for zooming and expose a ""+"" and ""-"" controls on hover. Could we do both? 

Here is an image of Tableau and its map controls. They allow zooming both through mouse wheel and the +/-.

![tableau map controls](https://user-images.githubusercontent.com/29928117/34264850-04cfb2ee-e629-11e7-857f-d73e6f5e5d6b.png)


,mythilimapd
Sounds like mousewheel zoom is a feature that should stay. 

Perhaps we should consider offering traditional zoom buttons (+/-) as in the screenshot of Tableau above? They can be useful if you want to zoom by discreet intervals rather than by an arbitrary range, which is a UX friendly feature —especially if you have a twitchy mouse wheel.,clhenrick
took the liberty of updating the issue title based on the conversation so far.  I showed the [ships demo](https://www.mapd.com/demos/ships/#/dashboard?_k=f8pejz) this morning at a meetup and my meetup friend got stuck pinch zooming on a macbookpro trackpad,micahstubbs
created a new issue just for the scroll bug **page scroll user intent should not be confused for map zoom** https://github.com/mapd/mapd-immerse/issues/3692,micahstubbs"
human-readable url querystring: replace hash routing with deterministic browser history routing,3604,,2017-12-14T23:18:23Z,2018-06-04T19:22:46Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description

## Steps To Reproduce

## Expected Result

## Actual Result

## Link To Dashboard

## Screenshots

## Other Information
",micahstubbs,enhancement,,"some background from slack 

![screen shot 2017-12-14 at 3 21 07 pm](https://user-images.githubusercontent.com/2119400/34019176-71e9c9f6-e0e2-11e7-80a9-f9d063079f5f.png)

https://mapd.slack.com/archives/C02QMNKU8/p1513289277000210,micahstubbs
Related discussion from #4601:

>tmostak:
Not sure its related but anyway we can remove everything after the ""?"", say in the url here: http://immerse-4601.dev.frontend.builds.mapd.com/#/dashboard/1444?_k=iz4vn7 ?

>jrajav
@tmostak That's necessary as long as we use hash routing (with the # starting the path), in order to enable a shim for back/forward browser history that doesn't normally work with hash paths.
What we need to do is switch back to normal browser history with / paths, but that requires us to confirm that it will work with mapd_web_server which needs to serve back /index.html for every path.
Based on this historical issue, seems like that might already be the case? (#3604) Would require just a bit of investigation, but definitely might be worth it to clean up the visible url's even more.,biovisualize"
Webpack HMR seems to be broken,3590,,2017-12-11T17:57:23Z,2017-12-11T18:06:50Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description
I've noticed that when updating either CSS or changing the JSX of a component, HMR doesn't appear to have an effect and I need to reload the page to see the changes. When / if we upgrade Webpack this would be a good feature to fix.

## Steps To Reproduce

## Expected Result

## Actual Result

## Link To Dashboard

## Screenshots

![webpack-hmr-fail](https://user-images.githubusercontent.com/161748/33845766-58a591a4-de59-11e7-9962-db24d92f4416.gif)


## Other Information
Concerns frontend dev build process, not end user experience or interface.",clhenrick,,,"Although I did get this error from React Router, so maybe that is preventing the update?
```
Warning: [react-router] You cannot change <Router routes>; it will be ignored
```,clhenrick"
CSS from mapd-charting is compiled twice?,3586,,2017-12-08T23:33:33Z,2017-12-08T23:40:48Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description
When working on the text select of the table column names I noticed that CSS for parts of the table elements are showing up twice. This is evident if you use the web inspector and select an element from the table chart.

## Steps To Reproduce

## Expected Result

## Actual Result

## Link To Dashboard
http://immerse-master.prod.frontend.builds.mapd.com/#/link/mapd/b53cbd95

## Screenshots
<img width=""498"" alt=""screen shot 2017-12-08 at 3 32 35 pm"" src=""https://user-images.githubusercontent.com/161748/33789409-0d71912a-dc2d-11e7-93c4-9664e191edda.png"">


## Other Information
My hunch is that this is a webpack configuration issue",clhenrick,,,"Ah, indeed. Issue I believe has to do with webpack bundling charting for us. We require in mapdc.scss in charting and we also include the dist in immerse. We used to have a separate process for css builds, but it looks like we're using [webpack + extract text](https://github.com/mapd/mapd-charting/blob/master/webpack.config.js#L54) and requiring it in [index.js](https://github.com/mapd/mapd-charting/blob/master/src/index.js#L2) as well as the dist in [immerse](https://github.com/mapd/mapd-immerse/blob/master/src/styles/index.js#L3). We could probably remove the immerse require, unless order matters.   ,nytai"
Immerse Developer Documentation,3584,,2017-12-08T19:07:20Z,2017-12-08T19:07:20Z,"Relates to #418 #2901 (possibly others?)

It seems that we should document how the codebase is _generally_ structured and how 3rd party libraries are integrated so that new developers being on boarded have a guide for understanding the code, knowing where to look when it comes to various types of bugs, and so that there is knowledge sharing between developers who are already familiar with the code and those are not as familiar.

I know that there are systems for generating documentation from source code such as documentation.js, but it seems like it may be too great of a pain point to keep comments up to date, not to mention commenting the existing code. Perhaps a more pragmatic and temporary solution would be to have a Google Doc that serves as a basic outline of how everything fits together? 

I started one based on notes I took during a call with @biovisualize where he walked me through a good part of the code. Please feel free to comment on and add to it, but note that this is meant to be a resource for the Immerse front end team, not the general public, at least for now:

https://docs.google.com/a/mapd.com/document/d/11h8bHFf9AlszNcD95zPsx_PtLB-DH81YtPmcR8qFlBs/edit?usp=sharing",clhenrick,enhancement,,
"[Licensing][Phase II]Connect Immerse, Salesforce, GA",3578,,2017-12-07T14:26:58Z,2017-12-11T15:21:17Z,"## User story
As a MapD business decider, I want to be able to track usage and other information directly in Salesforce, so I can use that information in the Salesforce analytics pipeline as well as use the Salesforce UID in Google Analytics (GA)

## Techical specs
We currently use GA for tracking, but we will switch to Segment (task #3546). Once this is done, we will use the Segment Salesforce integration to complete the data connection.

## Acceptance criteria
* Connect Segment data with Salesforce",biovisualize,,biovisualize,
IE: collapsed legends icon on scatter chart is blank,3574,,2017-12-05T20:07:08Z,2017-12-05T20:17:46Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description
IE: collapsed legends icon on scatter chart is blank

## Steps To Reproduce
Create a scatter chart on IE 
collapse the legends

## Expected Result
Should see the collapsed icon

## Actual Result
You get a blank box

## Link To Dashboard
master
## Screenshots

## Other Information
",menaczar,"P3,bug",,"Wasn't this the same issue found on Firefox that was marked `release-blocker` (#3553). Seems like the criteria for determining blockers is not consistent. 

Additionally, not to complain too much, but it'd be helpful if, in the future, we test all browser-specific bugs across all browsers in the same sitting. Filing a separate instance of the bug, spaced ~1 week apart, for different browsers doesn't seem like a productive strategy for getting features out the door. 

I understand wanting to handle MS browsers separately (especially since it requires changing machines), however browser-specific bugs often cause issues across more than one browser, so testing the bug across all browsers makes sense, just like fixing the same bug across all browsers makes sense. ,nytai"
Rendering a Choropleth on MSD will create a non-recoverable error,3562,,2017-11-30T23:25:37Z,2017-11-30T23:28:11Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Steps To Reproduce

Have your console open.

1) Goto http://immerse-master.prod.frontend.builds.mapd.com/
2) New Dashboard.
3) Add Chart
4) Datasource = flights_123M; Dimensions = Origin_State; Measures = # Records
![image](https://user-images.githubusercontent.com/2932405/33460195-e09c8688-d5e1-11e7-8537-968cede9d5c1.png)

5) Go to Choropleth
6) Select State from Dropdown under GEO JSON Join
![image](https://user-images.githubusercontent.com/2932405/33460239-0d46494e-d5e2-11e7-9e8c-bb6624d9f2ff.png)

7) It will Render properly, but create this error:
![image](https://user-images.githubusercontent.com/2932405/33460263-2c5f1306-d5e2-11e7-9962-78cd5a606942.png)

------------------------

If you try and change Sources

![image](https://user-images.githubusercontent.com/2932405/33460278-42628b1a-d5e2-11e7-89a9-3d9712d298d2.png)

Or go back to Dashboards

![image](https://user-images.githubusercontent.com/2932405/33460282-4a77f0f6-d5e2-11e7-8596-9e5ca64f949e.png)

**It will not work.**",MarcBalaban,,,"This is the unobfuscated bug:
![image](https://user-images.githubusercontent.com/2932405/33460460-0ad4975a-d5e3-11e7-9dc6-735f2f78a8b9.png)
,MarcBalaban"
[Tutela] Popup for geo-heatmap ,3558,,2017-11-30T20:54:05Z,2018-04-25T16:56:48Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

As an Immerse user I would like to hover over a hexagonal bin in a geo-heatmap so I can view details about the bin or the point.

This user story requires backend rendering work from Chris R's team.

## Issue Description

## Steps To Reproduce

## Expected Result

## Actual Result

## Link To Dashboard

## Screenshots

## Other Information
",mythilimapd,"customer,enhancement",,"I don't know if it necessarily needs backend work from @vastcharade.  I believe that functionality should already be there -- it likely just needs the getRowsForPixels bindings on the frontend.,MarcBalaban
Hit-test capability already exists on the backend for this.
What's needed is FE work, probably in https://github.com/mapd/mapd-charting/blob/master/src/mixins/raster-layer-heatmap-mixin.js
It might require some UI re-engineering too - the idea behind hit-testing heatmap-like queries (aggregates/group-bys) is that you can only hit-test data that exists in the query itself. So unlike project queries where you can grab data from any column in the table, with aggregate queries your confined to only the data in the query.,vastcharade
Thanks @vastcharade , @MarcBalaban ,mythilimapd"
Line chart cancel is baaaack!,3557,,2017-11-30T00:00:48Z,2017-11-30T00:12:27Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description
Line chart cancel is baaaack!

## Steps To Reproduce
Create a line chart or histogram.
Flights, depdelay , arrdelay 
Apply
got to edit turn on range chart
cancel

## Expected Result
should cancel without any problems 

## Actual Result
Flying labels

## Link To Dashboard
Master

## Screenshots
![nov-29-2017 15-51-57](https://user-images.githubusercontent.com/16374964/33405697-4808c1de-d51e-11e7-956b-fda8f7b58161.gif)

## Other Information",menaczar,"P2,bug",,"It's not clear by looking at #3423 (which is unassigned) that it was ever fixed.,biovisualize
this cancel issue is different from the one cited in #3423,mrblueblue"
Removing series on line charts breaks histogram and cant recover.,3555,,2017-11-29T23:38:38Z,2017-12-30T15:11:56Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description
Per @duhoang 
Removing series on line charts breaks histogram and cant recover.

## Steps To Reproduce
Create a line chart
Tweets, tweet_count, origin, #records 
apply
go to edit
clear series
switch to histogram

## Expected Result
Histogram should render normally as its almost the same as the line chart

## Actual Result
give and error and cant recover

## Link To Dashboard
Master

## Screenshots
![nov-29-2017 15-30-18](https://user-images.githubusercontent.com/16374964/33404991-5c3aabd4-d51b-11e7-8278-3fd63f8c81a8.gif)


## Other Information",menaczar,"P2,bug",,"Using these same steps, the line chart is also not rendering properly the first time:

<img width=""390"" alt=""screen shot 2017-12-30 at 9 54 40 am"" src=""https://user-images.githubusercontent.com/824534/34455226-75fd4956-ed48-11e7-9421-c8ee607dcb14.png"">

There's no error in the console. Here's the last SQL query that works for the line chart before switching to histogram, which fails before sending its query:

`
""SELECT cast((cast(tweet_count as float) - -1) * 0.000002472846089235124 as int) as key0,COUNT(*) AS val FROM tweets_2017_may WHERE (tweet_count >= -1 AND tweet_count <= 4852707) GROUP BY key0 HAVING key0 >= 0 AND key0 < 12 ORDER BY key0""
`
,biovisualize"
Multi-source multi-measure line chart,3551,,2017-11-29T18:00:23Z,2018-06-03T16:15:55Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev


As an immerse user I would like to be able to create a multi-measure line chart from different sources so I can visualize the different measures over time in a single view. As an example, as a salesperson I would like to see what my quarterly achievement is against my quota. My quote data is stored in a different table and my actuals coming from salesforce and loaded into MapD.


## Issue Description

## Steps To Reproduce

## Expected Result

## Actual Result

## Link To Dashboard

## Screenshots

## Other Information
",mythilimapd,"Epic,IQT,customer,feature",,"Task for phase 1 is here: #3650,biovisualize
We need to wrap this up in 4.1 for IQT Work Program phase 2. Summary of what's needed - Base this on the Combo chart, but add the ability to support multiple sources and select common dimensions across these sources.
- [ ] Need to be able to select multiple sources as layers in the Combo chart (UX identical to the multi layer geo charts)
- [ ] Need to be able to identify and select a common dimension across these layers. InQTel's specific and minimal need is to be able to select the time dimension, but as @tmostak pointed out, we should be able to select _any_ binned dimension as common across these layers. Each layer should support more than one measure just like the Combo chart already does today
,niviksha
@Christian-Baptiste can you please add your latest designs here when ready? thanks!,niviksha"
Use Segment for tracking,3546,,2017-11-28T15:22:51Z,2018-06-08T18:38:30Z,"## User story
As a business decider, I want to track what features are used so I can make data-driven decisions. I need a central place to collect them that doesn't get me stuck in a specific app or workflow.

## Motivation
We already use Google Tag Manager (GTM) for stats in Google Analytics (GA). But We are limited in the number of custom dimensions, on data types and on analytics power. Also, we want to use this data in other tools (Salesforce, Immerse).

## Technical specs
We will evaluate [Segment](https://segment.com/) to collect the data in a db and pipe it to any analytics tools. Our tracking instrumentation in Immerse is generic enough that we could switch it to Segment (piping Segment to GA) or send data to both. But we also want to try instrumenting the code as a clean [Redux middleware](https://redux.js.org/docs/advanced/Middleware.html).

## Acceptance criteria
* Segment db
* Code instrumentation with Segment for collecting the data currently sent to GA
* Pipe data to GA
* Documentation of Segment capabilities",biovisualize,"feature,mapd-cloud",biovisualize,"It’s important here that we don’t have any disruption or change In what we are measuring in GA, as that’s our long term yard stick on traction. ,tmostak
@mythilimapd discovered that the Raygun piping is broken. We will most probably send the error reporting to Segment as well. But if we figure out that we can fix it independently without having to wait for the Segment integration, we will split it to a separate issue.,biovisualize
@jrajav found this nice Segment Redux Middleware https://github.com/rangle/redux-segment,biovisualize"
IML - Priority Issues,3535,,2017-11-26T22:07:10Z,2018-03-16T19:40:40Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description
Creating an issue to track : https://github.com/mapd/interactiveML/issues/121

## Steps To Reproduce

## Expected Result

## Actual Result

## Link To Dashboard

## Screenshots

## Other Information",wamsiv,bug,,
IML - pairs plots in immerse,3534,,2017-11-22T01:14:02Z,2017-11-22T01:14:58Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description

enhancement idea 💡  add brushable pairs plots to explore correlation to immerse

https://bl.ocks.org/mbostock/4063663

and for very large datasets we could use some binning strategy:
https://bl.ocks.org/micahstubbs/03554bbf31c1df77cfde

also called a scatterplot matrix

## Steps To Reproduce

## Expected Result

## Actual Result

## Link To Dashboard

## Screenshots

something like this 

![screen shot 2017-11-21 at 5 13 46 pm](https://user-images.githubusercontent.com/2119400/33104883-5af25494-cedf-11e7-8811-b8c4fe0d2504.png)


## Other Information",micahstubbs,"component-iml,enhancement",,"documenting idea from conversation with @tmostak ,micahstubbs"
Refresh Menu suggestions,3531,,2017-11-21T19:57:53Z,2017-11-27T17:52:34Z,"* I should be able to just click the Refresh icon and refresh the dashboard, rather than have to click ""Refresh Now""
* ""Refresh Now"" should be a button or rectangle, not link text, so that I don't have to be right on the text to click it.
* The selected interval should remain highlighted after the menu closes.",DennisDawson,,,"**I should be able to just click the Refresh icon and refresh the dashboard, rather than have to click ""Refresh Now""**

You can do that.

**Refresh Now"" should be a button or rectangle, not link text, so that I don't have to be right on the text to click it.**

Perhaps talk to design about it.  It looked quite bad with a button around it.

**The selected interval should remain highlighted after the menu closes.**

It does -- unless you're referring to something else.
![image](https://user-images.githubusercontent.com/2932405/33101177-114b1168-cecc-11e7-8593-f8604a2652a9.png),MarcBalaban
If I can click the icon without selecting Refresh Now, there's no reason for the Refresh Now link text. It's not obvious that clicking the refresh icon works, because the menu pops up instantly, making it seem as if all I've done is re-open the menu.  When I click Add Filter, it adds a bar with a button on it. It's weird that another icon behaves so differently in the same UI. I would expect the auto-refresh settings to be on the Refresh menu, or as a subordinate drop-down menu, not another clickable menu on a menu. The selected interval is displayed on the icon, and it is shown in the menu, but the selected item isn't highlighted until you open the menu. I can't figure out whether we are being innovative or inconsistent - things that I feel should be intuitive are not intuitive to me, and I am not new to GUI-WIMP interfaces.,DennisDawson"
IML - nice support for interactive partial dependence analysis,3522,,2017-11-20T17:39:31Z,2017-11-20T18:44:08Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description

Consider building first-class support for interactive partial dependence plots like those shown by the researchers at the VW Data Lab.

1) gather training data
2) train XGBoost GBM model
3) use XGBoost model to generate predictions for entire feature space (all points not already occupied by existing training data)
4) (do something in h2o?)
5) load feature space data into MapD
6) build partial dependence dashboard

""many models are built, but not many are taken live""

@ghorbani_asghar
@drizham

GOAI (Mapd + pygdf) + additional data science GPU based packages
https://github.com/a-ghorbani/docker-goai

## Steps To Reproduce

## Expected Result

## Actual Result

## Link To Dashboard

## Screenshots

![screen shot 2017-11-20 at 9 20 09 am](https://user-images.githubusercontent.com/2119400/33033817-aa653272-cdda-11e7-9000-945f046ea483.png)
![screen shot 2017-11-20 at 9 26 14 am](https://user-images.githubusercontent.com/2119400/33033842-bfaca0ac-cdda-11e7-8b48-cf86f3473bb0.png)
![screen shot 2017-11-20 at 9 33 41 am](https://user-images.githubusercontent.com/2119400/33033851-c7390b62-cdda-11e7-9c55-1c8a58b5ccc9.png)

Thanks everyone that joined the Tech Talk with VW this morning. For anyone that missed it, here’s the recording: https://drive.google.com/a/mapd.com/file/d/1Q8R1Opt2clhxDnP6xl2bFGhRKdc0TFSv/view?usp=sharing

## Other Information",micahstubbs,component-iml,,
IML - even when the training is complete the FE is stuck on training bar,3520,,2017-11-18T17:37:09Z,2018-03-16T19:40:39Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description

## Steps To Reproduce

## Expected Result

## Actual Result

## Link To Dashboard

## Screenshots

<img width=""614"" alt=""screen shot 2017-11-18 at 9 38 08 am"" src=""https://user-images.githubusercontent.com/2119400/32983097-5a291e00-cc44-11e7-9748-ce98b351c67a.png"">
<img width=""596"" alt=""screen shot 2017-11-18 at 9 38 45 am"" src=""https://user-images.githubusercontent.com/2119400/32983098-5a3f314a-cc44-11e7-827c-c480243eaa14.png"">


## Other Information",micahstubbs,"bug,component-iml",,"Attaching `log` file
[log.log](https://github.com/mapd/mapd-immerse/files/1484859/log.log)
,wamsiv"
On multi-layer geo charts ability to allow a title per layer,3513,,2017-11-17T21:24:17Z,2018-03-16T19:42:03Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev
On multi-layer geo charts we should allow a title per layer.

For example if I have 2 layers, I would like to name the first layer as `Flights` and second layer as `US population` and the master by default will be concat of titles from all layers (something like `Flights & US Population`) 

Today you can only have a single title that applies to all layers.


## Issue Description

## Steps To Reproduce

## Expected Result

## Actual Result

## Link To Dashboard

## Screenshots

## Other Information",mythilimapd,enhancement,,"@nytai - not urgent but would be nice to have this flexibility with chart titles on multi-layers.

@menaczar, @Davidiskander - FYI,mythilimapd
will add additional requirements on edge cases later

Some cases to consider:
1. Do we need to truncate titles at a certain length.
2. What to do when a user edits the title of a layer or the whole chart? Do we do a combination of auto and user input, do we just take the user input. ,mythilimapd"
Support for Funnel chart in Immerse,3509,,2017-11-17T14:30:04Z,2018-04-05T16:58:08Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

**Available for all editions - Community and Enterprise**

## Issue Description

Customer request: https://mapd.zendesk.com/agent/tickets/214

## Steps To Reproduce

## Expected Result

## Actual Result

## Link To Dashboard

## Screenshots

## Other Information",mythilimapd,"NVIDIA-GFE,customer,feature",,"@mythilimapd tagging into 4.0 - let me know if this is ok,niviksha"
IML - Display R-squared error instead of RMSE's for Linear and Logistic Regression,3507,,2017-11-16T21:32:51Z,2018-03-16T19:40:39Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description
Currently the Immerse Training completed screen is showing RMSEs value for all the algorithms. Should parameters actually received from the backend. 

## Steps To Reproduce
1. Select `Linear Regression` algorithm
2. Fill the parameters  and click on train
3. After completion, you can see null values in RMSE fields

## Expected Result
Should be able to see `Accuracy` returned from backend

## Actual Result
Null values in RMSE fields, No Accuracy.

## Link To Dashboard
http://immerse-3467.dev.frontend.builds.mapd.com/?dburl=bewdy.mapd.com:9999&mlport=58306&mltimeout=1800000#/?_k=bziktp

## Screenshots
![screen shot 2017-11-16 at 13 17 33](https://user-images.githubusercontent.com/13969177/32916764-df3b9240-cad1-11e7-8c57-1eed97532aa3.png)

## Other Information",wamsiv,"bug,component-iml",,"Instead of grouping model metrics in trained complete response, wouldn't it be easier to just display only the metrics which are not null. Place the check something like `stats['valid_rmse'] != Null`. @micahstubbs let me know your thoughts?,wamsiv
yea, I don't think that's easier for the front end.  I will make an example of the json model metrics response that I'd like to see 😄 ,micahstubbs
what I want to be able to do on the front end is to take all of the keys of a `modelMetrics` object in the API response and render each model metric in the UI, without the UI knowing any about any  specific model metric like `RMSE`.

That way, when I train a model by specifying the algo, the API will give me back _all_ the model metrics that are produced by that algo when training is completed.   The idea is that without any special knowledge on the front-end, I can then just render the metrics that the API sends.

What I've seen before is that this makes it easier to add new algos to the backend (to the IML server) without having to update the front-end.
,micahstubbs
Ok. Let me implement that from BE. Thanks for clarifying!,wamsiv"
"Heat chart; when the dimension is time, selecting row only highlights the max value in row",3490,,2017-11-15T00:28:01Z,2017-11-15T00:28:01Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description
Heat chart; when the dimension is time, selecting row only highlights the max value in row

## Steps To Reproduce
Create a heat chart with time dimension
select a row

## Expected Result
the row should be highlighted 

## Actual Result
Only max is highlighted
## Link To Dashboard

## Screenshots

## Other Information
",menaczar,"P2,bug",,
IML - Immerse should provide a useful default model name,3483,,2017-11-14T01:38:36Z,2017-11-14T01:41:19Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description

Immerse should provide a useful default model name that would allow the user to one-click save a trained model.

perhaps something like `${dataset}${algo}${target}${timestamp}`

## Steps To Reproduce

## Expected Result

## Actual Result

## Link To Dashboard

## Screenshots

![screen shot 2017-11-13 at 5 37 14 pm](https://user-images.githubusercontent.com/2119400/32758453-61571910-c899-11e7-96c7-076672e8936b.png)


## Other Information",micahstubbs,,,
"PS: `Connect to Table` button placement is not intuitive, can click `Import Data` accidentally",3481,,2017-11-14T01:19:02Z,2017-11-14T01:21:27Z,"## General Info
- **Platform**: Mac
- **Browser Name**: Chrome 62
- **Browser Version**:  
- **Application Version**: `feature/grid-based-iml-layout` (should be true on `master` as well)

## Issue Description

As a user, after I select a table to import, I am in a hurry to analyze my data, and want to click the nearest big green inviting button.  in the current design, that button is `Import Data`, which does not do what I want. 

I have to look down the page to find the `Connect the Table` button.  This is extra friction and extra cognitive load for the new user.

will log this as an enhancement, so to distinguish `design bugs` from `engr bugs`.

## Steps To Reproduce

- open immerse
- click `New Dashboard`
- click inside the `Search` input box
- type the name of an existing table
- click the name of the desired existing table in the search results in the column below the `Search` input box
- click the big green button nearest to the `Search` input box

## Expected Result

clicking the nearest big green button shows me the data in the table.

## Actual Result

clicking the nearest big green button takes me to the `Import Data` screen, making me think that my table selection has been lost.

## Link To Dashboard

## Screenshots

![cursor_and_mapd_immerse_and_ml-conditions_js_ _dashboard-machine-learning](https://user-images.githubusercontent.com/2119400/32757803-2f33297c-c896-11e7-9387-69b705bd9bb1.png)


## Other Information",micahstubbs,"design,enhancement",,
IML - filter conditions not cleared when switching datasets ,3480,,2017-11-14T01:08:34Z,2018-03-16T19:40:38Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description

this bug only appears on branch `feature/grid-based-iml-layout`

## Steps To Reproduce

## Expected Result

## Actual Result

## Link To Dashboard

## Screenshots
![screen shot 2017-11-13 at 5 06 38 pm](https://user-images.githubusercontent.com/2119400/32757601-22c1e01c-c895-11e7-98f1-b3d310bde8e4.png)

## Other Information",micahstubbs,"bug,component-iml",,"this bug appears to only occur when you open a new dashboard after training models on a first dataset/dashboard pair.  when I start a fresh `map-immerse` instance, I do not experience this issue.,micahstubbs"
Error: Exception: expression before LIKE must be of a string type.,3477,,2017-11-13T21:19:34Z,2017-11-13T21:19:34Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description
Error: Exception: expression before LIKE must be of a string type.

## Steps To Reproduce
Create a global filter on tweets
choose tweet_token 
contains 
centeral

## Expected Result
Filter should work

## Actual Result
Error: Exception: expression before LIKE must be of a string type.


## Link To Dashboard

## Screenshots

## Other Information
",menaczar,"P2,bug",,
Changing from geoheat map to pointmap: Lon and Lat should transfer ,3476,,2017-11-13T21:13:54Z,2017-11-13T21:19:52Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description
Per Todd:
Changing from geoheat map to pointmap: Lon and Lat should transfer.

## Steps To Reproduce
Create a geoheat map: Lon, lat and #Records
Press pointmap 

## Expected Result
Lon Lat should transfer although they are dimensions vs measures 

## Actual Result

## Link To Dashboard

## Screenshots

## Other Information
",menaczar,"P2,bug",,
a category or class should be encoded using the same categorical color across charts,3472,,2017-11-10T22:26:42Z,2018-01-15T02:29:15Z,"...where possible.  this aids easy comparison between views.  

Notice in the screenshot how the category `Pleasure Craft` is represented by both teal and purple categorical colors

## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description

## Steps To Reproduce

## Expected Result

## Actual Result

## Link To Dashboard
https://www.mapd.com/demos/ships/#/dashboard?_k=920ocp

## Screenshots
<img width=""1269"" alt=""unify-class-color-encoding-1"" src=""https://user-images.githubusercontent.com/2119400/32681157-e981e988-c622-11e7-8520-cf6cd72ab708.png"">


## Other Information",micahstubbs,enhancement,,"That's a thing that we discussed and could get done in the Data Manager project, where we could have dashboard-wide data alias, data-color mapping, etc. A good example is in the Contributions dashboard, to have parties always using the same color. ,biovisualize
here is that political contributions dashboard https://www.mapd.com/demos/political-donations/#/dashboard?_k=l799bx

![screen shot 2018-01-14 at 6 29 01 pm](https://user-images.githubusercontent.com/2119400/34924536-d196e382-f958-11e7-9e70-98aab1b754c0.png)
,micahstubbs"
Flights demo: edit scatter chart and the size measure is ignored,3455,,2017-11-08T19:11:12Z,2017-11-08T19:11:12Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description
Flights demo: edit scatter chart and the size measure is ignored

## Steps To Reproduce
Go to flights demo
Edit the scatter chart

## Expected Result
Points should be sized correctly

## Actual Result
points are all small ignoring the size measure

## Link To Dashboard
Flights demo

## Screenshots

## Other Information
",menaczar,"P2,bug",,
"[Heat-map] when having a time type column on axis, can't highlight the whole row",3444,,2017-11-07T00:19:33Z,2017-11-07T00:19:33Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description

## Steps To Reproduce
- Go to minos, data set: nyc_yellow_taxi_2014
- D: payment_type, dropoff_time(bin by month)
- M: fare_amount
- Tap on Jun 2014

## Expected Result
The whole row for Jun 2014 is highlighted

## Actual Result
Only one box is highlighted

## Link To Dashboard

## Screenshots
![bug](https://user-images.githubusercontent.com/10747240/32470643-03a0fc04-c30e-11e7-98b9-2161dcae19ca.gif)

## Other Information",Davidiskander,"P3,bug",,
Cancelling on line chart clears custom colors,3443,,2017-11-07T00:02:27Z,2018-01-22T22:09:52Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description
Cancelling on line chart clears custom colors

## Steps To Reproduce
Go to any line chart
Create custom colors
Save
Edit chart and cancel

## Expected Result
Colors should remain

## Actual Result
custom colors are reverted

## Link To Dashboard
minos
## Screenshots

## Other Information
",menaczar,"P2,bug",,"@menaczar I can no longer reproduce this on master. Can I close this?,mythilimapd
@mythilimapd it's still there lemme make the steps more clear.,menaczar"
Creating a scatter chart expands all pie chart labels,3438,,2017-11-03T19:53:03Z,2017-11-03T19:53:03Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description
Creating a scatter chart expands all pie chart labels

## Steps To Reproduce
Create a pie chart
Create a scatter chart

## Expected Result
Pie chart labels should be truncated to fit

## Actual Result
All pie chart labels are expanded

## Link To Dashboard
minos

## Screenshots
<img width=""459"" alt=""screen shot 2017-11-03 at 12 40 05 pm"" src=""https://user-images.githubusercontent.com/16374964/32393226-e73b58b8-c095-11e7-9644-99d46579b625.png"">

## Other Information",menaczar,"P2,bug",,
Dashboard header should be docked ,3432,,2017-11-01T23:44:08Z,2017-11-01T23:44:08Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description
Dashboard header should be docked 
## Steps To Reproduce

## Expected Result

## Actual Result

## Link To Dashboard

## Screenshots

## Other Information
",menaczar,enhancement,,
Cancel button bugs,3423,,2017-10-30T20:11:26Z,2018-01-23T21:07:53Z,"**Number Chart**
- [x] Existing chart
- Open an existing Number chart in the edit mode
- remove the measures
- Tap Cancel
- Observed: Measure is cleared

**Bar Chart**
- [x] Toggling Null on existing chart
- Open an existing Bar chart
- Toggle NULL ON or OFF
- Tap Cancel
- Observed: Null state is saved

- [x] Changing # of groups on an existing chart
- Open an existing Bar chart
- Change # of groups
- Tap Cancel
- Observed: # of groups is saved

- [x] Changing color palette settings on an existing chart
- Open an existing Bar chart
- Change color direction of color palette
- Tap Cancel
- Observed: Updated color direction is saved

- [x] Sorting on an existing chart
- Open an existing Bar chart
- Change sort dimension or measure
- Tap Cancel
- Observed: Updated sort is saved

**PointMap Chart**

-  [ ] Switch from existing histogram chart to point map
- Open an existing histogram chart; Minos, laSchools, D: Measure_Values & Measure_Names, M: Campus
- Switch to point map
- Tap Cancel
- Observed: parent must be defined

~~- [ ] Filter from point map applies even if chart was not created~~
~~- Create a point map chart; Data: Flights, dest_lon, dest_lat, cancelled, airtime~~
~~- select a small section or zoom in~~
~~- Tap Cancel~~
~~- Observed: available number of rows is already filtered~~

~~- [ ] (This one has to come after the bug above) point map saves on pressing cancel button~~
~~- Create a point map chart; Data: Flights, dest_lon, dest_lat, cancelled, airtime~~
~~- Tap Cancel~~
~~- Observed: chart is saved on pressing cancel~~

**Line Chart/ Histogram**
- [ ] Cancelling after creating a chart
- Create a line chart
- Hit cancel before saving
- Go back and try creating a new line chart
- Observed: Can't add D or M

- [ ] Cancelling after editing chart with custom colors
- Create a line chart with custom colors
- Save
- Go back and edit chart
- Cancel with or without making any changes
- Observed: Custom colors are reverted to default",Davidiskander,,,"only number chart and pointmap issues are reproducible ,mrblueblue
@mythilimapd This is an Epic and ""in progress"", but is not assigned. I will let you decide where it should move.,biovisualize"
Sorting a table column re-renders all maps. Takes unnecessary longer time.,3418,,2017-10-26T20:30:56Z,2017-10-26T20:30:56Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description
Sorting a table column re-renders all maps. Takes unnecessary longer time.

## Steps To Reproduce
create an all chart dashboard
sort any column of a table chart

## Expected Result
Column should be sorted only

## Actual Result
Column sorts and all map charts are re rendered and takes up unnecessary long time

## Link To Dashboard
any
## Screenshots

## Other Information
",menaczar,"P2,bug",,
BE services for Immerse License Implementation,3416,,2017-10-26T16:25:44Z,2017-10-27T18:52:01Z,"Thrift calls for the 2 scenarios:
1. Upload license key from Immerse to BE
2. Ask BE for license key claims info",ashish5ahu,,andrewseidl,
Separate AMIs for community and enterprise,3415,,2017-10-26T16:21:45Z,2017-10-26T16:21:45Z,"Ensure that users cannot upgrade to enterprise via the community AMI. However, they should be able to trial enterprise on the community AMI.",ashish5ahu,,andrewseidl,
Unified Build for MapD offerings,3414,,2017-10-26T16:20:02Z,2017-11-17T22:40:45Z,"Unified build for community, and enterprise. Features are unlocked via license key",ashish5ahu,,andrewseidl,"Based on discuss with @andrewseidl, most IFDEF have been changed to ""if in license key then activate""
Change scripts yum, deb/apt and docker to unify SE and EE
@Davidiskander Need automated tests for checking installs for different OSes,ashish5ahu
Claims info based on email from @andrewseidl 
`
{
  ""allow_distributed"": false,
  ""allow_ha"": false,
  ""allow_ldap"": true,
  ""allow_rendering"": true,
  ""company"": """",
  ""edition"": ""enterprise"",
  ""email"": """",
  ""exp"": 1510267566,
  ""immerse_edition"": ""advanced"",
  ""is_aws"": false,
  ""is_trial"": true,
  ""name"": """",
  ""nbf"": 1510167566,
  ""num_gpus"": -1,
  ""num_nodes"": 1
}
`

I'll probably change `is_aws` to `vendor` which can be one of MapD (on prem / BYOL), AWS, GCP, Azure.
,ashish5ahu
Edition Matrix https://docs.google.com/spreadsheets/d/14FsXWEGhnWevOiu3ghueo5tDxt3uNJ0HrKWzOCeYVh8/edit#gid=1172757067

FAQ document

https://docs.google.com/a/mapd.com/document/d/14Bm6LvLrj5fofUH3DNoqTZFX-ECz5Den3wPT4_s9b_Y/edit?usp=sharing,ashish5ahu
@Davidiskander requests:
1. Sandbox for creating license key code: @andrewseidl will provide by Mon
2. Testing will use the matrix provided in the matrix from [spreadsheet](https://docs.google.com/spreadsheets/d/14FsXWEGhnWevOiu3ghueo5tDxt3uNJ0HrKWzOCeYVh8/edit?ts=5a0f6118#gid=1172757067)
3. Test coverage
4. Testing of license upload from Immerse and (via config) for Core,ashish5ahu"
Sales-Requested MapD Trial Key Flow,3413,,2017-10-26T16:18:37Z,2017-10-26T16:18:37Z,Allow someone from MapD sales to generate a license key on-demand from SFDC,ashish5ahu,,rebeccamapd,
User-Request MapD Trial Flow,3412,,2017-10-26T16:15:05Z,2017-10-26T16:15:58Z,"@ashish5ahu commented on [Thu Oct 26 2017](https://github.com/mapd/mapd.com/issues/597)

This story includes the following tasks:
1. Pardot landing page for MapD Trial request form
2. SFDC ID as Trial Key Requestor
3. SFDC or Pardot integration with MapD License key generator
4. Pardot email to user with trial key

https://docs.google.com/presentation/d/1Gu9X-V5KejwhDxoUIupKvcAW5Ly6u68S4iEzgJPoERM/edit?usp=sharing",ashish5ahu,,andrewseidl,
"Global filter icon not being ""activated"" for custom measure filter",3411,,2017-10-26T04:15:32Z,2018-03-21T15:57:22Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: 3.3.0rc3

## Issue Description
add a custom measure of rowid to a table chart, whne filtering on this row the global icon at top of screen for filters does nto get set 

## Steps To Reproduce
add a customer measure of rowid to table chart
select on of the rowid

## Expected Result
filter button at top of screen shouid be active
## Actual Result
no change
## Link To Dashboard

## Screenshots
![image](https://user-images.githubusercontent.com/4306442/32034775-92f01b86-b9c9-11e7-989b-0351916a19f1.png)

## Other Information",dwayneberry,"customer,hi-pri",,"Bump -- any word on this.  ,dwayneberry
@mythili this causes major issues at verizon with large datasets if all the filters are not cleared. ,dwayneberry"
Ability to shape by dimension in pointmap and scatterplot ,3407,,2017-10-25T17:26:18Z,2018-01-18T18:03:00Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

This user story is about bringing the features from Marc Balaban's custom web app - 

- Ability to select a shape for point map and scatter plot
- Ability to ""Shape By"" dimension - similar to ""Color by Dimension""


## Issue Description

## Steps To Reproduce

## Expected Result

## Actual Result

## Link To Dashboard

## Screenshots

## Other Information
",mythilimapd,,,"[this PR](https://github.com/mapd/mapd-charting/pull/114) in charting enables ability to change point shape in the point vega-lite spec,mrblueblue
[This PR](https://github.com/mapd/mapd-immerse/pull/3420) adds the control to immerse, completing the first requirement:
- Ability to select a shape for point map and scatter plot

The second will require aggregations be implemented beforehand. ,nytai
labelling as blocked since we are waiting for aggregations,mrblueblue
@mythilimapd This one is ""in progress"" but unassigned,biovisualize"
Null state for Line Chart,3405,,2017-10-24T22:48:49Z,2017-10-25T16:55:02Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description

## Steps To Reproduce
- Create a dashboard
- Create a line chart
- Add a global filter on the dashboard that will make line chart disappear; perhaps time range that has no data
- Observe the x-axis and y-axis values

## Expected Result
x-axis min = 0
x-axis max = 0
y-axis min = 0
y-axis max = 0

## Actual Result
x-axis min = NaN-NaN-0NaN
x-axis max = NaN-NaN-0NaN
y-axis min = NaN-NaN-0NaN
y-axis max = NaN-NaN-0NaN

## Link To Dashboard

## Screenshots

![screen shot 2017-10-24 at 3 15 22 pm](https://user-images.githubusercontent.com/10747240/31971903-cbd66a92-b8d2-11e7-96fe-70b1b9377d22.png)

## Other Information",Davidiskander,"P3,bug",,"@biovisualize will this be fixed in the new line chart?,Davidiskander
Yes, null state is on the feature list,biovisualize
Thanks @biovisualize ,Davidiskander"
Could get stuck on chart render error,3404,,2017-10-24T22:42:22Z,2017-10-25T19:43:32Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description
find attachment

## Steps To Reproduce

## Expected Result
when raising a ""chart rendering error"", the user should be able to press ok and move on

## Actual Result
Console is incrementing errors and user can't get out of the loop

## Link To Dashboard

## Screenshots
![bug_render_error](https://user-images.githubusercontent.com/10747240/32019446-19a34358-b982-11e7-8322-d1084ca85122.gif)


![bug_exception_incrementing](https://user-images.githubusercontent.com/10747240/31971382-7149b8ce-b8d0-11e7-9be8-d32441ea1051.gif)

## Other Information",Davidiskander,"P3,bug",,
"Taxi: ""sorting would be too slow"" error ",3401,,2017-10-23T21:38:04Z,2018-06-05T19:46:18Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description
Found by Todd.
Make a restrictive time filter (i.e. on one day in the global filter) and then try to make a line chart on it I get ""sorting would be too slow"" error.

## Steps To Reproduce
Go to Taxi
Create a global filter with time for 1 day.
Create a line chart with D: dropoff_datetime
M: #Records


## Expected Result
Render chart

## Actual Result
""sorting would be too slow"" error 

## Link To Dashboard
Taxi demo 

## Screenshots
<img width=""1920"" alt=""screen shot 2017-10-21 at 8 01 36 am"" src=""https://user-images.githubusercontent.com/16374964/31914499-c53e6d66-b7ff-11e7-926e-d51bebc8a1f6.png"">

## Other Information",menaczar,bug,,"I have a path to fix this on the backend by using filters in our expression range computation, I may take a stab at it this week.,tmostak
May be related to a more generic task #2919,biovisualize"
Ability to mark a measure on a Text column as non clickable,3386,,2017-10-18T21:58:23Z,2018-04-24T17:04:02Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description
When using very large data customer often wants to see the fined grained data in a table chart

Assuming some of this data is TEXt ENCODED NONE (ie unique text data) if they accidentally click on the field it is added as a filter and the dashboard tries to refresh and in this case bad things will happen as we attempt to filter on these text fields.

As a simple work around / protection we are suggesting an option to mark a field as read only or non clickable or non filterable when creating the dashboard element so the user cannot make the mistake to click

## Steps To Reproduce

## Expected Result

## Actual Result

## Link To Dashboard

## Screenshots

## Other Information
",dwayneberry,"P1,customer,enhancement,verizon",,"@mythilimapd what are the thoughts on this
,dwayneberry
@dwayneberry is this on table chart? The text chart is not bound to any data right now.,mythilimapd
Yes this is on a table chart,dwayneberry
@dwayneberry  I have added this  request to my roadmap. But will probably not happen in the short term.,mythilimapd
As additional info this makes the dashboards at Verizon very fragile (one accidental click on one of these columns when they try to cut and paste and it is basically system down)
,dwayneberry
@mythilimapd do you have a feel for what kind of timeline we are thinking of here?,dwayneberry
@dwayneberry @mythilimapd another way to go about this might be to bring a shadow rowid to the frontend for non-grouped data in table chart, and on click, filter on the whole row. This would likely fit in with the rest of the UI better than filtering down to the item clicked on.  

@dwayneberry is this just an irritant for Verizon or a major issue at the moment?,tmostak
@tmostak yes that is a great idea. @dwayneberry would that work for Verizon and how soon do they need it? Our current priority is getting Immerse Advanced out the door and I can get this prioritized in December. Would that work?,mythilimapd
Verizon had to reboot server after a misclick due to this sorting in a text field

From a back end side we need to capture this via dynamic watchdog so it doesnt keep killing there server,dwayneberry
Note: that's where the check for non-clickable field would happen https://github.com/mapd/mapd-charting/blob/master/src/charts/mapd-table.js#L330,biovisualize
A [few notes from the customer](https://mapd.zendesk.com/agent/tickets/493) ... Yes, this is a major problem, because as more users, less technical (execs) start looking at dashboards, they click the fields and the server needs to be restarted.

The control might be in the chart settings screen, or a lock icon on the column when viewing the dashboard, or something else you design.  For some columns, the person designing the dashboard wants the viewer to never click that column (6B mostly distinct values, text encoding none).  Other columns should be clicked only when other filters are already applied (an ID, but still text encoding none, where dynamic watchdog might be the best overall solution).,mikehinchey"
Error when pie chart grouping becomes really small,3375,,2017-10-16T18:33:22Z,2018-02-02T00:37:14Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev
Operating System and version:
macOS 10.12.5
 Browser and version:
Chrome 59.0.3071.115
 Mapd versions
mapdc tag v1.1.1
mapd-crossfilter tag v1.1.0
mapd-connector tag v2.0.0
 Steps to reproduce (including dashboard link):
go to https://github-investigation.firebaseapp.com/
click on the user greenkeeperio-bot
 Description of issue:
The merged pie chart goes into the loading state indefinitely
Console shows an error like:
"": error""
TypeError: t.replace is not a function
We are seeing this on https://sgc.garvan.org.au/explore as well. For example select 0.8-0.9 in the Avg Allele Frequency row chart


## Issue Description

## Steps To Reproduce

## Expected Result

## Actual Result

## Link To Dashboard

## Screenshots

## Other Information",mythilimapd,,,"Linked to https://github.com/mapd/mapd-charting/issues/67,mythilimapd"
Add option to show/hide data labels in all charts,3374,,2017-10-16T18:31:42Z,2018-01-23T21:04:37Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description

## Steps To Reproduce

## Expected Result

## Actual Result

## Link To Dashboard

## Screenshots

## Other Information
",mythilimapd,,,"Why is this an epic?,biovisualize"
Line chart: If you select a timestamp and then you clicked on binning the binning will switch to month from auto.,3366,,2017-10-12T04:57:22Z,2018-01-23T17:52:41Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description

Line chart: If you select a timestamp and then you clicked on binning the binning will switch to month from auto 
Per Chris V.

## Steps To Reproduce
Create a time chart
Choose s dimension with a timestamp
the binning will be set to auto
Click on binning 

## Expected Result
Nothing

## Actual Result
Binning will switch to month instead of auto

## Link To Dashboard
Any

## Screenshots
![binning_selector](https://user-images.githubusercontent.com/16374964/31479746-18706c36-aece-11e7-9967-db86f235e696.gif)


## Other Information",menaczar,bug,,
Y axis scale reset feature,3365,,2017-10-11T22:34:43Z,2018-04-25T13:06:10Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description

> Currently, when we change the y axis scale (Image on the left), we are unable to reset it to the original scale (Image on the right), we want to have the ability to reset to the original scale

## Screenshots

![image](https://user-images.githubusercontent.com/9220038/31470760-451f6ae0-ae9a-11e7-93e1-0d1051b0150e.png)",mrblueblue,"JamCity,customer,enhancement",,"@biovisualize is this already handled in combo chart (line2) ?,mythilimapd
@mythilimapd I'm not sure I understand the task as all charts like histogram, line and combo can get back to the original y scale by clicking on the lock icon. And the description mentions a 2nd screenshot which is not there. Maybe it was broken back in October. @Davidiskander can you verify if it's broken?,biovisualize"
[JamCity] Ability to have date selection drop down,3364,,2017-10-11T22:33:32Z,2018-04-24T22:09:47Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description

It would be great if we can have a calendar drop down to select a date range instead of having to type out date selection

## Screenshots

![image](https://user-images.githubusercontent.com/9220038/31470736-2c152792-ae9a-11e7-8972-7a2ba5816aa1.png)

## Other Information",mrblueblue,"JamCity,customer,enhancement",,
Choropleth: Should State and Country values be case sensitive?,3360,,2017-10-11T20:14:16Z,2017-10-17T22:15:17Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description

I tried to use the UFOs dataset to create a choropleth, but it didn't recognize lowercase values. 

## Steps To Reproduce

Create a choropleth with a dataset that has states or countries in lowercase. 

## Expected Result

states and countries are recognized and colored

## Actual Result

No regions are colored on the choropleth.

## Link To Dashboard

## Screenshots

## Other Information
",DennisDawson,,,"@menaczar can you provide more information and repro?,Davidiskander"
Scatterplot: Color palette reverts direction when re-opening dashboard,3358,,2017-10-11T16:36:09Z,2017-10-11T16:44:17Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**:  Chrome
- **Application Version**: master dev

## Issue Description
I reversed the direction on the color palette. When I reopen the dashboard, the direction reverts to default. When I click the edit button, the color direction changes to my preferred setting.

## Steps To Reproduce
Make a pointmap. Reverse the color palette.
## Expected Result
Displays with reversed color palette when dashboard opens. 
## Actual Result
Color palette reverts to default when dashboard is first opened.
## Link To Dashboard
Don't know how to make links work - It's the NBA Heatmap Score! dashboard. 
http://immerse-master.prod.frontend.builds.mapd.com/#/dashboard?_k=jevm20

## Screenshots
![colorpalettereversal](https://user-images.githubusercontent.com/6788473/31453604-9737245e-ae67-11e7-9e72-b750412fedbf.gif)


## Other Information",DennisDawson,"P2,Triaged",,
Bar charts needs pop ups for truncated long text,3342,,2017-10-04T21:15:37Z,2017-10-10T22:11:36Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description
Bar charts needs pop ups for truncated long text

",menaczar,"Triaged,enhancement,feature",,"Spec is the have the same popup as pie chart. ,nytai
@biovisualize, can this be addressed as part of line chart refactor?,Davidiskander
Sure. I linked it to the #2709 epic,biovisualize"
Hovering on bar chart doesn't highlight bars unless there is no text under mouse pointer.,3341,,2017-10-04T21:13:55Z,2017-10-10T22:08:08Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description
Hovering on bar chart doesn't highlight bars unless there is no text under mouse pointer.

## Steps To Reproduce
Create a bar chart
Hover mouse on any bar where there is a text

## Expected Result
Bar should be highlighted when the mouse hoover on it 

## Actual Result
Bar only highlights when the mouse is not on a text 

## Link To Dashboard
any

## Screenshots
![oct-04-2017 13-58-49](https://user-images.githubusercontent.com/16374964/31200029-2f7bbb9e-a90e-11e7-94f0-4908fd5ac4fa.gif)


## Other Information",menaczar,"Triaged,enhancement",,"Low priority,Davidiskander"
Bar chart should have a label on the x-axis,3340,,2017-10-04T16:35:59Z,2017-10-04T16:35:59Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description

## Steps To Reproduce
- Create a bar chart
- Select meaningful dimension and measure

## Expected Result
- Chart is created
- Chart has x-axis label (per Todd)
## Actual Result

## Link To Dashboard

## Screenshots
![screen shot 2017-10-04 at 9 33 00 am](https://user-images.githubusercontent.com/10747240/31187557-235b4f18-a8e7-11e7-9df8-63d7189756d9.png)


## Other Information",Davidiskander,,,
In Bubble chart add chart level option to show/hide data labels.,3338,,2017-10-04T03:09:21Z,2017-10-16T18:28:50Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

6 points just for turning labels ON/OFF in bubble chart

## Issue Description
As an Immerse user I would like the ability to show or data labels.
Default can be ON but at end user should be able to toggle the labels off.

A few customers (CMT, Jamcity etc) have requested this feature
## Steps To Reproduce

## Expected Result

## Actual Result

## Link To Dashboard

## Screenshots

## Other Information",mythilimapd,customer,,
Brushing line chart could lead into disappearing the whole chart but not the popup dots,3324,,2017-09-27T22:43:06Z,2017-09-27T22:43:18Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description

## Steps To Reproduce
- Using the cross filter minimize the range on the line chart
- Change binning to 10 yrs on chart

## Expected Result
We should have a minimum width (~1px) to avoid the whole chart to disappearing 

## Actual Result

## Link To Dashboard

## Screenshots
![screen shot 2017-09-27 at 3 38 50 pm](https://user-images.githubusercontent.com/10747240/30941435-432ff980-a39a-11e7-8e35-6758d99b8a42.png)

## Other Information",Davidiskander,"P3,bug",,
Charts elements jump around a lot while loading on chart,3316,,2017-09-25T18:49:49Z,2018-01-02T17:54:15Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description
We should avoid viewing elements as they load and wait for full chart to load first then display it

## Steps To Reproduce
• Go to minos
• Launch chart: David All Charts _ Flights
• Sit and watch

## Expected Result
- Spinner/ loading circle run on the top of each chart. When loading is done data is displayed

## Actual Result
Data is displayed as it loads

## Link To Dashboard
http://minos.mapd.com:8000/#/link/mapd/8b8fb2bd

## Screenshots
![bug](https://user-images.githubusercontent.com/10747240/30825312-59d65a3a-a1e7-11e7-8a36-616cc519a750.gif)

## Other Information",Davidiskander,"P2,bug",,"I see multiple things here:
a) the table content is visible outside its panel
b) charts seems to always render twice, especially visible in pie and bubble charts
c) heat and row charts are adding their x axis afterwards
d) maps are showing basemaps before data layer
e) range chart appears after the focus chart
f) number chart overlaps its panel title before it's repositioned in the center

Questions (probably for @mythilimapd):
* which features should we hide until we have the full stable viz, knowing that it will increase the amount of time user sees a spinner?
* what is the priority ordering of this list?
* which are definitely bugs (e.g. the table content bleeding out)?
* is this list complete?,biovisualize"
A dashboard loading time shouldn't reach 2 minutes,3315,,2017-09-25T18:35:44Z,2017-10-10T22:15:50Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description

## Steps To Reproduce
- Go to minos
- Launch chart: David All Charts _ Flights
- Sit and watch

## Expected Result
Should have a benchmark

## Actual Result
It takes between 1 and 2 minutes to fully load the dashboard

## Link To Dashboard

## Screenshots
![loading bug 2](https://user-images.githubusercontent.com/10747240/30824590-dce97ae0-a1e4-11e7-9c43-89f6feb3f79f.gif)
![loading bug](https://user-images.githubusercontent.com/10747240/30824591-dcef3ee4-a1e4-11e7-9321-1f3b016be971.gif)

## Other Information",Davidiskander,"P1,Triaged,bug,needs info",,
Adding units to # Chart,3313,,2017-09-22T18:11:21Z,2017-10-03T20:26:02Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description
I think it would be great to be able to add a Unit to the Number Chart instead of having a naked number. Especially that ""Cast from INTEGER to TEXT not supported""  and same case for Convert().

Maybe we have a box for the unit that gets added after the number.
In the picture as an example, as a user, I'd love to be able to see 99% instead of just 99.

![screen shot 2017-09-22 at 11 07 25 am](https://user-images.githubusercontent.com/16374964/30758283-955fda76-9f86-11e7-9530-bb26ea0cdabb.png)",menaczar,"Triaged,enhancement",,
Jenkins Builds for Both Enterprise and Community Editions,3312,,2017-09-21T23:34:46Z,2017-11-08T17:44:44Z,,mrblueblue,tech,,"@mrblueblue is this something QA needs to work on? or this is just a task reminder?,Davidiskander
This is just an infra task reminder which should be completed before ""releasing"" the full community/enterprise split.

,mrblueblue"
Map selector tools go all over the place when tilting the map.,3311,,2017-09-21T22:28:50Z,2017-10-03T20:29:44Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description
Map selector tools goes all over the place when tilting the map.

## Steps To Reproduce
Go to any map chart
Use the selector tool to select a part of the map
Tilt the map: Can do this by golding the right click and move the mouse (2 fingers click on mouse pads.)

## Expected Result
Selector tools should hold its dimensions

## Actual Result
Goes all over the place 


## Link To Dashboard
Any

## Screenshots

![sep-21-2017 15-28-00](https://user-images.githubusercontent.com/16374964/30721560-81687668-9ee1-11e7-9653-648e603de0ea.gif)


## Other Information",menaczar,"Triaged,enhancement",,"https://www.mapbox.com/mapbox-gl-js/example/disable-rotation/
Or do we really need rotation?,menaczar
the tilting is a hidden feature ,nytai
But I come across it once every couple of days at least. Can we disable it?,Davidiskander
Not a high priority but would be nice to disable this feature ,mythilimapd"
Dashboard name in dashboards list strips the spaces if it comes before the title,3310,,2017-09-21T21:56:13Z,2018-03-06T20:50:35Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description
If a dashboard title has one or more spaces before the characters, then spaces get stripped from title when viewing the dashboards list
## Steps To Reproduce

## Expected Result

## Actual Result

## Link To Dashboard

## Screenshots
![bug](https://user-images.githubusercontent.com/10747240/30719294-cc1e57ea-9ed7-11e7-8d27-7fc9fe78b71a.gif)

## Other Information",Davidiskander,bug,,"Rather than fix this by displaying those spaces, I think a better fix here might be to trim spaces before and after the title when applying it.,jrajav
Otherwise, we're allowing users to (possibly unintentionally) create titles that can be uncentered and ugly.,jrajav"
Some unexpected behaviour around BIGINTs using immerse,3303,,2017-09-20T16:57:39Z,2017-09-20T16:57:39Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description
I’m seeing some unexpected behaviour around BIGINTs. [I’m running MapD v3.2.2 on Ubuntu 16.04.3 LTS (GNU/Linux 4.4.0-1030-aws x86_64).]

If I create a table as follows:

CREATE TABLE some_ints( intval BIGINT );

then insert a row as follows:

INSERT INTO some_ints VALUES(4489949424181064562);

if I then select the contents of that table I get a single row with the value being 4489949424181064700.


But when using it with mapdql it works correctly 

## Issue Link
https://community.mapd.com/t/inserted-bigint-values-incorrect/520/3",menaczar,customer,,
Uploading dataset *.kml could freeze and 404,3292,,2017-09-18T21:51:24Z,2017-09-18T21:51:24Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description
some *.kml data sets are probably not compatible! 

## Steps To Reproduce

## Expected Result
Get an error! Always be able to go back and try a different set

## Actual Result
find attachments 

## Link To Dashboard

## Screenshots
![screen shot 2017-09-18 at 2 44 31 pm](https://user-images.githubusercontent.com/10747240/30566224-0cb851d4-9c80-11e7-99b8-851130ed0c77.png)

<img width=""803"" alt=""screen shot 2017-09-18 at 2 46 01 pm"" src=""https://user-images.githubusercontent.com/10747240/30566247-1d90e98a-9c80-11e7-8ab1-94810a1a9db0.png"">

![screen shot 2017-09-18 at 2 48 55 pm](https://user-images.githubusercontent.com/10747240/30566355-8df8565e-9c80-11e7-96eb-303fd406433e.png)

## Other Information",Davidiskander,"P3,bug",,
Usere could get an error for table not being imported when it has been already imported,3287,,2017-09-18T19:12:58Z,2017-09-18T19:12:58Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description

## Steps To Reproduce
- Go to 'Data Manager'
- Upload this dataset: https://data.ct.gov/api/geospatial/rquw-zvtn?method=export&format=KML

## Expected Result
If table extension or column is not supported, user gets an error and dataset is not uploaded

## Actual Result
- Got an error
- Thought dataset is not uploaded, however it was uploaded

## Link To Dashboard

## Screenshots
![bug](https://user-images.githubusercontent.com/10747240/30559781-a31f0ba6-9c6a-11e7-90a5-9b148b26ecbe.gif)


## Other Information",Davidiskander,"P2,bug",,
Scatter chart: Clearing all filters expands the legend box,3278,,2017-09-15T22:14:07Z,2018-04-25T22:33:17Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description
If you collapsed the legend box it expands when you clear any chart filter 

## Steps To Reproduce
Create a scatter chart
collapse the legend box
create any chart filter
clear the filter

## Expected Result
Clear filter button should only affect filters

## Actual Result
It clears filters and expands the legend

## Link To Dashboard
Minos

## Screenshots
![sep-15-2017 15-08-11](https://user-images.githubusercontent.com/16374964/30505260-7b1b615c-9a28-11e7-841a-89a0a9841a6c.gif)",menaczar,"P3,bug",,"Still valid.,menaczar"
Dashboard accepts space character(s) as a name and appears empty,3276,,2017-09-15T20:22:09Z,2018-01-23T17:52:41Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description
Per @Mrudulabaj 
Dashboard accepts space character(s) as a name and appears empty

## Steps To Reproduce
Try to save any dashboard and use space as the name

## Expected Result
should reject the space char as a name 

## Actual Result
Saves dashboard with a space char as the name and appears that the name is empty 

## Link To Dashboard
any

## Screenshots

## Other Information
",menaczar,bug,,
Error When Saving Dashboard from Link As Another User,3273,,2017-09-14T21:14:27Z,2018-04-26T14:53:00Z,"Customer Escalation : JamCity

## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description

## Steps To Reproduce

One of my users just ran into another bug in Immerse.

They: 
  created a dashboard
  used the ""Share"" button in Immerse to get a URL, copied it
  logged out of Immerse.
  logged back in as another user on the same database (probably in the same browser window)
  pasted the url in the browser URL bar and loaded it.
  [They see the desired dashboard.]
  pressed the ""Save"" button
  

Instead of saving the dashboard to the ""Dashboards"" of the new account they see:

![unnamed](https://user-images.githubusercontent.com/9220038/30456085-18c587b6-9957-11e7-8d29-30b5d969d7b2.jpg)

I discovered that if you change the name of the dashboard, then the save works.

I'm not sure why the Dashboard name has to change. Do dashboard names have to be unique across the server (or database)?
In any case Immerse should give a better error message if the name must be changed.

Thanks,

Eric

## Screenshots

## Other Information

Jam City

```
[1,""create_frontend_view"",2,0,{""1"":{""rec"":{""1"":{""str"":""Exception: Sqlite3 Error: UNIQUE constraint failed: mapd_frontend_views.name""}}}}]
```",mrblueblue,"JamCity,P2,bug,customer",,"Backend issue, the unique constraint is only on `name`, not `(name, userid)`. This code needs to be reworked anyways for the new permissions model + dashboard sharing, along with using a unique id instead of the dashboard name as the id.,andrewseidl
May no longer be an issue with the new dashboard sharing and permissions,mythilimapd"
Choropleth maps sharing the same json file but different source should be able to be filtered by json,3270,,2017-09-14T01:30:04Z,2018-01-09T19:17:50Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description
Lets say we have Choropleth maps with different sources but they use the same json file ex: countries.

Should we have a filter to select from the json?
",menaczar,enhancement,,"THis issue is about filtering across different datasources using the common geo field like ""States"" or Counties or Zip Code or Country.

Assume you have a MSD dashboard - one with flights by state and another taxis by state as choropleth, clicking on CA in the flights charts, should filter on chart with taxis and filter and show taxis in CA. Basically choropleth  cross-filtering across datasources.,mythilimapd"
Disable Browser Input Suggestions in Global Filter Dropdown,3264,,2017-09-13T17:18:56Z,2018-01-23T17:52:41Z,"<img width=""750"" alt=""screen shot 2017-09-13 at 10 18 02 am"" src=""https://user-images.githubusercontent.com/9220038/30391037-ed89ac16-986c-11e7-85f5-124cfb110ca1.png"">

https://github.com/mapd/mapd-immerse/pull/3226#issuecomment-329225716",mrblueblue,"Triaged,enhancement",,
[Firefox] Clear Filters Dropdown Overlaps With Line/Histo Bin Input Settings,3263,,2017-09-13T17:17:10Z,2017-10-10T22:48:46Z,"<img width=""776"" alt=""screen shot 2017-09-13 at 10 16 12 am"" src=""https://user-images.githubusercontent.com/9220038/30390970-b35e5ac8-986c-11e7-96f9-81f453fad2fd.png"">",mrblueblue,bug,,"Still exists ,menaczar"
Cannot Apply Range Filter on Numerical Binned Line Chart,3259,,2017-09-12T20:04:39Z,2017-09-12T20:17:14Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description

https://github.com/mapd/mapd-immerse/pull/3226#issuecomment-328940023

## Steps To Reproduce

## Expected Result

## Actual Result

## Link To Dashboard

http://immerse-master.prod.frontend.builds.mapd.com/#/link/mapd/f4768a88

## Screenshots

## Other Information",mrblueblue,bug,,
Using imported data gives error  String not Dictionary encoded.,3258,,2017-09-12T19:14:03Z,2017-09-12T19:14:03Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description
Importing data and using it gives an error that it needs to be Dict encoded. Why not have the dict encoded string as the default for all strings?

## Steps To Reproduce
Import any data file with string values
Create a table with measures as the string values then add any dimnetions

## Expected Result
Should work fine 

## Actual Result
Gives an error that the Strings must be dictionary-encoded and the only way to change that is to re-upload the table and change the data type before saving which is not easy for users to figure out.

## Suggestions
Default for strings should be Dict-encoded

## Link To Dashboard

## Screenshots

![screen shot 2017-09-12 at 12 01 52 pm](https://user-images.githubusercontent.com/16374964/30343836-bd512c2c-97b3-11e7-829f-d9e2e81e005a.png)

![screen shot 2017-09-12 at 12 02 53 pm](https://user-images.githubusercontent.com/16374964/30343840-c05e235c-97b3-11e7-9911-adb4d81aa32f.png)

## Other Information",menaczar,enhancement,,
"If a global filter was added while the charts are still loading, filter will not apply",3255,,2017-09-11T23:47:48Z,2017-10-10T22:29:19Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description

## Steps To Reproduce
- Go to http://minos.mapd.com:8000/
- Search for dashboard: David All Charts _ Flights
- Once it launches: add a filter and apply (year_flight = 2008)

## Expected Result
- Charts finish up loading
- Dashboard reloads and apply the global filter

## Actual Result
- Charts finish up loading and don't recognize the filter

## Link To Dashboard

## Screenshots
![bug](https://user-images.githubusercontent.com/10747240/30301584-7c620450-9710-11e7-81bf-d5d807efff87.gif)


## Other Information",Davidiskander,"P2,Triaged,bug",,"Previously we did not allow any user interaction before the charts had loaded (there was an overlay).

We can either defer the redrawAll from the filter until everything has been rendered or just prevent users from apply a filter before rendering,mrblueblue
Ideally, option number 2 is best; prevent users from applying a filter before rendering finishes.
@mythilimapd, what do you think?,Davidiskander
Let us go with option # 2,mythilimapd"
Add DOM IDs to HTML elements,3248,,2017-09-11T18:03:08Z,2017-11-08T05:52:45Z,"Please use the sheet below to find the needed IDs for the time being that is needed for testing

https://docs.google.com/spreadsheets/d/1D3xvwdPcvu-gSVVPF7NcM3LOuBk1VQ4dC_wwpczJJwA/edit?pli=1#gid=0",Davidiskander,,,"@Davidiskander, could your provide your reasoning as to why you cannot use CSS selectors? Hundreds of DOM ids seems like a lot to have to produce and maintain, given the limitations of our current dev team. In order for this to proceed I think it's important to establish how and why this is essential for automation. ,nytai
@nytai we discussed this before, CSS selectors depend on element XPath. That means changes in HTML and CSS files could easily lead the test to not work at all or work in an unexpected behavior.

**Examples of CSS_Selector:** 
#root > div > div > div > div:nth-child(3) > div.react-grid-layout.dashboard > div > span
#root > div > div > div > div.sql-editor > div.sql-editor-wrapper > div.sql-editor-left-panel > div > div.sql-editor-history > div:nth-child(12) > div.sql-editor-data-viewer > div.sql-editor-data-viewer-window > div > div:nth-child(1) > div > div > div:nth-child(3)

_From the examples I provided above you can see that:_ 
- It's ugly
- It's not time efficient; because the code will navigate through HTML and CSS trying to locate the element 
- It's very easy to break when editing Immerse base code,Davidiskander
The same argument can be made about DOM ids, updating that code will require the dev to update the DOM id, and make sure the ID is placed on the correct element. We aren't really working with pure html elements, so this is sometimes more difficult than it seems. Sometimes things are hidden in some 3rd party component, or our components are designed to be reusable so having a unique id is difficult. 

I don't buy the inefficient part, as using ids requires also requires a traversal of the DOM tree. If it is less efficient it's by some negligible constant. 

You can make the selectors general enough to only select one element but not depend on a specific hierarchy. For example the first one can be rewritten like `.react-grid-layout.dashboard > div > span` 

As for them being ugly, that may be true, but you always hide them in some constants file. ,nytai
The above selector can actually be rewritten as
 ```
.sql-editor-data-table .data-table > div > .table-cell:nth-child(3)
```

There are ways to write CSS Selectors are are not entirely hardcoded to a strict path. In fact, our CSS stylesheets are full of examples of selectors that use `class` names for specificity instead of node paths.

We would happy to provide you with the necessary CSS selectors in order for you the complete your tests. You can also use our current [nightwatch tests](https://github.com/mapd/mapd-immerse/tree/master/test/e2e/tests), which uses CSS selectors,  as reference as well.

Also, as someone who has written and maintained our JS E2E tests since the beginning, I find that most testing breakages have been infrastructural in nature rather than the result of ""moving elements"" around. 
,mrblueblue
I will say however, that you do make a fair point when worrying about your tests constantly breaking. 

I think the best way to solve this is to have the FE team be in constant communication with QA.

I don't think changing the way one selects DOM elements, whether it be with id's or css selectors, will make more a difference than the latter.,mrblueblue
As a note, @Davidiskander told me it also has to do with how bad css traversal is on Selenium for IE.,biovisualize"
Disable Geoheatmap on Distributed Backend,3246,,2017-09-11T15:26:24Z,2017-10-17T22:18:04Z,Waiting on a backend method that verifies if the backend is distributed or not.,mrblueblue,"blocked,enhancement",,"With latest master you should have that API. Use get_status(), the size of the list that is returned is the number of leaves in the cluster.,VrajPandya
@mrblueblue Is this ready for work or still has dependant work from the backend?,Davidiskander"
Scatter chart: different behavior when you clear filter from chart button vs dashboard button,3242,,2017-09-09T00:16:48Z,2017-10-17T22:19:55Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description
create a scatter chart and move the chart. The filter icon will appear.
You get different results if you cleared the filter from the 

## Steps To Reproduce
create a scatter chart and move the chart. The filter icon will appear.
You get different results if you cleared the filter from the 

## Expected Result

## Actual Result

## Link To Dashboard
http://minos.mapd.com:8000/#/link/mapd/e7651a8a

## Screenshots
![sep-08-2017 17-09-34](https://user-images.githubusercontent.com/16374964/30235113-73eafec0-94b9-11e7-8e4d-02b74696e6f1.gif)

## Other Information",menaczar,"P2,Triaged,bug",,
Legend inner scrolling not working for scatter charts,3240,,2017-09-08T23:06:26Z,2018-02-21T18:50:09Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description
Legend box inner scrolling not working 

## Steps To Reproduce
Create a scatter map
Move the mouse to legend box and scroll 

## Expected Result
Legend box should scroll

## Actual Result
Map zooms in and out

## Link To Dashboard
http://minos.mapd.com:8000/#/link/mapd/ff5db325

## Screenshots
![sep-08-2017 16-01-40](https://user-images.githubusercontent.com/16374964/30234175-a00f710c-94af-11e7-8bb0-dd7a6b840489.gif)

## Other Information",menaczar,"P2,bug",,"@menaczar can you verify that this is not happening on point map as well,Davidiskander
It only happens in scatter chart not point map. Verified.,menaczar
hi @Davidiskander, having some trouble reproducing this bug.

can you confirm that the chart type is `SCATTER`

![scatter-chart-type](https://user-images.githubusercontent.com/2119400/33048374-5d1a3f0a-ce0f-11e7-9553-7b6378966799.png)

then then remind me how to create a legend?  I don't see a control to create a legend anywhere on the page. (might be a UX bug in addition to the scroll bug 😅  )

![screen shot 2017-11-20 at 4 23 24 pm](https://user-images.githubusercontent.com/2119400/33048332-29e2f15e-ce0f-11e7-83d2-4649ffe1e4f3.png)
,micahstubbs
@micahstubbs for the map you have choose carrier_name as color dimension.
When you go back to the dashboard you should be able to scroll up and down the legends with your mouse scroll (or 2 fingers on pad). 
The current behavior: is that scrolling zooms in and out the map.
Expected: when you have the mouse over the legend scrolling should scroll up and down the legends.,menaczar
As Mena says, you have to populate the `Color` field. Try these settings to get a legend that is too long and needs to scroll. See that you can't scroll it just by mouse scroll over it as it will zoom instead.

![scroll_zoom](https://user-images.githubusercontent.com/824534/33052218-d0801182-ce3b-11e7-8717-ddef5cdd6b37.gif),biovisualize"
Enhancement suggestion: Share button label should reflect that it shares the instance on the screen,3239,,2017-09-08T21:02:18Z,2017-09-08T21:02:18Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description
Share button creates a link to the instance on the screen not what is saved.

The button label should reflect that it's sharing an instance of what is on the screen not the actual saved dashboard.

Or we should have and option to share either or
",menaczar,enhancement,,
SQL query table: headers should be docked.,3230,,2017-09-07T20:29:54Z,2017-09-07T20:29:54Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description
After an SQL query, the result table header should be docked.
## Steps To Reproduce

## Expected Result

## Actual Result

## Link To Dashboard

## Screenshots

## Other Information
",menaczar,enhancement,,
Dashboard Back Ups,3222,,2017-09-06T22:38:38Z,2017-09-07T00:24:55Z,Place holder issue so I dont forget,mrblueblue,customer,,
Save text in text widget when switching chart types,3219,,2017-09-06T21:27:07Z,2017-09-06T21:27:35Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description

When editing a text widget, if you accidentally or intentionally switch to a different chart type, any unsaved text is lost. It would be nice to preserve the text.


## Steps To Reproduce

## Expected Result

## Actual Result

## Link To Dashboard

## Screenshots

## Other Information
",mythilimapd,enhancement,,"@biovisualize  added this story so I don't forget. Not a priority for current sprint!,mythilimapd"
Midrange color is the same as unselected boxes in the Heat map,3216,,2017-09-06T20:42:10Z,2017-09-06T20:48:21Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description
While filtering on the heat map, the mid range color is almost the same grey as the unselected boxes and it's confusing because you can select one of those and don't see a change while you have an active filter. 

## Steps To Reproduce
Create any Heat map 
Choose the third color pattern
Or choose the second pattern
Click on any of the grey boxes

## Expected Result
Selected boxes should have a different color than the unselected ones

## Actual Result
Low range on second color pattern and mid range on the third color pattern can be the same color as the unselected boxes.

## Link To Dashboard
http://immerse-master.prod.frontend.builds.mapd.com/

## Screenshots
![sep-06-2017 13-34-55](https://user-images.githubusercontent.com/16374964/30133558-2bd6a488-9309-11e7-86d4-571e9823a39c.gif)


## Other Information",menaczar,enhancement,,
Line chart bugs and improvements,3200,[object Object],2017-09-04T17:24:23Z,2018-01-23T21:04:37Z,"## Description
As a user, I want to be able to use the line chart without bugs slowing me down in my process of configuring and using it on a dashboard.

As a developer, I need a chart codebase that is easier to debug, scale and with less side-effects, so we can fix and develop new features quickly.

The line chart has a lot of associated bugs that should be addressed in batches instead of just fixing them one by one without fixing common causes. It also need to get more stable before adding new features. This is a placeholder task to collect all line chart bugs and features and sync on implementation.

## Acceptance criteria
This task can be closed when a group of issues has been fixed by fixing a common cause and the rest of the tasks are documented. It should not be a never-ending stream of tasks.",biovisualize,,,"I would suggest completely redoing the line chart at some point

A good candidate for its replacement is to use the Vega runtime. At the very least, it's API should just be ""give me a Vega or Vega-lite"" specification and its runtime could be anything else.

Relatedly, we need to rewrite how we set and process binning and date transformations. The way crossfilter handles these transformations makes the line chart pretty painful and unintuitive to work with.

Please note: the previous work I did on the line chart **was not** meant to fix all the line chart bugs. The purpose was to clean up its interface with Immerse.

As a result of my frustrations with doing the latter, I started investigating and prototyping two strategies, both of which I believe have been validated: 

1. using the Vega runtime or its spec API to re-implement the line chart
2. using a declarative API to set and process data transformations
,mrblueblue
I agree. Having a declarative API would also help solve the root cause of a lot of our problems: poorly defined state transitions. A nice side-effect of using a Vega[-lite] API is to unify with the raster API and also to brand or effort as being part of Jeff Heer's ecosystem (Vega, Voyager2, Trifacta, D3).

@mrblueblue I know about your vega transform layer (pretty cool stuff), but I didn't know about a line chart prototype. Where can I find it?

Anyway, that's what I plan to do this sprint: replace the line chart with a new one easy to interface with a Vega-lite API. The first goal is to fix all the bugs directly related to line chart, then to make it easier to fix related bugs (those whose fix should live outside of the line chart component, like binning, filtering, switching) and to implement new features (multi-measures, individual line styles). I will break down this work in phases, making sure we have weekly deliverables that are in master, bringing value and preserving older dashboards. It will use the Text widget and Row chart experiment as a base.,biovisualize

![line-chart-multi-measures-r2-5](https://user-images.githubusercontent.com/29928117/30615512-0850dade-9d44-11e7-8f9e-d013ef24b473.png)

![line-chart-multi-measures-r2-1](https://user-images.githubusercontent.com/29928117/30615469-f18c4edc-9d43-11e7-93aa-70293b75f865.png)
![line-chart-multi-measures-r2-2](https://user-images.githubusercontent.com/29928117/30615474-f449f02a-9d43-11e7-867d-9e823d873b61.png)
![line-chart-multi-measures-r2-2b](https://user-images.githubusercontent.com/29928117/30615478-f6e7a066-9d43-11e7-9af6-e13e5ff14fa5.png)
![line-chart-multi-measures-r2-3](https://user-images.githubusercontent.com/29928117/30615481-f98dc8e0-9d43-11e7-9728-8c90ad7e3a74.png)
![line-chart-multi-measures-r2-4 1](https://user-images.githubusercontent.com/29928117/30615559-215619fe-9d44-11e7-9b5a-93519eec6bdd.png)
,mythilimapd
@duhoang Thanks for the designs.
* Can you have multiple measures and assign them to one of both axes, or we are limited to one by axis? 
* Is it possible to get in an inconsistent state, for example by selecting 2 measures that doesn't properly join on the x axis dimension?
* We should disable the area chart selector when we have multiple axes, as it doesn't make sense to stack measures from different ranges (i.e. sales quantities over profit)
* I guess the ""Series color"" should change name for ""Measures color""?

Other questions less directly related to design
* Do we union x axis data or we take the dimension range from one of the measure (i.e. taxi timestamps from 2010-2012 over flight timestamps 2011-2013)?,biovisualize
@biovisualize @mythilimapd 
- You can have multiple measures sharing an axis. In fact, this is the default behavior.
- We are working out this mechanic, you are more than welcome to share your thoughts on what would make sense.
- We can do that, if that make sense.
- I'm thinking of labeling that section as ""Color & Line Style"" (more generic)

- This is also in discussion right now, Todd has some opinions on how he think it should be done. I will try to capture that and share with the team.
,duhoang
Hi @duhoang just to clarify will a community user with SSD still be able to pick two dimensions from the same source (I.e pickup and drop off times in taxis or join time and tweet time in tweets)? I think this is desired behavior. Only tricky thing about this use case is that the user may not want to filter on both series at once (I.e join time and tweet time with one brush), which makes this situation a bit tricky. ,tmostak
Re the range question @biovisualize I would argue for the default being union. We could possibly allow optional clamping through a UI dropdown but the user could also achieve that with a range chart or global filters if we want to keep things simple. ,tmostak
Actually if we are holding back multi-layer maps from community it might make sense to hold back multi-dimension line charts from community. Then if an enterprise user wants to pick two dimensions from the same source they could just pick the same source twice. ,tmostak
We need to think through this a bit.  The most typical use case for multiple measures is to see it on date/time dimension or a regular dimension.  With MSD we can give the user the choice of union or intersection for the time axis.

What is not clear to me is if we should allow for a binned or un-binned measure as x-axis for multiple measure line charts and this even makes sense.,mythilimapd"
Bubble chart: pop up doesn't disappear if mouse moved away during the pop up animation ,3198,,2017-09-01T23:37:25Z,2017-09-27T19:04:36Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description
Bubble chart: pop up doesn't disappear if mouse moved away during the pop up animation y

## Steps To Reproduce
-Create a bubble chart
-Find any bubble that is touching any axis]
-Hoover the mouse over the bubble and try to move the mouse away during the pop up animation 

## Expected Result
The pop up should disappear

## Actual Result
Pop up doesn't disappear 

## Link To Dashboard
http://immerse-master.prod.frontend.builds.mapd.com/

## Screenshots
![sep-01-2017 16-31-42](https://user-images.githubusercontent.com/16374964/29990877-c99f847a-8f33-11e7-9b1a-e24a1db62cfb.gif)",menaczar,enhancement,,"Still present ,menaczar"
Aliases for non-custom dimensions/measures,3194,,2017-09-01T16:38:53Z,2018-01-27T07:07:25Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description
Aliases for custom SQL dimensions/measures are sweet. Many columns in databases have stupid names. It would be nice if I could use an alias for stupid column names. For example, in the NYC trees database, spc_common could have the alias ""Common Name"" in my chart. Currently, I've been creating views to achieve this result.

## Steps To Reproduce

## Expected Result

## Actual Result

## Link To Dashboard

## Screenshots
I'm suggesting that every column have a Name (alias) field, not just the custom dimensions and measures:

![aliasfield](https://user-images.githubusercontent.com/6788473/33333204-2b61197c-d41b-11e7-9eec-41246254c322.png)


## Other Information",DennisDawson,enhancement,,"Still present ,menaczar
@DennisDawson I think this is already possible with the alias feature. You can give any existing column name an alias and use that alias in the chart.  ,mythilimapd
I wasn't clear - it would be nice to be able to enter an alias for a column in Immerse, rather than having to go to the command line (a **Name** field for every column, not just the custom measures.,DennisDawson
Is it not a feature that will be part of Data Manager?,biovisualize
@DennisDawson I understood what you meant and that functionality to alias an existing column already exists from Chart Editor,mythilimapd
💯 for this feature request,micahstubbs"
Custom SQL doesn't check if empty and returns wrong SQL expression error,3180,,2017-08-29T21:02:24Z,2017-09-27T19:15:35Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description
Creating a Custom SQL dimension or measure doesn't check if the SQL expression is empty and returns the same error as a wrong SQL expression entered.

## Steps To Reproduce
-Create a new Dashboard
-Create a new chart
-Add dimension and select Custom SQL 
-Add an Alias 
-Leave SQL expression blank
-Select ok 


## Expected Result
-A message should notify the user that the expression was left blank.
## Actual Result
-SQL query runs and returns the error:
-It will run the query and return the  error :""Error: Exception: Parse failed: Encountered ""FROM"" at line 1, column 9.
Was expecting one of:
""UNION"" ...
""INTERSECT"" ...
""EXCEPT"" ...
""MINUS"" ...
""ORDER"" ...
""LIMIT"" ...
""OFFSET"" ...
""FETCH"" ...
""STREAM"" ...
""DISTINCT"" ...
""ALL"" ...
""*"" ...
""+"" ...
""-"" ...
""NOT"" ...
""EXISTS"" ...
<UNSIGNED_INTEGER_LITERAL> ...
<DECIMAL_NUMERIC_LITERAL> ...
<APPROX_NUMERIC_LITERAL> ...
<BINARY_STRING_LITERAL> ...
<PREFIXED_STRING_LITERAL> ...
<QUOTED_STRING> ...
<UNICODE_STRING_LITERAL> ...
""TRUE"" ...
""FALSE"" ...
""UNKNOWN"" ...
""NULL"" ...
<LBRACE_D> ...
<LBRACE_T> ...
<LBRACE_TS> ...
""DATE"" ...
""TIME"" ...
""TIMESTAMP"" ...
""INTERVAL"" ...
""?"" ...
""CAST"" ...
""EXTRACT"" ...
""POSITION"" ...
""CONVERT"" ...
""TRANSLATE"" ...
""OVERLAY"" ...
""FLOOR"" ...
""CEIL"" ...
""CEILING"" ...
""SUBSTRING"" ...
""TRIM"" ...
""CLASSIFIER"" ...
""MATCH_NUMBER"" ...
""RUNNING"" ...
""PREV"" ...
""NEXT"" ...
<LBRACE_FN> ...
""MULTISET"" ...
""ARRAY"" ...
""PERIOD"" ...
""SPECIFIC"" ...
<IDENTIFIER> ...
<QUOTED_IDENTIFIER> ...
<BACK_QUOTED_IDENTIFIER> ...
<BRACKET_QUOTED_IDENTIFIER> ...
<UNICODE_QUOTED_IDENTIFIER> ...
""ABS"" ...
""AVG"" ...
""CARDINALITY"" ...
""CHAR_LENGTH"" ...
""CHARACTER_LENGTH"" ...
""COALESCE"" ...
""COLLECT"" ...
""COVAR_POP"" ...
""COVAR_SAMP"" ...
""CUME_DIST"" ...
""COUNT"" ...
""CURRENT_DATE"" ...
""CURRENT_TIME"" ...
""CURRENT_TIMESTAMP"" ...
""DENSE_RANK"" ...
""ELEMENT"" ...
""EXP"" ...
""FIRST_VALUE"" ...
""FUSION"" ...
""GROUPING"" ...
""HOUR"" ...
""LAG"" ...
""LEAD"" ...
""LAST_VALUE"" ...
""LN"" ...
""LOCALTIME"" ...
""LOCALTIMESTAMP"" ...
""LOWER"" ...
""MAX"" ...
""MIN"" ...
""MINUTE"" ...
""MOD"" ...
""MONTH"" ...
""NTILE"" ...
""NULLIF"" ...
""OCTET_LENGTH"" ...
""PERCENT_RANK"" ...
""POWER"" ...
""RANK"" ...
""REGR_SXX"" ...
""REGR_SYY"" ...
""ROW_NUMBER"" ...
""SECOND"" ...
""SQRT"" ...
""STDDEV_POP"" ...
""STDDEV_SAMP"" ...
""SUM"" ...
""UPPER"" ...
""TRUNCATE"" ...
""USER"" ...
""VAR_POP"" ...
""VAR_SAMP"" ...
""YEAR"" ...
""CURRENT_CATALOG"" ...
""CURRENT_DEFAULT_TRANSFORM_GROUP"" ...
""CURRENT_PATH"" ...
""CURRENT_ROLE"" ...
""CURRENT_SCHEMA"" ...
""CURRENT_USER"" ...
""SESSION_USER"" ...
""SYSTEM_USER"" ...
""NEW"" ...
""CASE"" ...
""CURRENT"" ...
""CURSOR"" ...
""ROW"" ...
""("" ...
OK""

## Link To Dashboard
http://immerse-3079.dev.frontend.builds.mapd.com/

## Screenshots
![aug-29-2017 13-12-16](https://user-images.githubusercontent.com/16374964/29843405-ac86c8f0-8cc0-11e7-9881-2d13fa02c2d0.gif)

## Other Information
Should check if the expression is empty and warn the user or at least return a more specific error message.",menaczar,"P3,bug",,"still present ,menaczar"
Address bugs related to duplicate queries,3159,,2017-08-23T22:58:49Z,2018-01-23T21:04:37Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description
Placeholder user  story for fixing issues related to duplicate queries.

## Steps To Reproduce

## Expected Result

## Actual Result

## Link To Dashboard

## Screenshots

## Other Information
",mythilimapd,,,
Duplicate queries on dashboard load issued by raster chart w/ draw filters. ,3146,,2017-08-22T20:25:12Z,2017-08-23T23:29:49Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description
Customer Huawei has observed duplicates queries being issued from Immerse.

## Steps To Reproduce

Login using the credentials given below and open the dashboard **Tutela Signal Strength AVEA**.

**Credentials**

username: mapd
password: FastData4All
database: tutela

Observe the SQL queries issued.

#### ALTERNATIVELY 
Create a dashboard with a pointmap.
Apply a few draw filters
Save dashboard 
Turn on sql logging 
Reload dashboard and observe queries. 

## Expected Result
Should not be issuing duplicate queries
## Actual Result

## Link To Dashboard


## Screenshots
![screen shot 2017-08-22 at 10 07 57 am](https://user-images.githubusercontent.com/29928117/29585684-e5ca8cf2-873c-11e7-9ca7-f04f4fd61e84.png)


## Other Information
Here are the duplicate queries I see when I open the dashboard


SELECT ServiceProvider as key0,COUNT(*) AS val FROM tutela_new WHERE (QOSLocationLongitude >= 28.429139369119753 AND QOSLocationLongitude <= 29.651669520421194) AND (QOSLocationLatitude >= 40.80807956820715 AND QOSLocationLatitude <= 41.2243860255617) AND ConnectionType = 'MOBILE' GROUP BY key0 ORDER BY val DESC LIMIT 21 OFFSET 0 on Server 0 - Execution Time: 47  ms, Total Time: 316ms
affaf391e630b4600700.bundle.js:138 

SELECT ServiceProvider as key0,COUNT(*) AS val FROM tutela_new WHERE (QOSLocationLongitude >= 28.429139369119753 AND QOSLocationLongitude <= 29.651669520421194) AND (QOSLocationLatitude >= 40.80807956820715 AND QOSLocationLatitude <= 41.2243860255617) AND ConnectionType = 'MOBILE' GROUP BY key0 ORDER BY val DESC LIMIT 21 OFFSET 0 on Server 0 - Execution Time: 48  ms, Total Time: 319ms

SELECT date_trunc(week, cd) as key0,CASE when ServiceProvider IN ('Turkcell','TURKCELL','VODAFONE TR','Turk Telekom','AVEA') then ServiceProvider ELSE 'other' END as key1,AVG(QOSLatencyAverage) AS val FROM tutela_new WHERE (cd >= TIMESTAMP(0) '2016-01-01 00:00:25' AND cd <= TIMESTAMP(0) '2017-02-09 23:35:54') AND (QOSLocationLongitude >= 28.429139369119753 AND QOSLocationLongitude <= 29.651669520421194) AND (QOSLocationLatitude >= 40.80807956820715 AND QOSLocationLatitude <= 41.2243860255617) AND ConnectionType = 'MOBILE' AND QOSLatencyAverage IS NOT NULL GROUP BY key0, key1 ORDER BY key0,key1 on Server 0 - Execution Time: 129  ms, Total Time: 231ms


SELECT date_trunc(week, cd) as key0,CASE when ServiceProvider IN ('Turkcell','TURKCELL','VODAFONE TR','Turk Telekom','AVEA') then ServiceProvider ELSE 'other' END as key1,AVG(QOSLatencyAverage) AS val FROM tutela_new WHERE (cd >= TIMESTAMP(0) '2016-01-01 00:00:25' AND cd <= TIMESTAMP(0) '2017-02-09 23:35:54') AND (QOSLocationLongitude >= 28.429139369119753 AND QOSLocationLongitude <= 29.651669520421194) AND (QOSLocationLatitude >= 40.80807956820715 AND QOSLocationLatitude <= 41.2243860255617) AND ConnectionType = 'MOBILE' AND QOSLatencyAverage IS NOT NULL GROUP BY key0, key1 ORDER BY key0,key1 on Server 0 - Execution Time: 123  ms, Total Time: 339ms",mythilimapd,"P2,bug,customer",,"I think we need more information and context.

Furthermore, we have no common understanding or framework from which to approach these types of issues. Let's not go fighting windmills here.,mrblueblue
Just load  the dashboard **Tutela Signal Strength AVEA**  and you will see the duplicate SQL calls.  Let me know what else I could provide you as information.,mythilimapd
We can fix these instances, but there will likely be more cases. We can incorporate them as part of peer review/QA, but I doubt we want to add more process to an already process heavy cycle. We can probably come up with a clever way to _solve_ this problem so we never have to deal with it again. ,nytai
Related to https://github.com/mapd/mapd-immerse/issues/2435#issuecomment-291966055 and https://github.com/mapd/mapd-immerse/issues/2508

> Right now we don't track our app performance and don't really have a way of speaking about these issues. We might want to start tracking performance but there still remain open questions about where we would store this information and how we would use it. See below for the type of metrics we could track #2508
,mrblueblue
Here is some research I've found so far:

- Count widget will issue 2 queries on load: 1 is for total count the other is for filtered count
- line chart w/ range chart will issue 2 queries on load, 1 is for the range chart the other for the focus chart. If there is a range filter applied, the queries will be slightly different (the filters) 
,nytai
@nytai - Thanks a lot. This makes sense.  I will go ahead and close the issue,mythilimapd
I'm investigating some raster chart redraws, will update later today ,nytai
OK, thanks @nytai ,mythilimapd
Ok I have identified a case where raster (backend rendered) chart can issue more than one query on load. When we load a raster chart and apply draw filters the application of each draw filter causes an all-charts-redraw to fire. 

We can implement a way to add these filters without causing unnecessary redraws, should be fairly simple. However there are a few other bugs around raster charts firing unnecessary queries, one that comes to mind is https://github.com/mapd/mapd-immerse/issues/1971 

I think it would be good to group these together in a sprint epic focused around _solve raster chart redraws/optimize raster chart queries_

Either way, I'm going to update this ticket to reflect what I've described above. ,nytai
@nytai - Thank you so much. I will create a user story and group these bugs together. We can prioritize it for next sprint. Once again - thanks a lot for all your efforts to get to the bottom of this issue. Very much appreciated.,mythilimapd"
Inconsistent Chart Behavior (Bar Chart and Pointmap),3143,,2017-08-22T19:03:33Z,2017-09-27T19:27:17Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: prod, dev

## Issue Description
When switching between chart types, data can change or only partially render. May be related to #2917 
Note that this is not a regression.

## Steps To Reproduce
1. Create a dashboard with the contributions dataset
2. Create a new bar chart with `contributor gender` as a dimension, `amount` as a width
3. Save and exit
4. Return to chart, and switch to pointmap with `lat` and `lon`
5. Switch back to bar chart
6. Switch back to point map 

## Expected Result
Bar chart and pointmap render correctly (or require appropriate information for disparate chart types)

## Actual Result
Bar chart data renders incorrectly, and pointmap data only partially renders

## Link To Dashboard

## Screenshots
![pointmap cache issue](https://user-images.githubusercontent.com/8594375/29582536-e906c24c-8731-11e7-80f4-548bebaa32f6.gif)

<img width=""933"" alt=""screen shot 2017-08-22 at 11 57 53 am"" src=""https://user-images.githubusercontent.com/8594375/29582591-2578cbee-8732-11e7-9009-7fca5e6ead21.png"">

## Other Information",ayyrickay,,,"Still present ,menaczar"
Problem switching density gradient between pointmap and scatter,3142,,2017-08-22T18:59:52Z,2017-09-27T19:32:27Z,"# Description
Multiple ways to reproduce it. On Minos. Here's one:
* load pointmap with lon lat
* turn off density gradient
* pick a new color
* switch to scatter chart
* turn density gradient back on
* go back to pointmap: it gives a pop-up errors and cursor spinner. And Immerse needs to be restarted.
![pointmap_color_bug](https://user-images.githubusercontent.com/824534/29582557-feb52228-8731-11e7-8ecc-b9d790ec8403.gif)",biovisualize,,,"still present ,menaczar"
Prototype color manager,3131,,2017-08-21T22:42:32Z,2017-08-21T23:32:51Z,"## Description
The color management is complex and buggy. We should encapsulate the logic in a proper color manager. 

## Scope
This should be done in steps. This task is about keeping the same functionalities but gather all color code in a single service, hopefully fixing some bugs along the way #2129. This should have unit tests to prove that it's decoupled.

The next step (out of this scope) will be to expand it until all bugs are solved and move to new features, like top N coloring, global colors (coloring the related values across multiple charts), bringing color management closer to data mapping, etc.",biovisualize,,biovisualize,
Embeddable dashboard,3128,,2017-08-21T22:26:47Z,2018-01-25T20:39:47Z,"## User story
As an Immerse user, I want to be able to embed a dashboard, probably in a read-only mode with crossfiltering, in my own HTML UI. 

## Acceptance criteria
* An Immerse dashboard that can live inside another html app.
## Possible task breakdown
* Evaluate various embed strategies (i.e. iframe, script)
* UX design and wireframes
* Features list and tech requirements (i.e. permissions, dashboard styling)
* Mechanism to hide features for read-only
* Mechanism for loading an embedded dashboard in read-only mode",biovisualize,feature,,"thinking about a `lean immerse` optimized for embedded dashboards 💭 🤔 ,micahstubbs
a sunburst chart could be a nice POC for this https://github.com/mapd/mapd-immerse/issues/3750,micahstubbs"
Should have a minimum resizing lock dimensions for dashboards,3122,,2017-08-21T18:42:11Z,2017-09-27T20:18:33Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description
Currently, user could resize the dashboard window as small as 118px x 136px, which leads chart components to truncate or overlap

## Steps To Reproduce

## Expected Result
Dashboard resizing should have a minimum lock (i.e. 500px x 360px); where the user can't drag the resizing tool and squeeze the dashboard to go smaller.

## Actual Result
Find Screenshots

## Link To Dashboard

## Screenshots
<img width=""1420"" alt=""screen shot 2017-08-21 at 11 22 12 am"" src=""https://user-images.githubusercontent.com/10747240/29533199-9ee00cfe-8665-11e7-920b-09559e1e227d.png"">

<img width=""1430"" alt=""screen shot 2017-08-21 at 11 34 58 am"" src=""https://user-images.githubusercontent.com/10747240/29533198-9edfc7bc-8665-11e7-84de-7046c8d45b1b.png"">

## Other Information",Davidiskander,"P3,enhancement",,"Still present in Immerse v3.2.3,menaczar"
Phantom filters,3095,[object Object],2017-08-16T17:50:53Z,2017-09-13T03:24:52Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: 3.1.2 and 3.2rc7 

## Issue Description

There is a filter being applied without there being any way to clear the filter (seen on taxi data on upgrade to 3.2rc7)

now also seen by verizon

```
1. it *appears* time-chart is not 'playing well with others'
    a. load the dash with the time-chart filter
    b. the heat-chart displays just 2 days of the week
    c. clearing the time-chart filters does *not* result in heat map being updated
2. Work-around
    a. select a filter using a bar-chart
    b. clear *this* filter
    c. the heat-map chart now displays entire week'

Is it possible that the time-chart is not properly generating cross-filtering, or maybe cross-unfiltering events?

Joe
```
Unfortunately if you save broken chart it does not stick and on next reload of dashboard the filter is back

Workaround for now is to remove the chart and recreate from scratch

## Steps To Reproduce

Unknown

## Expected Result

filter should be able to be seen and removed

## Actual Result

## Link To Dashboard

## Screenshots

## Other Information

Verizon is seeing this on 3.1.2 dashboard",dwayneberry,"bug,customer,needs info",,"my guess is this is related to https://github.com/mapd/mapd-immerse/issues/2956

Without a reproducible case, not sure we can tackle. ,nytai
This is still happening in 3.2.2 at the customer site

brand new dashboard

![baddash](https://user-images.githubusercontent.com/4306442/30357904-11667906-97f6-11e7-9ca4-0ef54e76f7b9.gif)

If you think there is any benefit for you to see it happen in person (at random) we could try to reproduce on call on thursday,dwayneberry
I think this is the same issue as https://github.com/mapd/mapd-immerse/issues/2956, which will actually be addressed in the next release v3.2.3

Just for reference, I've outlined a reproducible case here https://github.com/mapd/mapd-immerse/issues/2956#issuecomment-328589044

The PR that fixes the issue is here https://github.com/mapd/mapd-immerse/pull/3226

,mrblueblue"
Pie chart shouldn't qualify plotting negative values,3084,,2017-08-15T23:56:07Z,2018-01-23T17:52:44Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description
The Pie chart plots in positive and negative directions in the same time and end up overlapping and looking very ugly and unreadable

## Steps To Reproduce
- Create a new dashboard; tweet
- Create a pie chart
- D: origin
- M: tweet_id
- Increase number of groups to > 10

## Expected Result
**Anything but not the actual behavior**

## Actual Result
- Positive values are plotted in clockwise direction
- Negative values are plotted in anti-clockwise direction
- Positive and negative plotting could overlap
- Overlapping makes pie chart seem to be 1 solid colored value 

## Link To Dashboard

## Screenshots
![screen shot 2017-08-15 at 4 23 59 pm](https://user-images.githubusercontent.com/10747240/29341296-4a16e26a-81d8-11e7-8b08-e708013881d7.png)

![screen shot 2017-08-15 at 4 23 53 pm 2](https://user-images.githubusercontent.com/10747240/29341309-62c8f064-81d8-11e7-9e36-bb94c841a4da.png)

![screen shot 2017-08-15 at 4 23 53 pm 3](https://user-images.githubusercontent.com/10747240/29341312-67cef748-81d8-11e7-88b5-d3be76bae1a8.png)


## Other Information",Davidiskander,"3.2 RC4,bug",,"Still present in Immerse v3.2.3,menaczar"
Should give the user an error when saving the chart will overwrite some edits ,3083,,2017-08-15T21:47:46Z,2017-09-27T20:43:53Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description
Currently, if 2 users working on the same dashboard in the same time, the last to save will overwrite the first user's edit.

For Example:
**Possible scenario:**
Users A & B editing the dashboard in the same time
User A: Add 2 charts and save
User B: Brush a chart and save

**Result:** User A's major edit will be replaced by user B's minor edit

**Suggested solutions:**
- We could allow notification when dashboard has an update from a different user
- Keep history log for changes made and offer ability to revert to any old edition and save
- Warn the user that saving could overwrite some changes",Davidiskander,enhancement,,"Still present Immerse v3.2.3,menaczar"
Line/Range Chart not properly updating when fetching additional data (rows) from server,3082,,2017-08-15T20:58:33Z,2017-09-27T20:47:55Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description

There are two fundamental issues encountered here:

1) Line chart does not update automatically to latest data when loading a dashboard with new rows appended.
2) When brushing on areas of range chart where there is new data, focus chart does not reflect.

## Steps To Reproduce

Case 1: http://immerse-2759.dev.frontend.builds.mapd.com/
(Before line chart refactor)

- search `fake_oanda` and load that dashboard.
- You can see that as soon as the dashboard loads, both the focus chart and range chart update.
- You are also about to brush on range chart, and focus chart works!

Case 2: http://immerse-master.prod.frontend.builds.mapd.com/
(After line chart refactor)

- search `fake_oanda` and load that dashboard.
- You can see that as soon as the dashboard loads, range and focus chart DO NOT update until some kind of interaction occurs.  Eg. (clicking on focus chart, brushing on focus chart, etc.)
- You can also notice that brushing on range chart causes some odd in interactions.
(eg. It does not seem to recognize any data passed Feb 1st, 2002, 12:04AM)

## Expected Result

On http://immerse-2759.dev.frontend.builds.mapd.com/
![image](https://user-images.githubusercontent.com/2932405/29336066-8944593e-81c1-11e7-9b94-dd84236f24cc.png)

## Actual Result

On: http://immerse-master.prod.frontend.builds.mapd.com/
![image](https://user-images.githubusercontent.com/2932405/29336094-a48a3c0e-81c1-11e7-881a-d68eae8339c6.png)",MarcBalaban,bug,,"Still present Immerse v3.2.3,menaczar"
Bar charts maximum cut off should be at the maximum value axis when locked,3081,,2017-08-15T19:12:49Z,2017-09-27T21:16:40Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description
Currently, the bar cut off from the right side is based on the chart window. It should visually be based on the maximum x-axis. Looks like this is a side effect of the y-axis lock

## Steps To Reproduce
- Create a dashboard; contributions
- Make a valid bar chart
- D: committee_name, committee_party
- M: # Records
- Lock the maximum y-axis lock to 50,000

## Expected Result
- Crop of bars should be at the end of ruler of y-axis
- The values on the bars should be shifted to the end of bar

## Actual Result
- Crop of bars happen at the end of chart window
- Values on bars are chopped if bar is not completely showing on chart

## Link To Dashboard

## Screenshots

![screen shot 2017-08-15 at 12 04 24 pm](https://user-images.githubusercontent.com/10747240/29331915-f6a484e0-81b2-11e7-81c0-f91ab482a3e3.png)


## Other Information",Davidiskander,"3.2 RC4,P3,bug",,"Still present in 3.2.3,menaczar"
Line Chart - Gracefully Handle When Only One Bin,3072,,2017-08-14T19:27:47Z,2017-10-05T19:18:16Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description

## Steps To Reproduce
- Create a dashboard; use flights data set
- Select Line Chart
- D: Cancelled
- M: Avg arrdelay
- D: dest_state
*Observation:* Only range chart loaded the graph
- Toggle off/on the range chart
*Observation:* Range chart graph is gone
- Go to the x-Axis ""Cancelled"" binning, then toggle on/off
*Observation:* Range chart graph appeared again!

## Screenshots
![bug](https://user-images.githubusercontent.com/10747240/29287715-450167d4-80eb-11e7-83e5-f5a3dea5c936.gif)

## Other Information",Davidiskander,enhancement,,"Not sure how to address this issue. Cancelled only has one value/group `0`, therefore a line chart with only 1 x-value results in a blank chart. In the previous version of line chart (3.1.3), both line and range render as blank charts. The only solution i see here is to bring back this behavior:

<img width=""1432"" alt=""screen shot 2017-08-14 at 2 21 43 pm"" src=""https://user-images.githubusercontent.com/10255196/29292464-f56d83c2-80fb-11e7-8cd1-98306b7b8560.png"">


,nytai
@Davidiskander  Is this a regression?,duhoang
This strikes me as an edge case, one we probably shouldn't block release for. Am I correct in that it only happens if you have something with one bin?,tmostak
yes, as far as I could tell from some investigation it only happens when there is only one bin/group. ,nytai
Well! it's a regression,Davidiskander
yes. But previous behavior was a consistently rendered blank chart, correct? 

One that looks like https://github.com/mapd/mapd-immerse/issues/3072#issuecomment-322313502

They're both kind of undesirable. So bringing back previous behavior isn't really the proper fix ,nytai
Yes! @nytai. Previous behavior was a consistently rendered blank chart.

However, I prefer black or white. It wasn't working at all and consistent, but now it's buggy and unexpected. Every time I reproduce the steps, I get a new behavior. ,Davidiskander
What I suggest is to make it right with the new line chart. One solution is to show it as a single point. (These dots are also useful to show gaps in a non-continuous data line.) That way you can show the point color, the tooltip, the exact value, etc. @mythilimapd what do you think? I can fix it in no time as soon as we are done with multi-measure.,biovisualize"
error when updating numerical dimension to time dimension on line chart when range filter is present. ,3059,,2017-08-11T21:57:12Z,2017-11-27T16:18:05Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description
error is thrown when a changing x-dimension from numerical to time when a filter is present. Error is: `TypeError: this._.getUTCMonth is not a function`

## Steps To Reproduce
Create a line chart (w/ range) with a numerical x-dimension
Apply a range filter
Change the x-dimension to a date column
## Expected Result
Chart updates x-dimension without errors 
## Actual Result
error is thrown and chart becomes unusable
## Link To Dashboard
http://kali.immerse-master.prod.frontend.builds.mapd.com/#/link/mapd/79c21e79
## Screenshots

## Other Information",nytai,bug,,"Still present in 3.2.3,menaczar
@menaczar I can't reproduce. Can you confirm?
![numerical_to_date](https://user-images.githubusercontent.com/824534/33276796-940c4666-d364-11e7-9b6d-cdf41a3fe0ec.gif)
,biovisualize"
Microsoft Edge could allow user to scroll ,3053,,2017-08-10T22:46:21Z,2017-09-27T21:21:52Z,"## General Info
- **Platform**: windows
- **Browser Name**: Edge
- **Browser Version**: All
- **Application Version**: production/ demos

## Issue Description

## Steps To Reproduce
- Go to demos
- Open US Political Donations dashboard
- Scroll horizontally toward the right side

## Expected Result

## Actual Result
User is able to scroll way far after web elements are. Find screenshot

## Link To Dashboard

## Screenshots
![screen shot 2017-08-10 at 3 05 52 pm](https://user-images.githubusercontent.com/10747240/29195276-7c00c43e-7de2-11e7-8fed-af1635d156a9.png)

## Other Information",Davidiskander,"3.2 RC4,P3,bug",,"still present in 3.2.3,menaczar"
Should be able to have more colors in color palette so colors won't duplicate for different categories,3050,,2017-08-10T20:55:30Z,2017-09-27T21:22:37Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description

## Steps To Reproduce
- Create a new dashboard; use flights data set
- Create a scatter chart 
- **Measures:** airtime, arrdelay, crsdeptime, dest_city
- Go to color palette on the right side
- Add all cities that are available 

## Expected Result
- Each city has different color and is identifiable on the chart

## Actual Result
- There is only a set of 11 colors
- After all colors in the palette are used, same colors are reused which makes it harder to identify scope on chart 


## Link To Dashboard

## Screenshots
![screen shot 2017-08-10 at 1 33 01 pm](https://user-images.githubusercontent.com/10747240/29191691-6ee0f698-7dd3-11e7-8770-885cb59a4a24.png)

## Other Information",Davidiskander,"3.2 RC4,P3,bug",,"Still present in 3.2.3,menaczar"
Time Range Global Filter Inputs Do Not Apply Filter,3027,,2017-08-08T23:12:23Z,2018-02-05T19:04:22Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: 2852

## Issue Description

## Steps:
- Open dashboard: Dashboard Crossfilter
- Open the table chart
- Add arr_timestamp column
- Go back to the dashboard
- Add ""arr_timestamp"" filter 
- Change the range 
- Tap enter/ return

## Expected:
- Filter text field updates text
- Table filters out data

## Actual:
- Filter text field updates text
- Table goes blank

## Screenshot:
https://drive.google.com/a/mapd.com/file/d/0B-ZnJ3RF36TmVkFLQzU0X2tsYkU/view?usp=sharing

![screen shot 2017-08-02 at 2 42 36 pm](https://user-images.githubusercontent.com/10747240/29098451-4a118006-7c54-11e7-95bf-f0a29daae861.png)

## Other Information",Davidiskander,"bug,needs info",,"Not a crossfilter refactor bug, appears to be an Immerse bug that has been fixed, as it cannot be recreated on Master with refactored crossfilter or legacy crossfilter.,Drecula
What exactly is this bug? @Davidiskander can you please see if you can still repro and update with your findings? I think the issue you may have found is actually a table chart bug that happens sometimes, not global filters. ,nytai"
[Cross Filter] The Table could go blank ,3021,,2017-08-08T21:43:01Z,2017-09-14T23:14:23Z,"## General Info
- **Platform**: Mac
- **Browser Name**: Chrome
- **Browser Version**: All
- **Application Version**: 2852

## Issue Description

## Steps:
- Open dashboard: Dashboard Crossfilter
- Go to airtime filter
- Make operator "" = "" and  Value "" zero ""

## Expected:
- It should act like Null
- It should still show the table with Null values

## Actual:
- The whole table goes blank

## Link To Dashboard

## Screenshots

## Other Information",Davidiskander,"bug,needs info",,"Not a crossfilter refactor bug. Exists in master with crossfilter v1.1.0,Drecula
Can you clarify what you mean by `It should act like Null`?

When you said you made the operator  a `"" zero ""` do you mean the string ""zero"" or the number 0?,mrblueblue"
Number Chart value shouldn't be NULL,3019,,2017-08-08T21:35:23Z,2017-09-27T21:45:20Z,"## General Info
- **Platform**: Mac
- **Browser Name**: Chrome
- **Browser Version**: All
- **Application Version**: 2852

## Steps:
- Open dashboard: Dashboard Crossfilter
- Go to airtime filter
- Make operator "" = "" and  Value "" zero ""

## Expected:
- Some friendly text (i.e: No Available Data)

## Actual:
- text = NULL

## Link To Dashboard

## Screenshots

## Other Information",Davidiskander,enhancement,,"Not a crossfilter refactor bug. Exists in master with crossfilter v1.1.0,Drecula
Still in 3.2.3,menaczar"
[Dimension Lock] The value of bars on bar chart could disappear as a side effect of the dimension lock,3018,,2017-08-08T21:27:58Z,2017-09-27T21:44:34Z,"## General Info
- **Platform**: Mac
- **Browser Name**: Chrome
- **Browser Version**: All
- **Application Version**: 2853

## Preconditions:
Dashboard: 
Contributions
Dimensions: 
X-axis: BIN contrib-date
Series: candidacy_status
Measures:
Height: AVG id

## Steps:
Edit the max value lock on the x-axis

## Observation:
The measure values could disappear as it will be cropped from the right side

## Expected:
The values should auto relocate to always show on graph

## Screenshot:
https://drive.google.com/a/mapd.com/file/d/0B-ZnJ3RF36TmZDlNTzdFVTBBV00/view?usp=sharing


## Link To Dashboard

## Screenshots

## Other Information",Davidiskander,"3.2 RC4,P1,bug",,"Still present in 3.2.3,menaczar"
[Measure Lock] The input box on y-axis should appear on the left side of the axis when hovering over the axis,3017,,2017-08-08T21:16:29Z,2017-09-27T21:49:10Z,"## General Info
- **Platform**: Win
- **Browser Name**: IE11
- **Browser Version**: All
- **Application Version**: 2853

## Preconditions:
Dashboard: 
Contributions
Dimensions: 
X-axis: BIN contrib-date
Series: candidacy_status
Measures:
Height: AVG id

## Charts:
Histogram

## Steps:
Hover over the y-axis

## Observation:
The input box for min and max appear on the right side of the axis

## Expected:
The input box for min and max appear on the left side of the axis

## Link To Dashboard

## Screenshots

## Other Information",Davidiskander,"3.2 RC4,P1,bug",,"still present in 3.2.3,menaczar"
Graph plotting could disappear with small y-axis boundary,3014,,2017-08-08T20:18:48Z,2017-09-27T22:17:49Z,"## General Info
- **Platform**: MAC
- **Browser Name**: Chrome, SAFARI
- **Browser Version**: All
- **Application Version**: 2853

## Issue Description

## Environment
Dashboard: 
Contributions
Dimensions: 
X-axis: BIN contrib-date
Series: candidacy_status
Measures:
Height: AVG id

##Steps:
- Choose y-axis 0 - 350; locked BIN: 1mo

Observation:
- Graph plotting disappears Unlocking the y axis, allows all graph plotting to appear again

##Expected:
- Histogram graph should always plot the available data Screenshot:

##Screenshot:
https://drive.google.com/a/mapd.com/file/d/0B-ZnJ3RF36TmNWlfODN2dDNwa2M/view?usp=sharing


## Other Information",Davidiskander,"P1,bug,needs info",,"@Davidiskander need for info, there is a difference between chrome and firefox images in terms of date filter and it is not clear to me what the exact issue is. Could you please clarify. Also may I request you to attach gifs or screenshots directly to bug instead of including links to google docs, please? ,mythilimapd
@mythilimapd! I apologize for not replying sooner. Didn't actually see the comment till now.

The bug is still happening on V3.2.3
The same data is showing differently on different browsers
![screen shot 2017-09-27 at 3 12 41 pm](https://user-images.githubusercontent.com/10747240/30940627-86174586-a396-11e7-93a5-6ac4b412db58.png)
![safari](https://user-images.githubusercontent.com/10747240/30940666-a59dad82-a396-11e7-83a8-bb4ee1b266f7.png)
,Davidiskander"
Line chart Series selection moves to Dimension after switching to pie and back,3012,,2017-08-08T19:21:25Z,2017-11-27T16:10:55Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description

## Steps To Reproduce
* Start with a line chart
* Pick some series
* Switch to pie chart
* Switch back to line chart

## Expected Result
The selected series should still be there

## Actual Result
The selected series moved to Dimension

## Link To Dashboard

## Screenshots
![series_move_to_x](https://user-images.githubusercontent.com/824534/29090331-39044cb4-7c4d-11e7-81d4-8806e70650f8.gif)

## Other Information",biovisualize,"3.2 RC4,bug,component-charting",,"Still in 3.2.3,menaczar
This is not really a bug but the result of how we handle all the data selections. When switching chart, all selections get attributed to the first slot available. The way to fix it would be to persist all selections until the chart editor is closed. If that's what we want, let's change the title to `Persist data selection state across chart changes` and add some acceptance criteria.,biovisualize"
Locking/unlocking dimensions for histogram chart x-axis with binning causes chart to be redrawn differently (bins shift),3010,,2017-08-08T19:05:28Z,2017-09-27T22:04:13Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description
Locking/unlocking dimensions for histogram chart x-axis while binning to 10-yrs could lead into filtering delta of data between the maximum data in data set and the max value of bin. In this case below that was worth 4 years of data.

## Steps To Reproduce
- Create a histogram chart from contribution data set
- Dimensions: contrib_date
- Dimensions: committee_party
- Measures: id
- Change y-axis binning to 10yrs
- Observe => lock/ unlock x-axis dimensions 

## Expected Result
Chart should not be affected by lock/unlock if no value was added to the lock

## Actual Result


## Link To Dashboard

## Screenshots
![max 10yrs bin vs max data set](https://user-images.githubusercontent.com/10747240/29089581-8e474fc6-7c31-11e7-91c3-784286fc3c87.gif)
## Other Information",Davidiskander,"P2,bug",,"This is a known issue with the lock/unlock x-axis. This only occurs on binned dimensions. 

The main issue is that the binning formula depends on the min/max. Due to binning the max is not the max of the dataset, instead it is that last bin. When locking we clamp down on the last bin, which means that the min/max isn't the min/max of the dataset, instead it's the min/max of the binned dataset, which causes the binning formula to change and the charts bins shift. 

We can address this, however it will likely add complexity as we will have to store min/max of dataset on chart as well as ,nytai
duplicate of #3005  so closing this issue,mythilimapd
I don't think this is a dup. If we fix #3005, we'll still have this behavior ,nytai
Thanks @nytai ,mythilimapd
Still in 3.2.3,menaczar"
Scatter Plot Y Axis Intersects Label,3007,,2017-08-08T18:48:15Z,2017-09-27T22:18:38Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description
The y axis of the scatter chart interferes with the Y Axis Label

## Steps To Reproduce
Create a scatter plot. For this example, I used the tweets data set with followers/followees as measures.

## Expected Result
Chart renders with unimpeded axes

## Actual Result
Chart renders with the y-axis markings intersecting with the y axis label.

## Link To Dashboard

## Screenshots
![scatter chart rendering issue](https://user-images.githubusercontent.com/8594375/29088866-743371ca-7c2f-11e7-87dc-2f822a4da737.gif)


## Other Information",ayyrickay,"3.2 RC4,bug",,"Still in 3.2.3,menaczar"
Range chart is rendered with x-axis locked,3005,,2017-08-08T18:31:46Z,2018-02-27T23:03:22Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: minos 3.2.0 RC4

## Issue Description
range chart is rendered with x-axis locked. It should be unlocked by default. Also, no matter what, when the range chart is toggled off then on the x-axis is locked. 
## Steps To Reproduce
Create a line/histogram chart with range chart enabled.
Notice that x-axis is locked.
Unlock x-axis
Toggle range chart off/on 
Notice x-axis is locked. 
## Expected Result
Range chart has x-axis unlocked by default when rendered. 

## Actual Result
Range chart is always rendered with x-axis locked. 
## Link To Dashboard

## Screenshots

## Other Information",nytai,bug,biovisualize,"It now seems to be rendered first with the x-axis lock open. Closing it and toggling it off/on keeps it closed. But opening it and toggling off/on brings it back to close state. And it sometimes affects the focus charts when closing the range chart.
,biovisualize
@biovisualize is this an issue with Line2 as well? If yes, can we get it fixed in Line2?,mythilimapd
Part of the issue is there on line2. I will fix it if I can before code freeze. Otherwise I will fix line2 and histogram for 3.7.,biovisualize"
Tweetmap ongoing maintenance,2995,,2017-08-07T21:35:11Z,2018-01-23T21:06:36Z,"Tweetmap ongoing maintenance

",mythilimapd,,,"@edwickable - FYI,mythilimapd
@mythilimapd This task seems to be just a placeholder and probably not relevant anymore. We should open a new one when we will identify work to be done and acceptance criteria.,biovisualize"
Progress indicator when loading a dashboard,2975,,2017-08-03T00:17:01Z,2017-08-03T00:17:34Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description
As an immerse user I would like to see a progress indicator, progress bar when loading a dashboard. This is  very useful with both single source and  multi source dashboards, particularly when dashboards don't load instantaneously.






## Other Information
",mythilimapd,enhancement,,"@Drecula  - FYI,mythilimapd"
Bubble chart : labels overlapping ,2974,,2017-08-02T23:49:54Z,2017-09-27T22:26:36Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description
Labels overlapping on bubble chart
## Steps To Reproduce
1. on master create a bubble chart with contributions dataset
2. 
![image](https://user-images.githubusercontent.com/24970225/28899816-07a990fc-77a2-11e7-8a19-8cc92f6f5838.png)

## Expected Result
Labels do not over lap
## Actual Result
Labels over lap
## Link To Dashboard
http://immerse-master.prod.frontend.builds.mapd.com/#/link/mapd/eb13aa6d
## Screenshots
![image](https://user-images.githubusercontent.com/24970225/28899869-27eb0fa8-77a2-11e7-8420-78be7fe1ca3f.png)

## Other Information
on production this is how it looks .. not regression
![image](https://user-images.githubusercontent.com/24970225/28900164-0f619f36-77a4-11e7-81e6-d09939ab3827.png)",Mrudulabaj,bug,,"I'm seeing the same bug; here is an uglier screenshot than the ones above

![screen shot 2017-08-04 at 2 53 17 pm](https://user-images.githubusercontent.com/10747240/28989186-ac2bdb80-7928-11e7-9251-a2f098ab4208.png)
,Davidiskander
Still in 3.2.3,menaczar"
Duplicating sql calls ,2969,,2017-08-02T21:06:43Z,2017-09-27T22:28:48Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description
when you load a dashboard which has one number chart . its has 3 sql calls 
## Steps To Reproduce
1. Load dashboard http://immerse-master.prod.frontend.builds.mapd.com/#/link/mapd/6a57720f
2. Check console for sql calls 
`{str: ""SELECT COUNT(*) as val FROM acled""} `
## Expected Result
Avoid duplicate  calls 
## Actual Result
duplicate calls for `{str: ""SELECT COUNT(*) as val FROM acled""}`
## Link To Dashboard
http://immerse-master.prod.frontend.builds.mapd.com/#/link/mapd/6a57720f
## Screenshots
![image](https://user-images.githubusercontent.com/24970225/28895141-1674944e-778c-11e7-8798-20133e2c3dd9.png)

![fe-2969](https://user-images.githubusercontent.com/24970225/28895134-0c589d02-778c-11e7-9c48-c08427b67e7d.gif)

## Other Information
Happening on production as well 
load https://www.mapd.com/demos/flights.. note the sql's 
`""SELECT MIN(dep_timestamp) as min_val, MAX(dep_timestamp) as max_val FROM flights WHERE (depdelay >= -121.53359665209001 AND depdelay <= 728.2915667466027) AND (arrdelay >= -158.14267836123696 AND arrdelay <= 573.67595394798)""`",Mrudulabaj,bug,,"still in 3.2.3,menaczar"
Choropleth map zoom level is not rendered consistently,2966,,2017-08-02T18:17:24Z,2017-09-27T22:32:04Z,"## Issue Description
Creating/saving/loading a Choropleth map does not have a consistent zoom level.

## Steps To Reproduce
1. Create a dashboard with a Choropleth chart, flights_123M, Dest_state, # Records
2. Save/load dashboard

## Expected Result
Choropleth is created with appropriate zoom level, then loaded with the same zoom level.

## Actual Result
Sometimes the chart is created with the zoom level not adjusted to fit the data-containing portion of the map, sometimes it is. On reload, the zoom level may or may not be the same.

## Link To Dashboard

## Screenshots

## Other Information",Drecula,bug,,"Still in 3.2.3,menaczar"
Setup npm publish process so that our libs can be `npm installed` easily ,2964,,2017-08-02T17:22:54Z,2017-08-02T17:22:54Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description
Currently there is no easy way for devs to install and consume our libs. Our /dist in github is out of sync with our latest versions, some repos don't contain /dist. We need a process, as part of release, that pushes the latest version of our libs to the npm servers so that they can be installed easily. 

Create the process, with as much automation as possible, and document it. 

Could be done along with https://github.com/mapd/mapd-immerse/issues/2963 as part of the same sprint.",nytai,tech,,
Linechart binning shows incorrect information on the max bin,2957,[object Object],2017-08-01T21:18:38Z,2017-09-08T18:12:06Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: v3.1.2

## Issue Description

open the saved line char with a filter on dashboard 'Poor Display' on kali

everything seems correct and the chart is accurate

![image](https://user-images.githubusercontent.com/4306442/28847374-d157758e-76c3-11e7-8fb5-94654db134be.png)

note the time is 11:00 until 4:00

move the range selection around a little and settle back on 11:00 to 4:00 same day

![image](https://user-images.githubusercontent.com/4306442/28847430-0f7b76d0-76c4-11e7-8a9a-769966b487d8.png)

note the different visuals and the data railing off toward zero


## Steps To Reproduce

Build the same dashboard as above

## Expected Result

Dashboard should appear the same after sliding the time range around

## Actual Result

results are not sonsistent

## Link To Dashboard

http://kali.mapd.com:9092/#/link/mapd/bc9c262c

## Screenshots

See above

## Other Information

Verizon is experiencing this issue",dwayneberry,"bug,customer",,"I think the results are consistent, its just that the Y Axis range max has decreased,mrblueblue
Is there any chance this is a SQL and/or backend error? This is the query we're sending:

```
SELECT date_trunc(hour, tweet_time) as key0,COUNT(*) AS val FROM tweets_2017_may WHERE (tweet_time >= TIMESTAMP(0) '2017-05-07 03:00:00' AND tweet_time <= TIMESTAMP(0) '2017-05-07 20:00:00') GROUP BY key0 ORDER BY key0
```
RESULT:

key0 | val
---- | ---
Sat May 06 2017 20:00:00 GMT-0700 (PDT) | 206578
Sat May 06 2017 21:00:00 GMT-0700 (PDT) | 187512
Sat May 06 2017 22:00:00 GMT-0700 (PDT) | 156497
Sat May 06 2017 23:00:00 GMT-0700 (PDT) | 144701
Sun May 07 2017 00:00:00 GMT-0700 (PDT) | 137327
Sun May 07 2017 01:00:00 GMT-0700 (PDT) | 138084
Sun May 07 2017 02:00:00 GMT-0700 (PDT) | 140788
Sun May 07 2017 03:00:00 GMT-0700 (PDT) | 147002
Sun May 07 2017 04:00:00 GMT-0700 (PDT) | 166280
Sun May 07 2017 05:00:00 GMT-0700 (PDT) | 191780
Sun May 07 2017 06:00:00 GMT-0700 (PDT) | 228724
Sun May 07 2017 07:00:00 GMT-0700 (PDT) | 257746
Sun May 07 2017 08:00:00 GMT-0700 (PDT) | 271334
Sun May 07 2017 09:00:00 GMT-0700 (PDT) | 284037
Sun May 07 2017 10:00:00 GMT-0700 (PDT) | 269406
Sun May 07 2017 11:00:00 GMT-0700 (PDT) | 283792
Sun May 07 2017 12:00:00 GMT-0700 (PDT) | 279936
Sun May 07 2017 13:00:00 GMT-0700 (PDT) | 93

Seems like the `DATE_TRUNC` could be behaving oddly at the max of the range (perhaps only choosing things that were sent _at_ 1PM PDT, etc?

UPDATE: This is almost certainly it. The initial render looks fine because the query is:

```
SELECT date_trunc(hour, tweet_time) as key0,COUNT(*) AS val FROM tweets_2017_may WHERE (tweet_time >= TIMESTAMP(0) '2017-05-01 00:00:00' AND tweet_time <= TIMESTAMP(0) '2017-05-12 23:59:59') GROUP BY key0 ORDER BY key0
```

I'll try and track down a fix now, but any guidance on where to look would be greatly appreciated.,ayyrickay
@mythilimapd
 
Tai and I went over this, and as it turns out, the initial render of the line chart was grabbing the entire line chart, and then focusing in to the range (hence the ""correct"" data being shown.) Once a person scrubbed on the range chart, though, it switched to querying for the actual range.

As of this afternoon, the line chart is now consistently rendering with that drop off, which is what the behavior has been in the past. Do we want to make this an enhancement to make that last point in the focused line chart ""smarter"", or do we want to de-prioritize it?,ayyrickay
@ayyrickay Since it is a customer bug, we should get it fixed. ,mythilimapd
The main issue here is a feature on binned line/histogram chart called brush snapping. The feature snaps the brush to round intervals (eg 1:00:00 - 2:00:00). Currently there is a bug in that there is no redraw when the bush is snapped, therefore the queries are fired with the non-round intervals (eg. 1:02:03 - 2:15:47), however what is save by immerse is the round interval, which causes discrepancies between what the dashboard looked like on save and when it is reloaded. The simple fix is to fire a redraw after the brush snapping is done. Downsides to this approach is that it results in an extra query (though with some thought this can be avoided). 

in order to have a ""smarter"" brush snap, we should not filter out on the upper range as combined with `date_trunc` this results in the last bin always being much lower than the others. A smarter snap would not filter out the upper range and would instead snap to something like (1:00:00 - 2:59:59 -- when binned by hour) so that `date_trunc` would be able to properly aggregate the last bin, and not just take values that land directly on `hh:00:00`,nytai
related to #3111,nytai
Alas, subtracting a millisecond from the upper range makes a gap in the line chart. It looks like the line chart resolution is an hour scale, and it truncates versus rounds?

![awcrap](https://user-images.githubusercontent.com/6826347/29900828-03d57afa-8da9-11e7-9231-26d4897a44ce.png)




,Drecula
That looks better, I think. My guess is that the chart's x-domain also needs to be adjusted to get rid of the ""gap"". But that looks better than the drop 
,nytai
Brushing a range filter for numeric data leaves a gap on the right side of the x axis. For the sake of getting something done, is subtracting a millisecond for the end range of a date 'good enough'?

If this is an acceptable workaround, I'll also need to trace the initial loading and rendering of the chart to subtract a millisecond if needed, since it does not execute exactly the same logic for initial render.

![linechartrangefilternumeric](https://user-images.githubusercontent.com/6826347/29947587-38599016-8e5f-11e7-983c-d600d2be4102.png)
,Drecula
I think line chart has been doing this for a while, it isn't new behavior ,nytai
@Drecula - Yes this is acceptable workaround for now.,mythilimapd
Should we be mutating the chart state 'on the fly' during dashboard load, or would it be better to run a script on the back end?

Also, there is a chance of user confusion, given that they might remember the chart looking one way (drops off at the last bin) versus it now showing the last bin omitted.

Lastly, it would be helpful to have an explicit spec versus bits and pieces in this thread. Please provide.,Drecula"
Custom Dimensions Refresh Irregularities,2953,,2017-08-01T18:02:26Z,2017-08-03T00:00:57Z,"## General Info
Running on immerse-master.prod.frontend.builds

## Issue Description
When I change arguments in my Custom Dimension SQL Query, the results are unpredictable.

## Steps To Reproduce
Manifold. I can create a query, change an element, click OK, and the change is not reflected. I can make a second change, and the prior change is reflected. I can change the dashboard entirely and get labels from a completely unrelated dashboard and datatable.

## Expected Result
Changes to the SQL query are immediately reflected in the applicable table, and only in that table.

## Actual Result
Woo-hoo, wild west time!

## Link To Dashboard
http://immerse-master.prod.frontend.builds.mapd.com/#/dashboard?_k=cjsxor

Direct link doesn't seem to be working. I'm looking at the UFO Funnel and Political Party Affliation dashboards.

## Screenshots

Video sample of weirdness.
![custom_weirdness](https://user-images.githubusercontent.com/6788473/28840639-7b3ff84a-76ac-11e7-9da1-181e7b479c4b.gif)

Here's the label Dudes, which I used on an unrelated table and dashboard (see video), but somehow ended up corrupting the query on the UFO Funnel table.
![dudes_in_space](https://user-images.githubusercontent.com/6788473/28839499-baa2a6f8-76a8-11e7-9c41-05c7b389b341.png)


## Other Information",DennisDawson,,,"@DennisDawson can you re-submit the dashboard link?,MarcBalaban
@DennisDawson  I'm a bit unclear what the root bug is here.

I believe I understand, but I think the report needs a bit more clarity before it can be reproed effectively.,MarcBalaban
Closing bug as we are currently unable reprod.  Feel free to reopen @DennisDawson if you encounter again.,MarcBalaban
So @DennisDawson was able to recreate this issue.

Repro steps are unclear, but with this dashboard:
http://immerse-2854.dev.frontend.builds.mapd.com/#/link/mapd/d09ac0b0

You can see:
![image](https://user-images.githubusercontent.com/2932405/28894752-a79286b8-778a-11e7-8fb1-2e823fcdaecf.png)

`Dudes` is a slice of the pie, but if you look at the Custom SQL for Dimension.

```
SELECT case when Parties like 'Democratic' and Gender like '%F%' then 'Female French Democrats'
when Parties like 'Democratic' and Gender like '%M%' then 'Male Democrats'
when Parties like 'Republican' and Gender like '%F%' then 'Female Republicans'
when Parties like 'Republican' and Gender like '%M%' then 'Male Republicans' 
when Parties like '%Ind%' and Gender like '%F%' then 'Female Independents'
when Parties like '%Ind%' and Gender like '%M%' then 'Male Independent' 
when Parties like '%Bull%' and Gender like '%F%' then 'Female Bull Moose'
when Parties like '%Bull%' and Gender like '%M%' then 'Male Bull Moose'
else 'Other' end as key0, COUNT(*) AS val FROM VOTERS_USA GROUP BY key0 ORDER BY val DESC LIMIT 10
```

There is no ""Dudes"" listed.

There is some caching occurring.

What's even stranger is if you look at the network request:
![image](https://user-images.githubusercontent.com/2932405/28894895-27add8b6-778b-11e7-9833-1e35f4816ea9.png)

The backend seems to be responding with the wrong results.

This is confirmed by a mapdql query:

![image](https://user-images.githubusercontent.com/2932405/28895033-9d30b4dc-778b-11e7-996b-4f8abd571647.png)

This looks to be a backend issue based on this.,MarcBalaban
@MarcBalaban, @Mrudulabaj  How do we transfer this issue to the backend? ,mythilimapd
The case is not reproducing now.  
I think at this point, it should be handed over to QA.

`If you submit a case query, there might be some caching that occurs on the backend.`

As you can clearly see that mapdql had no reference to ""Dudes"", yet ""Dudes"" came back with 40,233,208 results.,MarcBalaban"
Single Table Widget,2949,,2017-07-31T20:27:09Z,2018-01-23T21:04:37Z,"## Description
We currently have 2 table widget implementations (mapd-table, data-table), both in dc and mostly redundant. Consolidating these table features in a new one would fix many issues, e.g.: #2927 #2897 #2832 #2730 #2505 #1780, and would get ready for the pivot table mentioned in the feature request spreadsheet.

## Possible tasks
- [ ] list all needed features
- [ ] choose the right table library to use
- [ ] replace both table widget one by one, which will fix a batch of issues

## Acceptance criteria
All table issues are fixed, features are the same, codebase is ready for working on the pivot table feature.",biovisualize,,,"I'm (cautiously) leaning towards having one grid for charting and another one for Immerse. For the latter, we're going to want an editable tree grid at some point, I'll bet.,Drecula
@Drecula I'm a bit confused why we would want 2 different implementations of table chart?

It seems the most logical approach is simply to deprecate data-table as it hasn't been worked on for the last year.,MarcBalaban
The legacy table chart is already deprecated and out of the Immerse codebase. Having a different implementation (e.g. for pivot table, UI table and table chart) would only make sense if we write down the specs and the bugs and figure out that that we need different approaches to the code. But once again, we can only discuss these details once we have a list of the specs for all these cases. So let's write them down.,biovisualize
@mythilimapd The need for this feature is not obvious, not urgent and should be removed.,biovisualize
Moved it to the fridge, we can resurrect at a later stage, if needed. I don't want to remove it.,mythilimapd"
provide all useful mapdql functionality from Immerse,2943,,2017-07-28T00:38:13Z,2017-07-28T00:38:13Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description
SQL Editor allows most but not all activities to be done via Immerse, and with better usability, but there are some capabilities that are available only via mapdql.  Note, for some of these actions Immerse might provide something different or nicer than mapdql.  Anyway, here's a list of what I see missing:
explain and explain calcite (grammar accepted, but Immerse doesn't display output)
gpu/cpu (not so common, but useful for some debugging)
version (belongs somewhere else, like ""about Mapd"")
users, databases (maybe belongs in an admin tab)
memory_summary
connect & disconnect

I think can consider the following as done:
\d, \v, \t, \timing, copy, copygeo

## Steps To Reproduce

## Expected Result

## Actual Result

## Link To Dashboard

## Screenshots

## Other Information
",billmaimone,,,
Tutela : Text is bleeding out of chart,2937,,2017-07-26T22:54:35Z,2017-08-02T15:02:19Z,"## General Info
- **Platform**: All
- **Browser Name**: chrome
- **Browser Version**: All
- **Application Version**: prod Tutela 

## Issue Description
Axis info is bleeding out of chart
## Steps To Reproduce
1. Load : https://www.mapd.com/demos/telecom 

## Expected Result
Data does not bleed
## Actual Result
data bleeds
## Link To Dashboard

## Screenshots
![image](https://user-images.githubusercontent.com/24970225/28647205-9691bb1a-721a-11e7-9300-2fd663c385e3.png)

## Other Information",Mrudulabaj,"bug,customer",,
histogram : brush the chart and it snaps ,2932,,2017-07-25T20:38:25Z,2017-07-25T20:38:25Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: minos

## Issue Description
brush snaps  when you brush on histogram
## Steps To Reproduce
1. create a histogram with contributions data set
![image](https://user-images.githubusercontent.com/24970225/28592593-65f8668e-713e-11e7-804a-d8357146b98a.png)
2. brush the chart 
## Expected Result
no snapping
## Actual Result
snapping
## Link To Dashboard

## Screenshots
![fe-minos-brush](https://user-images.githubusercontent.com/24970225/28592616-77b50ca6-713e-11e7-9344-068602a81674.gif)

## Other Information
this happens on mit as well .. not a regression
![fe-mit-brush](https://user-images.githubusercontent.com/24970225/28592635-845c3128-713e-11e7-83be-c0c0095622c9.gif)",Mrudulabaj,bug,,
Global Filters: Selecting a column after selecting 'Custom' throws error,2926,,2017-07-24T20:07:11Z,2017-09-01T02:42:09Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description

When I create a new global filter, if I select 'custom', then use the carat selector to pick a column and add a value, it throws an error.

## Steps To Reproduce: See above

## Expected Result: 
Global filter created for selected column. If there's an error, I would expect to NOT have a pill created with a red border and the value highlighted in red. Either the pill should not be created, or there should be helpful error correction supplied to the UI.

## Actual Result: 2 Errors: (1) Error popup, (2) filter pill created with highlighted error

## Link To Dashboard

## Screenshots

<img width=""701"" alt=""image"" src=""https://user-images.githubusercontent.com/6826347/28542432-f550900a-7070-11e7-9038-7a33cd95fec6.png"">

<img width=""183"" alt=""image"" src=""https://user-images.githubusercontent.com/6826347/28542477-20017698-7071-11e7-8897-5341f7b4c030.png"">

## Other Information",Drecula,enhancement,,"Please provide a specification so this can be fixed.,Drecula
@Drecula I believe spec is above, under `Expected Result` ,nytai"
Charting Library is not working as desired when binning is OFF,2924,,2017-07-24T20:05:27Z,2017-07-24T20:05:27Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description
When Binning is off the charts should automatically adjust to the starting value in x axis, when the bins are set it works fine.

For example:
Data
X-axis : Years ranging from 1956-2016
Y-axis :  Values 0-2.2K

By just selecting the column values without specifying bins the X-axis values aren't getting adjusted to start from 1956.

## Steps To Reproduce
1. Select a flights table and create a dashboard.
2. Click on new chart and select line chart.
3. select Plane year in x-axis and Distance in Y-axis

## Expected Result
A horizontal line shouldn't get displayed which is a result of default adjustment to the starting value of year.

## Actual Result
The horizontal line should not be displayed. Charting should start from 1956

## Link To Dashboard
http://minos.mapd.com:8000/#/dashboard?_k=4d2zzp

## Screenshots
![screen shot 2017-07-24 at 13 03 55](https://user-images.githubusercontent.com/13969177/28542353-b7ebf150-7070-11e7-8b46-63bc6f21422c.png)

## Other Information",wamsiv,enhancement,,
Error: Exception sorting results will be too slow,2919,,2017-07-24T19:32:04Z,2017-07-25T16:37:39Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description
Contributions data set, Add contributor_employer as dimension and # of Records as measures. Create a table chart. Then switch to choropleth, it throws an error. Sorting results will be too slow.

Two issues with this bug:

1. Not sure why we allow switching to choropleth based on the measures and dimensions we have.
2.  
## Steps To Reproduce



## Expected Result

## Actual Result

## Link To Dashboard

## Screenshots
<img width=""488"" alt=""mapd_immerse"" src=""https://user-images.githubusercontent.com/29928117/28540965-10e920e8-706c-11e7-976f-bc2618260ac7.png"">


## Other Information",mythilimapd,"bug,stability",,"@mythilimapd The problem here is that Immerse is issuing queries without a limit, which causes the backend to throw this exception.  The proper fix would probably be to make sure a limit is always applied to Immerse queries.

See also: https://github.com/mapd/mapd-immerse/issues/2281

@asuhan as watcher,edmapd
@edmapd unfortunately  it is a bad user experience, particularly for the heatmap case where Immerse becomes unusable. ,mythilimapd
Yes, I agree we should issue better queries from Immerse. At this point it's not clear which limitations should be fixed in the back-end and which are just a byproduct of Immerse generating unnecessary complex queries.

The way I see it:

1. Immerse should *never* generate sort without a limit. At least I don't know of any chart which, in principle, would require such queries.
2. Grouped queries without `LIMIT` (but also without sort) are sometimes required (heat maps for example) and the back-end can handle it. If it cannot, it means that the result would be 40+ millions of groups, which would be impossible to render anyway. Since `LIMIT` is not the right tool for this case, I suggest we should add an additional parameter to `sql_execute` which would specify how many groups is Immerse capable of handling (it'll be a lot less than 40M, for sure). If the number of groups is higher than the specified limit, the back-end will throw and we'll be able to avoid transferring a huge amount of data only for it to be discarded anyway because we can't render it.,asuhan
I believe that `sql_execute` already has such parameter (`first_n`),mrblueblue
@mrblueblue `first_n` truncates silently. We need an all-or-nothing parameter which would ask the server to throw if the result contains more rows than the specified value. They are different; for a heat map query, truncating silently wouldn't be correct behavior.,asuhan
We need to get this fixed. This to me is a P0 along with the other issue with heatmap. These failures   make the product look unstable from paying customers point of view.,mythilimapd"
SQL Editor - Phase II,2918,,2017-07-24T18:47:50Z,2018-01-23T21:04:37Z,"## Phase II  (?)
- Popout query
- Generate Charts
- Jypter - like inline editing
- Syntax Autocomplete

",mythilimapd,,,
Tests & Test Automation - Phase 1,2912,,2017-07-22T05:14:19Z,2018-01-23T21:04:37Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description

## Steps To Reproduce

## Expected Result

## Actual Result

## Link To Dashboard

## Screenshots

## Other Information
",mythilimapd,,,
Refactor Global FIlter,2904,,2017-07-21T23:02:29Z,2018-01-23T21:04:37Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description

## Steps To Reproduce

## Expected Result

## Actual Result

## Link To Dashboard

## Screenshots

## Other Information
",mythilimapd,,,
Admin UI,2902,,2017-07-21T21:03:29Z,2018-01-23T21:04:37Z,"# User story
When we will have permissions and roles #2836 in Immerse, the user will need an admin panel to manage them.

# Acceptance criteria
- Users can modify persmissions and roles
- Permissions and roles are applied and enforced

# Possible task breakdown

- [ ] Design UI for admin from requirements and feature availability
- [ ] Break down development into tasks
- [ ] Implement UI",biovisualize,,,
Stability Phase 1,2900,,2017-07-21T20:27:50Z,2018-01-23T21:04:37Z,"## User story
Users want to feel that the product is robust, predictable, with meaningful error messages and overall responsiveness.

## Scope
The areas we identified as candidates for this session of refactoring are:
* Error Handling
* Switching between charts
* DC 
* Color  (color & binning)
* Zoom In /Zoom Out
* Routing, refresh

## Acceptance criteria
* All tasks related to the identified areas must be completed
",biovisualize,,,
[Global Filter Inputs] Better Click/Delete UI,2890,,2017-07-19T18:01:50Z,2017-10-05T14:55:12Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: Master 

## Issue Description
Create a crossfilter , after you delete '0' and change the operator from '=' to '<' .. the value is not cleared and instead it assumes that value is still '0' and gives you the result
## Steps To Reproduce
1. on dashboard : http://immerse-2854.dev.frontend.builds.mapd.com/#/link/mapd/98e55849
2. start creating a crossfilter wirh Alt = 0 
3. Delete value 
4. now keep changing the operator parameters
## Expected Result
Erroring out with message asking to enter value
## Actual Result
Cache the value and No Errors 
## Link To Dashboard
http://immerse-2854.dev.frontend.builds.mapd.com/#/link/mapd/98e55849
## Screenshots
![fe-2854](https://user-images.githubusercontent.com/24970225/28382046-a6d3a212-6c71-11e7-98ff-2a2242c6d33e.gif)

## Other Information",Mrudulabaj,enhancement,,"This task is In Progress, but no one is assigned to it. Should we move it out?,biovisualize"
binned dimension (with changed defaults) on bubble chart fails to render,2886,,2017-07-17T22:54:20Z,2017-12-01T17:34:49Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Steps To Reproduce

http://immerse-master.prod.frontend.builds.mapd.com/#/link/mapd/2591b86e

1) Create new chart
2) Select Bubble Chart
3) Add new dimension (actualelapsedtime) and change `# of bins` to 30 and `min/max` to 12/100.
![image](https://user-images.githubusercontent.com/2932405/28293184-ab7849c8-6b07-11e7-812a-f0a581205251.png)

4) select `# records` for both x/y.
![image](https://user-images.githubusercontent.com/2932405/28293245-1743ed1a-6b08-11e7-8326-56df6c57f9e2.png)

5) should get this error:

![image](https://user-images.githubusercontent.com/2932405/28293149-78317f30-6b07-11e7-9e77-71f187c6820c.png)

 -------------------

It does not matter which measures you select, so has nothing to do with `# records`",MarcBalaban,bug,,"Still in 3.2.3,menaczar"
"Pointmap allows lat to be selected for lon, and vice versa",2873,,2017-07-13T21:40:10Z,2017-09-27T22:53:09Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description
Pointmap measures permit lon to be selected for lat, and lat to be selected for lon. As a naive user, I didn't notice the Lon and Lat labels to the left of the measure selectors.

## Steps To Reproduce
self-evident

## Recommended resolution

We should block bad input. In this case, don't show 'lat' as a selectable option for 'lon', etc.
",Drecula,component-raster,,"Still in 3.2.3
,menaczar"
IE 11 : #records show is empty on table chart,2872,[object Object],2017-07-13T21:03:47Z,2017-12-01T17:34:49Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: Minos
## Issue Description
#records column does not populate date on table chart IE11
## Steps To Reproduce
1. Select Contributions dataset on Minos 
2. On Table chart pick Amount for dimensions then #records for  mesure
## Expected Result
Records should be populated 
## Actual Result
Records are empty
## Link To Dashboard

## Screenshots
![fe-pc](https://user-images.githubusercontent.com/24970225/28187583-0f19e8d8-67d4-11e7-9b0d-145fe8ec2acf.gif)

## Other Information
This is regression .. on PC data in production on IE11, Records are populated",Mrudulabaj,bug,,"I couldn't reproduce this from Minos using Browserstack IE11. Perhaps it is an intermittent problem with the back end?,Drecula
My guess is that this is the same issue as #2848, likely a dup ,nytai
Cannot repro.  Mru also could no longer repro.,edmapd
fixed by https://github.com/mapd/mapd-charting/pull/72,nytai
Running into this a lot. Also had some cross-contamination of data from a different dashboard.

![http- immerse-master prod frontend builds mapd com 2017-08-30_12-13-38](https://user-images.githubusercontent.com/6788473/29890693-57631e42-8d7d-11e7-8457-266bb05755e2.gif)

,DennisDawson"
Bug: Date range filter breaks count,2871,,2017-07-13T20:48:02Z,2017-12-01T17:34:49Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description
The filter count gets out of sync

## Steps To Reproduce
1.    Date source: Contributions
2.     Dims: committee_name, contrib_date
3.     Meas: #Records.
4.     Sort by contrib_date desc
5.     Save chart
6.     Add Filter
7.     Select contrib_date
8.     Single click '10/14/2015'
9.     Lose focus on range picker

## Expected/Actual:

filter count === 1, got 0, even though pill was created 

there are also times when count is incremented to 2 for 1 filter, but I can't consistently reproduce

## Link To Dashboard

## Screenshots

## Other Information",Drecula,,,
Bug: Date range allows entry of invalid dates,2870,,2017-07-13T20:39:53Z,2017-12-01T17:34:49Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description
1. Date source: Contributions
2. Dims: committee_name, contrib_date
3. Meas: #Records.  
4. No null dimensions
5. Sort by contrib_date desc
6. Save chart

## Steps To Reproduce
7. Add Filter
8. Select contrib_date
9. Select 10/14/2015 as start date
10. Select 10/1/2015 as end date

## Expected Result
invalid input blocked

## Actual Result
invalid end date accepted as input, but then when focus on picker lost, saved as IS 10/14/2015

## Link To Dashboard

## Screenshots

## Other Information",Drecula,bug,,
Date Range drag select does not remember selection,2869,,2017-07-13T20:35:18Z,2017-09-01T02:49:43Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description

## Steps To Reproduce
1. Date source: Contributions
2. Dims: committee_name, contrib_date
3. Meas: #Records.  
4. No null dimensions
5. Sort by contrib_date desc
6. Save chart
7. Add Filter
8. Select contrib_date
9. Select 10/1/2015 - 10/17/2015 by dragging
10. mouse out of control

## Expected Result
Selected range retained

## Actual Result
Only 10/1/2015 is highlighted

## Link To Dashboard

## Screenshots

## Other Information
clicking outside of date picker closes the filter and only filters by 10/1/2015",Drecula,enhancement,,
Bug: Date Filter - Selecting a Date doesn't filter by date,2867,,2017-07-13T20:29:54Z,2017-12-01T17:34:49Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description
Global date filter does not filter by selected date.

## Steps To Reproduce
1. Date source: Contributions
2. Dims: committee_name, contrib_date
3. Meas: #Records.  
4. No null dimensions
5. Sort by contrib_date desc
6. Save chart
7. Add Filter
8. Select contrib_date
9. Select 5/25/2016
 
## Expected Result
No records visible

## Actual Result
Records visible

## Link To Dashboard
N/A

## Screenshots
N/A, since filter pill does not show the filter condition

## Other Information",Drecula,bug,,
Smarter Tick Marks for date fields ,2866,,2017-07-13T18:28:15Z,2017-07-25T17:17:57Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description
When plotting year on x-axis, by default immerse shows short labels. This is good for numeric values but not for date parts like year. In the chart below every tick mark says 2.0K. Irrespective of whether binning is ON/OFF the years are shown in short form.

The issue is reproducible only if you have year as a separate INT column as in the example below. If you extract year from a proper date column, we do display the full year correctly.

This issue could be solved by allowing end user to specify the number format on axis, pop-up etc

## Steps To Reproduce

Create a line chart and use a year column as dimension and add any measure to the chart
## Expected Result

## Actual Result
The x-axis shows 2.0K as axis marks for all values, irrespective of binning ON/or OFF
## Link To Dashboard
http://immerse-master.prod.frontend.builds.mapd.com/#/dashboard?_k=3h40v1
## Screenshots
![screen shot 2017-07-13 at 11 26 51 am](https://user-images.githubusercontent.com/29928117/28181675-51c89b54-67be-11e7-86e0-3f0e65c66f96.png)

## Other Information",mythilimapd,"bug,component-charting",,
Bug: Global filter CONTAINS,2865,,2017-07-13T17:55:14Z,2017-12-01T17:34:34Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description

## Steps To Reproduce
1. Make dashboard using tweets
2. Make table chart with dims: followers, sender_name & measure: # Records
3. Save table chart
4. Make filter sender_name CONTAINS here

## Expected Result
Only rows with sender_name containing 'here' shown

## Actual Result
Some rows not containing 'here' shown

## Link To Dashboard: http://immerse-master.prod.frontend.builds.mapd.com/#/dashboard?_k=cc0zov 

## Screenshots

![image](https://user-images.githubusercontent.com/6826347/28180340-ac6d1e7c-67b9-11e7-878f-b554ecfdc24a.png)


## Other Information",Drecula,bug,,
Update Import Reserved Keywords based on new Calcite,2861,,2017-07-12T23:28:35Z,2017-07-12T23:28:35Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description

https://github.com/apache/calcite/commit/d97c14c5dd62ed55da4d771e585973213affcb6e

```
Between SQL:2011 and SQL:2014, the following keywords were added:
ARRAY_MAX_CARDINALITY, BEGIN_FRAME, BEGIN_PARTITION, CLASSIFIER,
CURRENT_ROW, DEFINE, EMPTY, END_FRAME, END_PARTITION, FRAME_ROW, GROUPS,
INITIAL, MATCHES, MATCH_NUMBER, MATCH_RECOGNIZE, OMIT, ONE, PATTERN,
PER, PERCENT, PERIOD, PORTION, RUNNING, SEEK, SHOW, SKIP, SUBSET,
SYSTEM_TIME, VALUE_OF. All of these are now reserved in Calcite; some of
them were reserved already.

SQL:2014 removed: DAYS, FOREVER, HOURS, KEEP, MAX_CARDINALITY, MINUTES,
SECONDS. None of these were ever reserved in Calcite.

The following became reserved in SQL:2011, and are now reserved in
Calcite: LAG, LEAG, LIKE_REGEX, NTH_VALUE, NTILE, OCCURRENCES_REGEX,
POSITION_REGEX, SUBSTRING_REGEX, TRANSLATE_REGEX, TRIM_ARRAY, TRUNCATE,
VERSIONING.
```

This needs to be fixed because current datasets with these reserved keywords will get past the importer.

we also will need to make sure all customers with previously set column headers do not include any of these reserved keywords.

----------------------------

Alternatively @andrewseidl suggested we disabled these keywords on calcite until they land on MapD.",MarcBalaban,bug,,
Add Chart Level option to Show/Hide Legend,2855,,2017-07-12T00:07:45Z,2017-10-25T22:29:32Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description
As an immerse user I would like the ability to Show or Hide legend in a chart. Default behavior is to show the legends.  The option to show/hide legend should be available to all applicable charts. The option should be exposed as a simple toggle button.

Questions

Do we give option to show/hide legends only for ordinal legends?

## Steps To Reproduce

## Expected Result

## Actual Result

## Link To Dashboard

## Screenshots

## Other Information
",mythilimapd,"customer,enhancement",menaczar,"Duplicates #2778 ,biovisualize
@menaczar is there any reason you moved this card to **In progress**? Was this by mistake? I don't think anyone is working on this.,mythilimapd
@mythilimapd I am working on this. Its almost done.,menaczar"
Continous Legend / ordinal Legend overlap on Pie chart ,2851,,2017-07-11T22:51:38Z,2017-07-14T22:16:24Z,"## General Info
- **Platform**: All
- **Browser Name**: Chrome
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description
ordinal and continous legend overlap on pie chart
## Steps To Reproduce
1. ON master 
2. Pick Flights dataset
3. create pie chart Pick carrier_name and origin_city for dimensions . then  airtime for measure 
4. Now color by dimension
5. Then under measures pick colors 
6.Now delete color by dimensions 
## Expected Result
Ordinal color legend should be deleted 
## Actual Result
Continous Legend / ordinal Legend overlap  
## Link To Dashboard

## Screenshots
![fe-continouslegend](https://user-images.githubusercontent.com/24970225/28094312-c88a8b22-6650-11e7-8cd0-94b1910bdc45.gif)

## Other Information
This is existing issue in production",Mrudulabaj,"bug,component-charting",,
Dynamic Top N for multi-line chart,2846,,2017-07-10T23:51:26Z,2018-01-23T21:04:37Z,"When a pie chart is filtered by selecting a range on a line chart, the top k elements that it shows are automatically updated to reflect the top K of the current selection. But a multi-line chart when filtered keeps the same top K elements from initialization. The inconsistency comes from the fact that crossfilter would need to handle subqueries to do it properly on charts other than pie charts (which uses a limit).

Acceptance criteria
Behavior should be the same on multi-line chart than on pie chart: the lines should update to show the new top k after filtering.",edmapd,,,"> tai [5:00 PM] 
> for ref, this is what the final query would look like, for a top 5
> 
> [5:00] 
>  ```SELECT cast((cast(airtime as float) - 0) * 0.008888888888888889 as int) as key0,CASE when carrier_name IN (SELECT carrier_name as key0,COUNT(*) AS val FROM flights GROUP BY key0 ORDER BY val DESC LIMIT 5 OFFSET 0) then carrier_name ELSE 'other' END as key1,COUNT(*) AS val FROM flights WHERE (airtime >= 0 AND airtime <= 1350) GROUP BY key0, key1 HAVING key0 >= 0 AND key0 < 12 ORDER BY key0,key1```
> 
>  ```(SELECT carrier_name as key0,COUNT(*) AS val FROM flights GROUP BY key0 ORDER BY val DESC LIMIT 5 OFFSET 0)```
> being the subquery
> 
> that part shouldn’t be too difficult. The hard part about the top -n ticket is dealing with the color state. The required changes are mocked here https://github.com/mapd/mapd-immerse/issues/2262#issuecomment-282105663 (edited),biovisualize"
Warn on Save of new dashboard if it will overwrite existing dashboard,2833,,2017-07-05T21:45:18Z,2017-12-01T17:34:54Z,"A user creating a new dashboard will, upon save, overwrite a dashboard with the same name.

The suggested new behavior is to have a warning popup with text like ""A Dashboard with this name already exists, would you like to overwrite it?"" 

'Yes' will overwrite the old dashboard and it will be lost forever.

'No' will cancel the Save, thereby preserving the old dashboard.

We can (not mutually exclusive):

1. On cancel, focus on Dashboard Name
2. Make Dashboard Name a typeahead search so it is evident if a duplicate exists
3. Provide an affordance in the modal popup for renaming the dashboard so users don't have to do extra steps/clicks.

Per Ed, we will eschew #2 & #3 and only implement #1.",Drecula,,,"What should be the behavior when hitting ""save"" on an existing dashboard after making some changes? ,nytai
Good question, Tai. We need knowledge of whether we've a new or extant dashboard...not sure if that already lurks in our state.,Drecula
Also, especially in light of our future requirement to share dashboards, we should use UUID for a dashboard. This also will allow users to rename and clone existing dashboards.,Drecula
Using a dashboard uuid is a great idea for all versions of this feature. My suggestion here is to avoid a modal and instead simply allow duplicate dashboard names. They can already be differentiated by source(s) and date modified—perhaps author in the future.,mLuby"
Sorting Table Chart Causes Two Queries To Be Issued,2832,,2017-07-03T23:58:29Z,2017-12-01T17:34:34Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description

Sorting a table chart causes two queries to be issued.

## Steps To Reproduce

1. create a table chart
1. enable sql logging
1. change the table sort
1. see that two queries are issued

## Other Information

@duhoang as watcher",mrblueblue,,,"May be related/duplicate of #2969 ,biovisualize"
Dev/Prod URLs for Immerse Jenkins Builds,2820,,2017-06-29T22:02:13Z,2017-12-01T17:34:40Z,As a developer I would like both dev and prod bundles and urls for my builds.,mrblueblue,tech,,
speed up unit tests,2815,,2017-06-28T01:04:46Z,2017-12-01T17:34:40Z,"I've noticed that our unit tests have been gradually become slower and slower.

Faster unit tests equals less wasted cycles. Slower unit tests negatively reinforce unit testing, which is something we probably don't want IMO",mrblueblue,tech,,"I noticed the testing platform slowed down when we moved over to nyc,MarcBalaban"
Charts drifting on dashboard when you click Cancel on the chart editor screen,2810,,2017-06-26T23:44:20Z,2017-12-01T17:34:54Z,"## General Info
- **Platform**: All
- **Browser Name**: Chrome
- **Browser Version**: 58
- **Application Version**: 3.1.1RC5 Prod Taxi Demo

## Issue Description
When you click cancel on a chart editor screen , on the dashboard , The charts are Starting from the top Left hand corner of the screen to bottom right corner
## Steps To Reproduce
1. Go to https://www.mapd.com/demos/taxis
2. Select  Bar/Line chart 
3. Click cancel button on the top left hand corner 

## Expected Result
Dashboard would load without the visual effect of Starting from the top Left hand corner of the screen to bottom right corner
## Actual Result
Chart Start from the top Left hand corner of the screen to bottom right corner
## Link To Dashboard
https://www.mapd.com/demos/taxis/#/link/mapd/46da532f
## Screenshots
![fe-line-load](https://user-images.githubusercontent.com/24970225/27564746-af968fd0-5a8e-11e7-97ce-e0decfccf449.gif)

## Other Information",Mrudulabaj,bug,,"is this a bug? or is this UX?,MarcBalaban"
Duplicate render_vega queries when you clear selector Tool,2808,,2017-06-26T18:57:53Z,2017-07-14T22:52:52Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: 3.1.1rc5 on Prod Taxi-Demo
## Issue Description
When you Clear a selector Tool selection , A flash appears 
## Steps To Reproduce
1. Load https://www.mapd.com/demos/taxis
2. On Pointmap Using the selector tool . select a specific area
3. Clear the selector tool filter
## Expected Result
1 render_vega query

## Actual Result
2 render_vega queries


![fe-taxi-flash](https://user-images.githubusercontent.com/24970225/27555460-a62f227c-5a66-11e7-9474-e998b7c45465.gif)


## Link To Dashboard
//www.mapd.com/demos/taxis
## Screenshots

## Other Information",Mrudulabaj,"bug,component-raster",,"this is same issue as https://github.com/mapd/mapd-immerse/issues/2214,MarcBalaban
Ticket was misleadingly titled/described.  Clarified.,edmapd
Probably also related to #2739 ,biovisualize"
A Categorical Color Measure does not change Color Palette to continuous -- and will not allow user to change colors,2782,,2017-06-20T21:46:36Z,2017-12-01T17:34:54Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description

This behavior was found on a call with pactriglo.

Load dashboard: http://kali.mapd.com:9092/#/link/mapd/3865262a
![image](https://user-images.githubusercontent.com/2932405/27357094-b51210b0-55c5-11e7-94bd-ac2647714572.png)


1) Edit Pie Chart
2) Add ""plane_aircraft_type"" as color measure.

Notice that the color palette has not changed to continuous colors:
![image](https://user-images.githubusercontent.com/2932405/27357166-00702d4e-55c6-11e7-8c76-1337f7aed91b.png)

When user attempts to change colors on the color palette, it will not change.
![image](https://user-images.githubusercontent.com/2932405/27357348-b0640a86-55c6-11e7-906e-47d92764ac80.png)

---------------------------------

**There are two bugs in this ticket:**
1) Color palette needs to change to continuous colors when you add categorical measure as the color measure.
2) When user selects new color palette, it should reflect in the chart.

---------------------------------

Likely related to https://github.com/mapd/mapd-immerse/issues/2142",MarcBalaban,"bug,customer",,
Legend location management,2778,,2017-06-20T17:28:52Z,2018-04-23T20:46:16Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description

### from customer:

Michael,

ref: attached image

Fangqiu Tu (the Verizon ookla analyst) requested that you provide a way to turn off the legend (and legend button) display in MapD.   He is giving a demo in 3 days, and needs to show the data currently being hidden by the hard-positioned legend-buttons.   If this is on your to-do list, then it might be a good investment of time, since Fangqiu is going to be demoing this to those at director level - which could be beneficial to everyone involved (i.e. Verizon, MapD, etc).

Details:

-----------------------------------

Fangqiu Tu (the data analyst working with the OOKLA data for Verizon competive evaluations), ask me if we could fast-track one of his issues (we discussed in the meeting).   It appears to have become more important because Fangqiu is preparing to give demos with these charts in 3 days.

Issue:

MapD Immerse visual control objects are hiding valuable parts of certain charts.   A specific example of this is the line charts in the attached image.   In one chart, the legend is hiding critical data points, but even worse, in the second chart the 'legend-button' (minimized legend) is hiding very critical points.   These points, ironically, are some of the most important parts of the graph.   There appears to be no work-around (like disable the control buttons, or move the controls around.).

 Fangqiu recommends that there be a way to turn of the legend & legend button. 

Comment:

Michael, I personally think this is part of a bigger issue associated with optimizing realestate on the dashboard.  It seems that Immerse, while nicer in appearance, uses large font and has a lot more white space that could be used by the charts.  The intent is to get more charts in one screen -  I do use zoom-out, but as we discussed, Immerse sometime gets confused about chart positions when you use zoom.

 Joe


## Steps To Reproduce

## Expected Result

Some way to turn off legends or move its locations

## Actual Result

blocked data in the chart




## Link To Dashboard

## Screenshots

![image](https://user-images.githubusercontent.com/4306442/27346683-c5d76c06-55a2-11e7-9d3d-913695601274.png)

## Other Information

Any work arounds we may have would be useful",dwayneberry,"component-charting,customer,enhancement,verizon",,"We already can collapse the legends.  See below.

<img width=""336"" alt=""screen shot 2017-06-20 at 10 31 05 am"" src=""https://user-images.githubusercontent.com/953210/27346961-bba8c292-55a3-11e7-963e-a5d218e7325b.png"">

<img width=""284"" alt=""screen shot 2017-06-20 at 10 31 10 am"" src=""https://user-images.githubusercontent.com/953210/27346970-bf7e05d0-55a3-11e7-9076-cade72912bc4.png"">

,tmostak
Yes they know the legend can be collapsed, note in the image from client above they have an example of the legend collapsed but it still hides detail

Unfortunately it does not do enough for their purposes
They want to be able to move it out of the chart all together or reposition it,dwayneberry
Hi Michael,

A quick hack is to turn on the browser inspector. And add the following
styles:

.dc-legend {

   1. display: none;

}

as in this image:





On Tue, Jun 20, 2017 at 10:35 AM, Michael Thomson <notifications@github.com>
wrote:

> Yes they know the legend can be collapsed
> Unfortunately it does not do enough for their purposes
> They want to be able to move it out of the chart all together or
> reposition it
>
> —
> You are receiving this because you are subscribed to this thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/mapd/mapd-immerse/issues/2778#issuecomment-309832103>,
> or mute the thread
> <https://github.com/notifications/unsubscribe-auth/AAnZs9LKx9ZNziP3oKCrTtNusCzl74VLks5sGALLgaJpZM4N_6Mw>
> .
>
,duhoang
@du 
Can you elaborate on the steps for say chrome browser
Is this something they are going to be able to ""hide"" during a demo by preloading that particular dash boards ,dwayneberry
![screen shot 2017-06-20 at 10 41 42 am](https://user-images.githubusercontent.com/645555/27348123-d7e75d8e-55a7-11e7-9504-a290e3a787c9.png)
,duhoang
@dwayneberry 

You can do this hack at any time, and it will persist until you refresh the page. 

The steps are as follow:

1) Open the inspector tool in Chrome
2) Navigate to the Elements tab (image above)
3) On the right panel, click the Styles tab
4) Click the ""+"" icon at the right corner
5) Change the class name to  "".dc-legend"" and press Enter
6) Add the following style ""display: none"" and press Enter

That would be it.
,duhoang
@du
This is great
Can it target a specific legend or must it do all?
,dwayneberry
This hack targets all ""ordinal legends"".

To target specific legends you have to click on the actual DOM element and
add that style to it. Let me know if you want to do this and I can walk you
thru it.

On Tue, Jun 20, 2017 at 1:13 PM, Michael Thomson <notifications@github.com>
wrote:

> @du <https://github.com/du>
> This is great
> Can it target a specific legend or must it do all?
>
> —
> You are receiving this because you commented.
> Reply to this email directly, view it on GitHub
> <https://github.com/mapd/mapd-immerse/issues/2778#issuecomment-309877724>,
> or mute the thread
> <https://github.com/notifications/unsubscribe-auth/AAnZs4fDwCYRh8WmpKNVNT2Tdt57xHmIks5sGCgBgaJpZM4N_6Mw>
> .
>
,duhoang
I'm thinking I might get him a dev front end so it's easy to disable in the
master css.  Basically allow them to turn off legends.

So it works on refresh etc

On Jun 20, 2017 1:43 PM, ""duhoang"" <notifications@github.com> wrote:

> This hack targets all ""ordinal legends"".
>
> To target specific legends you have to click on the actual DOM element and
> add that style to it. Let me know if you want to do this and I can walk you
> thru it.
>
> On Tue, Jun 20, 2017 at 1:13 PM, Michael Thomson <notifications@github.com
> >
> wrote:
>
> > @du <https://github.com/du>
> > This is great
> > Can it target a specific legend or must it do all?
> >
> > —
> > You are receiving this because you commented.
> > Reply to this email directly, view it on GitHub
> > <https://github.com/mapd/mapd-immerse/issues/2778#issuecomment-309877724
> >,
> > or mute the thread
> > <https://github.com/notifications/unsubscribe-auth/
> AAnZs4fDwCYRh8WmpKNVNT2Tdt57xHmIks5sGCgBgaJpZM4N_6Mw>
> > .
> >
>
> —
> You are receiving this because you were mentioned.
> Reply to this email directly, view it on GitHub
> <https://github.com/mapd/mapd-immerse/issues/2778#issuecomment-309885629>,
> or mute the thread
> <https://github.com/notifications/unsubscribe-auth/AEG2CnztrL0tAQL-vX8PmwbNGo4CtSHWks5sGC77gaJpZM4N_6Mw>
> .
>
,dwayneberry
ahh that would be the best way to do that.,duhoang
@du

they hacked the Chrome volatile css with:
 
```
                .coordinate-chart .dc-legend{display:none;}
```
and it seemed to work pretty well - it also limited the mod to line charts.

from customer:
Could you please find out if there is a way for me to add this mod to your ""styles.css"" file (or some other permanent solution) and make it work?  (I tried modifying the styles.css but it had no effect.)   I would prefer to do it this way so that I can set the style as permanent until he finished all the demos.

Is shipping a dev version the only option we have here if they dont want to have to futz with it during the actual demo,dwayneberry
@dwayneberry can you ask him to try mod-ing the styles.css file again with this:
`.coordinate-chart .dc-legend{display:none !important;}`

see if that works.
,duhoang
@dwayneberry also, how are they building immerse, they don't have the source files, correct? ,duhoang
They have a standard release build so they have obsfucated files
Could you create dev build for them that includes the changes?

,dwayneberry
got updated style.css (unminified) from @du 
All test ok and nicely removes the legend for now. 
Hopefully that will be enough for the internal verizon demo,dwayneberry
@edmapd FYI this is demo for them.  Actually supporting this long term would need some work in restructuring our .css.  We've talked about this a few times but not had it yet bubble up as a priority. And as this is not in OS it technically would need some language in license terms either committing MapD to special builds for them or allowing source access to do it themselves.,billmaimone
@du would it be possible to get a new  non minified css with the legend removal entry again for verizon for 3.1.1  They are saying there are odd artifacts if they use the one from previous release,dwayneberry
@edmapd @mythilimapd Ping this Issue, customer is asking what out plan is regarding legend control?,dwayneberry
Do they want ability to just show/hide legend at chart level or do they also need the ability to move the legend box in a chart and drop it anywhere they see fit? If it is a simple option of show/hide legend at chart level, I will try and get it prioritized within the next couple of sprints,mythilimapd
Minimum  required is the ability to turn it off on a chart.,dwayneberry
@mythilimapd any general progress on this?  Could we at least move the default legend from the right to the left side of a time chart so it covers the oldest info rather than the most recent ,dwayneberry
@dwayneberry no progress yet. Will prioritize it for the next release.,mythilimapd"
Make Chart Types Menu Responsive to Screen Size,2769,[object Object],2017-06-19T21:49:00Z,2018-01-18T18:00:30Z,"@tmostak @mythilimapd @billmaimone @edmapd 

First pass at consolidation of chart types mock ups. Note: the dropdown is shown on hover.

Map = PointMap, GeoHeat, Choropleth
Series = Line, Area, Histogram

Other possible consolidations of chart types in the future:
- Bubble, Scatterplot
- Matrix, Heat

![consolidate-chart-types-0](https://user-images.githubusercontent.com/645555/28394816-a59df27a-6ca4-11e7-856e-6b1ccc32f430.png)
![consolidate-chart-types-1](https://user-images.githubusercontent.com/645555/28394815-a59c2fda-6ca4-11e7-87e7-1e03f08be202.png)
![consolidate-chart-types-1b](https://user-images.githubusercontent.com/645555/28394819-a5a0310c-6ca4-11e7-9aa0-a2b82694ecdf.png)
![consolidate-chart-types-2](https://user-images.githubusercontent.com/645555/28394818-a59f90c6-6ca4-11e7-9c97-2d63a43e0b37.png)

If no chart types consolidation and icons are made smaller to fit:

![consolidate-chart-types-3](https://user-images.githubusercontent.com/645555/28394817-a59df766-6ca4-11e7-8ca0-a004f97e8b47.png)",duhoang,,,
Dashboard queries wrong table after logging out + previously using shortlink,2767,,2017-06-19T19:02:41Z,2017-12-01T17:34:54Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description
Bug may hinge on first using a shortlink.  The bug is that dashboards issue queries to the wrong table in a narrow circumstance (see reproduction steps).

## Steps To Reproduce
1) load up http://minos.mapd.com:8000/#/link/mapd/fef4fb0f (which uses the `contributions` dataset)
2) log out
3) using the same minos instance of Immerse, log in to colossus.mapd.com:9092
4) load up the dashboard `NYC Taxi Rides`
5) watch the queries which are issued before Immerse throws its error

## Expected Result
dashboard loads up fine and queries are sensible

## Actual Result
dashboard throws error and the queries issued incorrectly try to hit the `contributions` table when the dashboard only deals with the `taxi_weather_tracts_factual` table. e.g. you can see ```SELECT COUNT(*) as val FROM contributions```


## Link To Dashboard
www.mapd.com/demos/taxis as viewed from minos.mapd.com:8000",edmapd,"bug,stability",,
Scatterplot popup box not showing Zero values,2766,,2017-06-18T03:50:48Z,2017-07-14T22:45:18Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description
When one of the columns has a result of 0 (zero) it is excluded from the scatterplot popup box.

## Steps To Reproduce
1) go to https://www.mapd.com/demos/ships/#/link/mapd/196b86b3
2) hover over a point with VesselLength=0 and then move rightwards to get VesselLength>0

VesselLength appears when >0 and disappears when =0


## Screenshots
![capture](https://user-images.githubusercontent.com/14082721/27257918-90d1c5c0-539e-11e7-90ce-09f110c3c53f.gif)",edmapd,"bug,component-charting",,"On Minos
Dataset : Tweets
ChartType : Pointmap
Measure : Lon and Lat
Add Locations  and sender_name for pop up box 
for some of the Tweets data where location is NULL .. its missing NULL 
![image](https://user-images.githubusercontent.com/24970225/27309467-c794b21e-5508-11e7-89b3-144e4a83502c.png)

,Mrudulabaj"
Use of 'id' prop in JSX is problematic,2760,,2017-06-15T21:37:18Z,2017-07-14T22:47:25Z,"By convention, 'id' should be unique within the DOM.

In addition to potential namespace collisions with consonant unpredictable behavior within our own code, what happens if we're using someone else's code? It also begs the question of why we would ever need an 'id' field when working with a virtual DOM.

Exacerbating this issue is that we haven't namespaced any of our css classes or ids, which increases the risk of collisions. We should be prefixing with 'mapd-' at the minimum. Even better would be to have a notion of theme to support white labeling, so class name prefixes can also be parameterized to enable theme switching.

",Drecula,tech,,
long loading time for dashboards in dev,2742,,2017-06-11T04:13:26Z,2017-12-01T17:34:54Z,"Should we have a timeout or long loading indicator if it takes 10s of seconds to load a dashboard? 

...instead of the interminable LOADING CHARTS with spinner, maybe interject a message like 'hey, we're still trying to get yo' data, bruh'.

I just wasted over an hour trying to debug why charts weren't loading, only to discover that if one waits long enough, they load. 

Is this a dev-only issue, or do we see it in prod as well? If the former, perhaps we should consider local mocks. If the latter, then we need a strategy to improve the user experience.",Drecula,feature,,
New Dashboard: Dashboard name empty text prompt should clear on focus ,2718,,2017-06-05T21:41:41Z,2017-12-01T17:34:54Z,"When renaming a new dashboard, the 'Untitled Dashboard' empty text prompt should clear when the field is focused.",Drecula,"P3,bug",,"I closed it by mistake,Davidiskander
Still happening for Immerse V3.2.3,Davidiskander"
Inconsistent naming and display of new chart prompts/'errors',2717,,2017-06-05T21:17:31Z,2018-01-23T17:52:41Z,"In the menu, the chart is labeled 'BAR', but in the chart container placeholder the prompt is 'Row Chart Requirements'.

Table chart has no 'requirements', so it has a blank prompt, which is inconsistent with the appearance of other 'new chart' prompts in the center area of the editor.

Some other charts have the center section prompt format <Chart><chart type><Requirements>, but others are <chart type><Requirements>",Drecula,,,"Still the same for Immerse V3.2.3,Davidiskander"
"default pie chart has 10 slices, nine colors",2715,,2017-06-05T19:56:00Z,2018-06-07T16:45:52Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description
Pie chart auto-bins to 10 bins, but the color palettes have only 9 colors.  The resulting pie has two adjacent slices with the same color, defeating the purpose of having colors.  Either auto-bin to 9, or add a color to the palette.

## Steps To Reproduce
Add a pie chart with default settings.

## Expected Result
No two adjacent pie slices use the same color.

## Actual Result
The first and last slice use the same color.

## Link To Dashboard

## Screenshots

## Other Information",billmaimone,component-charting,jrajav,"90% pretty good ,edmapd
Regarding this, I think we need to approach a solution where we define all color palettes as a dynamic gradient instead of a static set, with cutoffs where it loops back around to avoid color neighbors that are too similar. Any solution that involves a finite static set is going to run into this problem at some size.,jrajav
I made a palette generator once that splits the color spectrum in n stops in a way that all colors are visually as far away as possible from each others. 

https://plnkr.co/edit/9jyY1fPPIq0TGk32SpOt?p=preview

<img width=""908"" alt=""screen shot 2018-03-12 at 10 51 17 am"" src=""https://user-images.githubusercontent.com/824534/37290699-5b3573cc-25e3-11e8-9db0-8b7e3c0de4f1.png"">
,biovisualize"
Support IPV6 in servers.json,2707,,2017-05-31T18:02:34Z,2017-05-31T18:02:34Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description

Customer trying to specify host via IPV6 address are reporting that t does not seem to work

priority is low as they should be able to not specify that field and it will default to local machine.  I'm not sure how likely it is that anyone will really need to specify this field, but should have this as a marker so someone can test and check the issue.

## Steps To Reproduce

try to add an IPV6 address into servers.json to specify the 'host' parameter

## Expected Result

Connect to to specified host backend

## Actual Result

failure

## Link To Dashboard

## Screenshots

## Other Information",dwayneberry,"customer,lo-pri",,
Firefox/prod: Unresponsive Script Error on Contributions dashboard ,2706,,2017-05-31T00:57:49Z,2017-12-01T17:34:54Z,"## General Info
- **Platform**: MacOS10 and Windows10
- **Browser Name**: Firefox
- **Browser Version**: 53.0.3
- **Application Version**: production demo(titan) - political contributions

## Issue Description
Load V3.1RC5 on Titan and brush this histogram and Row chart. Response is very slow in general 
## Steps To Reproduce
1. Load Contributions  demo on Firefox .
2. Brush Donations($) Per Party by date chart 
3. Click on Row chart .

## Expected Result
Show results without any Error 
## Actual Result
Warning :  Unresponsive Script 

## Link To Dashboard
https://www.mapd.com/demos/political-donations/#/link/mapd/ab985a03
## Screenshots
![pasted image at 2017_05_30 05_09 pm](https://cloud.githubusercontent.com/assets/24970225/26611194/77b2b87e-4561-11e7-9e22-ea10072e5f4a.png)

## Other Information
Reverted the Release version  back to 3.0rc12 , and tested political contributions , it works fine on the same browser and browser version .",Mrudulabaj,bug,,
"Firefox: prod/pointmap : Exception... ""Failure"" nsresult: ""0x80004005 (NS_ERROR_FAILURE)",2705,,2017-05-30T23:06:29Z,2017-07-14T22:59:02Z,"## General Info
- **Platform**: macOS 10,Windows 10
- **Browser Name**: Firefox
- **Browser Version**: 53.0
- **Application Version**: Production Demo 

## Issue Description
When you delete the existing the pointmap on prod demo and try to recreate it 
## Steps To Reproduce
1. Go to Map.com/demo, launch Political contributions  demo 
2. Delete pointmap and Click on Add Chart button
3. Create pointmap chart with following measures

![image](https://cloud.githubusercontent.com/assets/24970225/26608636/860f4b9a-4551-11e7-8aa6-6ccee6faf2bd.png)

## Expected Result
No error , Chaart is created successfully  
## Actual Result
![image](https://cloud.githubusercontent.com/assets/24970225/26608669/b2f87302-4551-11e7-9deb-0dbf95d79f50.png)

## Link To Dashboard
https://www.mapd.com/demos/political-donations/#/link/mapd/f721e78b
## Screenshots
![image](https://cloud.githubusercontent.com/assets/24970225/26608673/b816b7c2-4551-11e7-9c87-11bb986e6772.png)
![fe-prod-charterror](https://cloud.githubusercontent.com/assets/24970225/26608721/eaa4b2d4-4551-11e7-95c4-55ac4893dcc3.gif)



## Other Information
FireFox Version :53.0",Mrudulabaj,"bug,component-charting,stability",,"was able to repo on Firefox 47 on Windows 10

![bug](https://cloud.githubusercontent.com/assets/14082721/26609248/0312643a-4555-11e7-948f-be0eae7db954.gif)
,edmapd
I believe the issue can be traced to this charting PR https://github.com/mapd/mapd-charting/pull/7/files,mrblueblue
longstanding rowchart/barchart related bug, removing release blocker label.  @mrblueblue to add further details.,edmapd"
truncate literals according to column's scale & precision,2703,,2017-05-30T18:14:46Z,2017-12-01T17:34:34Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description
Immerse currently throws in constants into queries without matching a column's scale & precision. This results in some overflow/underflow issues on the backend. There is a fix on the backend (https://github.com/mapd/mapd-core-internal/issues/683) that does some matching depending on the constant. We should not be sending these constants

## Steps To Reproduce
Brush on the histogram chart on this demo https://www.mapd.com/demos/taxis/#/dashboard?_k=3g8h5q
## Expected Result
The query's literals are truncated according to the columns scale and precision. 
## Actual Result
Literal's scale and precision is not truncated. 
## Link To Dashboard

## Screenshots

## Other Information
``` sql
SELECT COUNT(*) as val FROM taxi_weather_tracts_factual WHERE ((trip_distance >= 4.955357142857142 AND trip_distance <= 6.428571428571428)) AND (dropoff_longitude >= -73.98964202497099 AND dropoff_longitude <= -73.9840665311264) AND (dropoff_latitude >= 40.72267031700514 AND dropoff_latitude <= 40.72865826864748);
```

should be changed to:
``` sql
SELECT COUNT(*) as val FROM taxi_weather_tracts_factual WHERE ((trip_distance >= 4.955357 AND trip_distance <= 6.428571)) AND (dropoff_longitude >= -73.989642 AND dropoff_longitude <= -73.984066) AND (dropoff_latitude >= 40.722670 AND dropoff_latitude <= 40.728658);```",nytai,,,"The way to do this would involve:
1. getting the columns scale and precision into the column metadata (likely a con thing)
2. getting crossfilter to accept an object instead of a string for dimension.
3. passing crossfilter a dimension (column) object instead of a string. 
4. truncate to scale and precision of dimension column when writing the query. ,nytai"
"Create a ""Getting Started"" Document for front-end libraries",2697,[object Object],2017-05-25T06:17:10Z,2017-10-17T17:12:28Z,"MapD recently open-sourced its front-end libraries to the public, allowing anybody to develop visualizations on top of MapD technology. The processes (and pain points) for getting set up, however, aren't well-documented. This lack of documentation decreases the speed of adoption for our libraries, and makes it harder for people to feel comfortable contributing to them.

We need to create a guide to getting started with MapD libraries. While this will definitely need to be iterated upon (especially as our libraries change and grow), undertaking this project will help make the front end feel more approachable and create a more compelling open source offering.

Examples:
[Getting Started with d3](https://www.dashingd3js.com/d3js-first-steps)
[Setting Up A Twilio App](https://www.twilio.com/blog/2014/04/building-a-simple-sms-message-application-with-twilio-and-django-2.html)
[Full Stack Redux Tutorial](https://teropa.info/blog/2015/09/10/full-stack-redux-tutorial.html)",ayyrickay,,,"relatedly https://github.com/mapd/mapd-charting/issues/36,mrblueblue
As part of what I did for the Crossfilter refactor, I made a standard webpack & ""npm install"" ""npm start"" dev environment, and pulled in some of the examples from the charting library. Most of the inline comments were deleted, as I found them distracting. Opinions vary on this point, but I'd rather have big comment blocks live as part of a README or some other documentation as opposed to clogging up the code.

Everything runs straight from source, and no HTML script tags are needed. Any changes to the libs are detected and hot reloaded.  I also made a start on a harness, with an eye towards hooking it into test automation at some point.

There's still a bit more work to do before we could release it. It helped me a lot, though.,Drecula
https://docs.google.com/a/mapd.com/document/d/1Bx2kSgCzc5ogHCOJ-0XJbGsdYQlE6njoLI1xDObHoPY/edit?usp=sharing

Rough outline of topics to cover. Waiting for release to finish to get the details of setup sorted out, at which point my thought is to work through the process, document it, and then match it up to this outline to make sure it has some sort of narrative flow.,ayyrickay
@edwickable During the next sprint, could we think about documenting your process with Tweetmap, and turning it into a getting started guide? I'll talk to Mythili about adding this to the next sprint, and we can work on it together, but the big point is that you have a good idea of how to set up an app using the MapD libraries, and we should share that process, not just a bunch of source code. ,ayyrickay"
Broken color-by-dimension experience for Binned dimensions,2693,,2017-05-23T23:26:22Z,2017-12-01T17:34:34Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description
Exception when you click on +Add color via color by dimensions on pie chart
## Steps To Reproduce
1. on Minos Select contributions dataset
2. create Pie chart dim:id , measure : #records 
3. Click on 'color by dimensions' and select '+Add color'

## Expected Result
No Errors
## Actual Result
Console Error -  VM45:7506 Uncaught (in promise) Error: Exception: expression before LIKE must be of a string type. 
## Link To Dashboard

## Screenshots

![image](https://cloud.githubusercontent.com/assets/24970225/26380625/877bad16-3fd4-11e7-938d-a47d015f2bca.png)

![fe-minos-pie-color](https://cloud.githubusercontent.com/assets/24970225/26380620/7b9e2a64-3fd4-11e7-93e2-53af2d509ef5.gif)

## Other Information",Mrudulabaj,"bug,stability",,
Pointmap:colorscale  changes are reverted when pointsize is updated,2680,,2017-05-19T18:52:19Z,2017-07-14T23:01:04Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description
on a pointmap turn off autosize and alter the size ,we drop your color scale changes and revert to unlocked default scale

## Steps To Reproduce
1. on Mahakali 
2. Pick Tweets 1M dataset
3. Create a pointmap with lon and Lat , Pick Folloeers as color
4. Now update the max color scale at the lefthand bottom of the map to 1000 
5. Then change the pointsize
## Expected Result
Color scale should not reset 
## Actual Result
Color scale should reset s
## Link To Dashboard

## Screenshots
![fe-autosize](https://cloud.githubusercontent.com/assets/24970225/26262379/82e577bc-3c89-11e7-989b-349a99855de1.gif)

## Other Information",Mrudulabaj,"bug,component-raster",,"@edmapd @Mrudulabaj This is a very similar to issue to the size measure issue. Wrapping this into the current fix,ayyrickay
This is still happening .. this is issue is now in production (Taxi Demo)
![fe-pointsize](https://user-images.githubusercontent.com/24970225/28180778-06b8571a-67bb-11e7-8872-cdd2e5aaa40b.gif)
,Mrudulabaj"
Refactor Row Chart with Saga,2661,,2017-05-08T23:25:00Z,2017-07-14T23:01:53Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description

Row Chart should use [redux saga](https://github.com/redux-saga/redux-saga) so immerse no longer needs to diff.

Use [example from pointmap](https://github.com/mapd/mapd2-frontend/blob/master/projects/dashboard-v2/src/charts/pointmap/pointmap-sagas.js) to help guide refactor work.",MarcBalaban,component-charting,MarcBalaban,"Talked to Marc.  Benefit of this is that it makes communicating from Immerse to the charting library much simpler and cleaner, and may help eliminate unneeded render calls.  Once we've moved every chart to this approach, it would probably help eliminate some coloring bugs, and issues with DC communicating with V.2 (e.g. binParams errors).,edmapd
Waiting on #2702 to be merged in as there will be several conflicts.  I also want to keep the patterns similar.,MarcBalaban
@MarcBalaban would you please 
1. ensure this is in the correct pipeline `backlog` or `in progress`
2. provide an estimate.
3. add appropriate tags `infra` `enhancement` `bug` etc.
4. determine if this can move forward as #2702 is now merged.,mLuby
Moving this to the fridge as it is not necessary.,MarcBalaban"
Charts 'scatter' on resize of window if dashboard create at fullscreen and charts shrunk ,2657,,2017-05-03T17:32:03Z,2017-07-14T23:02:24Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: v2.4 also reproduced in V3rc

## Issue Description
Customer is reporting that if they build a dashboard at full screen and 'squeeze' the charts to there smallest size, when thet then view the dashboard at less than fullscreen the charts are scattered across the screen

## Steps To Reproduce
build a dashboard at fullscreen and reduce the two charts on the left to be as small as immerse will allow them to be 

![image](https://cloud.githubusercontent.com/assets/4306442/25672981/ab795280-2fea-11e7-8e7d-68ab0e12460c.png)

save dashboard

open dashboard at non full screen mode.

Resize the window a little bigger

![scatter](https://cloud.githubusercontent.com/assets/4306442/25673192/55df45d6-2feb-11e7-98cc-bdb42e5f09ea.png)




## Expected Result

For charts to remain in orderly locations

## Actual Result

Charts are scattered

## Link To Dashboard

## Screenshots

## Other Information

now that they know what is causing the scattered dashboards they can educate people not to do it, but we should protect from it.",dwayneberry,"component-charting,customer",,"Bump, just looking for something to say to customer for next tuesday.  They don't need a fix in a rush but want to feel involved :-) ,dwayneberry
Hi Michael,

Do we know if this is a regression? (Saw it too the other day). And who is the customer?

Todd

Sent from my iPhone

> On May 4, 2017, at 10:17 PM, Michael Thomson <notifications@github.com> wrote:
> 
> Bump, just looking for something to say to customer for next tuesday. They don't need a fix in a rush but want to feel involved :-)
> 
> —
> You are receiving this because you are subscribed to this thread.
> Reply to this email directly, view it on GitHub, or mute the thread.
> 
,tmostak"
Line chart Bins are missing one bin ,2574,,2017-04-18T18:40:01Z,2017-08-07T18:13:20Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description
Range chart is also missing one bin, example if you have 12 bins its shows only 11 bins
## Steps To Reproduce
create dashboard with range chart and histogram with the following info
1. Dataset : contributions
2. X-axis : cycle_elections
3. series: committee_party
4. Y-axis : Avg amt

Now brush the histogram so that only one point is selected .

## Expected Result
Range chart would show one single point
## Actual Result
Range chart is empty
## Link To Dashboard
http://immerse-v2-2424.dev.frontend.builds.mapd.com/#/link/mapd/642e3695

## Screenshots
![image](https://cloud.githubusercontent.com/assets/24970225/25147219/a7e92f7a-242b-11e7-9749-4c6f45347e84.png)


## Other Information
Here is a query , WHERE clause is used twice

`""SELECT cast((cast(cycle_election as float) - 1998) * 13 as int) as key0,CASE when committee_party IN ('R','D','3','I','L') then committee_party ELSE 'other' END as key1,AVG(amount) AS val FROM contributions WHERE (cycle_election >= 1998 AND cycle_election <= 2000) AND ((cycle_election >= 1997.7744360902257 AND cycle_election <= 2000.779448621554)) AND amount IS NOT NULL GROUP BY key0, key1 HAVING key0 >= 0 AND key0 < 26 ORDER BY key0,key1""`",Mrudulabaj,"bug,component-charting,needs info,stability",,"this might be the cause of some of this behavior: https://github.com/dc-js/dc.js/issues/949 
,nytai"
Instrument end-to-end tests to see what code is covered by them,2570,,2017-04-17T18:01:56Z,2017-12-01T17:34:40Z,,billmaimone,tests,,"https://github.com/nightwatchjs/nightwatch/issues/965


> There aren't immediate plans for this, but it is somewhere on the roadmap. You can probably achieve this today by using a combination of jscoverage (to instrument the code) and a custom lcov reporter or using mocha which already has an lcov reporter built-in.

https://github.com/gotwarlost/istanbul/issues/132

> https://github.com/gotwarlost/istanbul-middleware/

,mrblueblue
Nitpick: you don't instrument tests, you instrument the code that the tests test,mrblueblue"
"[Circle Selector tool] Negative scale , disappears selection",2561,,2017-04-13T21:51:09Z,2017-07-14T23:07:06Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description

## Steps To Reproduce
1. Dataset: contributions
2. Pointmap chart lon:lon , lat: lat 
3. draw a circle selector tool 
## Expected Result
selection would not disappear
## Actual Result
selection disappears
## Link To Dashboard

## Screenshots
![fe-selector](https://cloud.githubusercontent.com/assets/24970225/25025799/87578d0a-2058-11e7-9bc8-630ba56bb88b.gif)

## Other Information",Mrudulabaj,"bug,component-raster",vastcharade,"@vastcharade often if you want to set the shape really small you actually don't intend to invert the shape.  I think it might actually be helpful to set a minimum screensize for drawing the shape, to help the user prevent themselves from inverting it.  Thoughts?,edmapd"
Errors with malformed svg on Choropleth ,2554,,2017-04-11T21:14:54Z,2017-08-11T12:29:55Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description

## Steps To Reproduce
1. on http://immerse-v2-lastrelease.dev.frontend.builds.mapd.com/ [Latest prod code]
2. Create a choropleth chart with dim : country , Geo json Join : countries and color :  # records
## Expected Result
No errors when chart is rendered
## Actual Result
d3.js:670 Error: <path> attribute d: Expected number, ""…3.2554484379023LNaN,NaNLNaN,NaNL…"".
## Link To Dashboard

## Screenshots
![image](https://cloud.githubusercontent.com/assets/24970225/24931183/31f5b4c4-1ec1-11e7-8d10-c19320a69e1a.png)

## Other Information",Mrudulabaj,"bug,component-raster",,
[ScatterPlot] text bleeding out under color palette ,2547,,2017-04-10T22:56:33Z,2017-07-14T23:08:22Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description

## Steps To Reproduce
1. Select Tweets data set create scatter plot chart 
![image](https://cloud.githubusercontent.com/assets/24970225/24885941/2b62ef20-1e06-11e7-91f1-e100e796626c.png)

## Expected Result
text is wrapped properly
## Actual Result
Text bleeds out 
## Link To Dashboard

## Screenshots
![image](https://cloud.githubusercontent.com/assets/24970225/24885915/0d6907fc-1e06-11e7-8f34-0affd75aa050.png)

## Other Information",Mrudulabaj,"bug,component-charting",,
Selector spinners do not appear in all cases,2542,,2017-04-10T20:48:50Z,2017-12-01T17:34:54Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description
The selector spinners intended to indicate to use that data is being (cold) loaded from disk do not appear in all cases. 

## Steps To Reproduce
Probably best way to repro this is to use the `taxi_weather_tracts_factual_full` data set on Kali, and select columns that have not been recently selected. Issue was originally reported with:
create table chart with [dimension: conditions] and [measure: avg(rate_code_id)]
## Expected Result
A visible spinner is in the selector pill
## Actual Result
the spinner is not visible 
## Link To Dashboard

## Screenshots
![bug](https://cloud.githubusercontent.com/assets/10255196/24881981/621ab618-1df4-11e7-8356-d4f39b262899.gif)

## Other Information
Note: after following the steps listed above you will not be able to repeat the steps and expect the same result as the column data will already be in memory. You can try and reproduce using other columns.",nytai,bug,,"related to chart spinner rather than pill spinner, but noting this ticket as well: https://github.com/mapd/mapd-immerse/issues/2183,edmapd"
Improve error msg for broken/missing dashboard link,2534,,2017-04-10T09:44:29Z,2017-09-27T20:50:34Z,"## Issue Description
`get_link_view` exceptions are ignored, so Immerse tries to parse the exception if you provide a link which does not exist.

## Steps To Reproduce
- create dashboard link
- modify link to one which does not exist
- try to load broken link

## Expected Result
Backend throws an exception saying the link is invalid. Show this or something similarly sane.

## Actual Result
Tries to base64 decode the exception message, resulting in

    InvalidCharacterError: Failed to execute 'atob' on 'Window': The string to be decoded is not correctly encoded.

## Link To Dashboard
http://immerse-v2-master.dev.frontend.builds.mapd.com/#/link/mapd/BrokenLink",andrewseidl,"P3,bug",,
Chart filter on array issues incorrect SQL,2532,,2017-04-09T06:19:00Z,2017-12-01T17:34:34Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description
It's a valid question whether supporting filter-on-array is a good idea, but our current UI makes it appear doing this is supported.

When you filter on an array, we issue bad SQL resulting in a calcite error and the dashboard not updating properly.

## Steps To Reproduce
1) load up http://kali.dashboard-v2-master.dev.frontend.builds.mapd.com/#/link/mapd/1efb67fb
2) scroll in the table chart to a row with multiple items in the array
3) click the row to filter


## Expected Result
Chart filters for the row with the array you clicked on, and other charts update

## Actual Result
Other charts don't update + errors

## Link To Dashboard
http://kali.dashboard-v2-master.dev.frontend.builds.mapd.com/#/link/mapd/1efb67fb

## Screenshots
![bug](https://cloud.githubusercontent.com/assets/14082721/24835219/793ed7d8-1cb0-11e7-9cbe-eb1b2bb1f7b5.gif)



## Other Information
According to @asuhan the SQL in order to try to match on a particular array such as example array:
`Petco, AT&T Store, Barnes & Noble`

Would look like:

```SELECT COUNT(*) as val FROM taxi_weather_tracts_factual_full WHERE dropoff_store_names[1] = 'Petco' AND dropoff_store_names[2] = 'AT&T Store' AND dropoff_store_names[3] = 'Barnes & Noble' AND dropoff_store_names[4] IS NULL```",edmapd,"bug,lo-pri",,
Track App Performance Metrics,2508,,2017-04-05T21:14:45Z,2017-07-21T19:59:25Z,"# User Story

As a developer, I would like to know how fast or slow certain aspects our application are and track how these metrics change over time.

# General Specifications





",mrblueblue,"needs info,tech",,
SQL Editor: Infinite Scrolling on Data Preview Table,2505,,2017-04-05T19:48:24Z,2017-12-01T17:34:49Z,"# User Story

# General Specifications

# SQL Specifications

# UI Specifications



",mrblueblue,"feature,needs info",,
Sql Editor: option to cancel the query mid-run ,2495,,2017-04-04T19:18:27Z,2017-12-01T17:34:34Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description
we should have an option to cancel the execution . 
## Steps To Reproduce
if a user runs a command by mistake and wants to terminate the query run , he has no way to do that . user has to wait until the run time execution is complete .
## Expected Result

## Actual Result

## Link To Dashboard

## Screenshots

## Other Information
",Mrudulabaj,enhancement,,"The Thrift method is:

    void interrupt(1: TSessionId session) throws (1: TMapDException e 2: ThriftException te)

Will require the [`mapd-bot/new-thrift`](https://github.com/map-d/mapd2-frontend/tree/mapd-bot/new-thrift) branch to be merged and the method added to mapd-con.,andrewseidl"
Error: failed to invert matrix,2494,,2017-04-04T01:58:10Z,2017-07-14T23:11:02Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description
After trying to create a pointmap against the `Home_Zip_Quake` table on europa, we are throwing `Uncaught (in promise) Error: failed to invert matrix`
Then `Uncaught Error: Invalid LngLat object: (NaN, NaN)`


## Steps To Reproduce
go to europa.mapd.com:9092
id/pwd/db   sandhya/MapDTest1/test

Create pointmap against `Home_Zip_Quake` table.   lat=""lat"" lon=""long""

## Link To Dashboard
http://europa.mapd.com:9092/#/link/test/4d97a674

## Screenshots
![bug](https://cloud.githubusercontent.com/assets/14082721/24638668/47f5c2e6-189f-11e7-9867-0b90e89a876c.gif)


![screen shot 2017-04-03 at 6 33 41 pm](https://cloud.githubusercontent.com/assets/14082721/24638292/1b854202-189c-11e7-96f5-7fb09d68f48e.png)



## Other Information",edmapd,"bug,component-raster,stability",,"Issue was introduced in this PR: https://github.com/map-d/mapd2-frontend/pull/2469/files,nytai"
Migrate old dashboards for new Immerse versions,2493,,2017-04-04T01:58:02Z,2017-08-07T18:47:29Z,"# User Story
As a user who created a dashboard with Immerse version X, I want to be able to open that dashboard with Immerse version Y (where Y > X).

# Specifications
- A ""migration"" is code that transforms dashboard saved data from the shape one version of Immerse expects to the shape another version of Immerse expects.
- [ ] Dash created on previous version of Immerse (eg v.1) can be opened on new version of Immerse (eg v.3) where there's a dash shape change.
- [ ] Dashes created on new version of Immerse (eg v.3) do *not* need to be able to work on *old* versions of Immerse (eg v.1) ie downgrading is not supported (tell customers to back up!).
- [ ] It's difficult or impossible for a dash shape change to be merged to master without including a corresponding migration.
- [ ] Do not need migrations for every version of Immerse.
- [ ] Migrations are transitive so given migrations `v.1 ➡️  v.2` and `v.2 ➡️ v.3`, a dash can migrate from v.1 ➡️ v.3.
- [ ] Only necessary migrations are run, so given migrations `v.1 ➡️  v.2` `v.2 ➡️ v.3` and `v.3 ➡️ v.4`, a dash can migrate from v.2 ➡️ v.4 without running `v.1 ➡️  v.2`.
- [ ] After migrating, dash is automatically saved. (Note there's a race here but it's okay as last save will overwrite.)

Maybe separate stories for these: -@mLuby  
- [ ] Dash shape data should be minimal. **`❗️NOTE THIS SHOULD HAPPEN BEFORE ALL OTHERS❗️`** 
- [ ] With reduced dash shape, Immerse can fail gracefully on missing data, eg missing color still renders chart.
- [ ] Dash records either a version number or a hash of the dash so later on saves can decide whether to warn about overwriting.

# Notes
Now that [we record what Immerse version a dashboard was created with](https://github.com/map-d/mapd2-frontend/pull/2446), we’ll know if the shape of the saved dashboard’s data is different from the shape Immerse expects.

One solution is to write migration functions whenever we make breaking changes to the dashboard shape. These functions could be chained together to migrate arbitrarily old dashboards to the current version. It would also be a good idea development-wise to have some infrastructure/process to ensure breaking shape changes include the necessary migration.",mLuby,,,"I handle some of the conversions with Phase 1 of Multi Source Dashboards (MSD), where single source dashboards can be read, then are saved in MSD format.,Drecula
This is not (directly) related to multi-source dashboards, so I'm moving it out of the epic.,mLuby"
Inconsistent behavior with color-by-dimension on pie chart when drag/drop dimensions,2490,,2017-04-03T17:10:42Z,2017-07-14T23:12:01Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description
When you drag/drop dimensions , color Palette selections is changing 
## Steps To Reproduce
1. Create a pie chart with flights_donotmodify dataset on Kali 
2. dim : carrier_name , origin_city 
3. Measure :  Avg airtime 
4. now Color by dimensions carrier_name , add top 3 carrier's from the drop down
5. now move origin_city on top of carrier name . The color palette selection changes from carrier_name to origin city  leaving the selected carrier_name.
## Expected Result
color palette selections do not change 
## Actual Result
Before drag/drop
![image](https://cloud.githubusercontent.com/assets/24970225/24621183/7b234c78-1855-11e7-8443-6d0d9713dfba.png)


After drag/drop
![image](https://cloud.githubusercontent.com/assets/24970225/24621091/23d1046a-1855-11e7-8b88-c366ab121c8b.png)

## Link To Dashboard
http://immerse-v2-master.dev.frontend.builds.mapd.com/#/link/mapd/dae3a06f
## Screenshots
![image](https://cloud.githubusercontent.com/assets/24970225/24621091/23d1046a-1855-11e7-8b88-c366ab121c8b.png)
## Other Information
![fe-drag-drop](https://cloud.githubusercontent.com/assets/24970225/24621254/c05e30e6-1855-11e7-8bae-c1900f4eb737.gif)",Mrudulabaj,"bug,component-charting",,
Don't show null dimensions control till you've picked a dimension,2478,,2017-03-30T17:03:22Z,2017-12-01T17:34:54Z,,edmapd,"enhancement,lo-pri",,
"Heat Map : ""RESET_APP_ERROR"" when you choose  boolean column ",2444,,2017-03-20T22:43:23Z,2017-07-14T23:14:24Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description
Error when choose a boolean column for heatmap. 
## Steps To Reproduce
1. Create heat map using ""airplanes_20160312"" dataset
2. dim : Tisb & Bad
3. Measure : # Records

## Expected Result
No Errors

## Actual Result
```
TypeError: _chart.colsLabel(...)(...).includes is not a function
    at HTMLSpanElement.<anonymous> (http://immerse-v2-2401.dev.frontend.builds.mapd.com/bundle.js:42215:43)
    at HTMLSpanElement.attrFunction (http://immerse-v2-2401.dev.frontend.builds.mapd.com/bundle.js:1045:22)
    at http://immerse-v2-2401.dev.frontend.builds.mapd.com/bundle.js:1338:17
    at d3_selection_each (http://immerse-v2-2401.dev.frontend.builds.mapd.com/bundle.js:1344:31)
    at Array.d3_selectionPrototype.each (http://immerse-v2-2401.dev.frontend.builds.mapd.com/bundle.js:1337:13)
    at Array.d3_selectionPrototype.attr (http://immerse-v2-2401.dev.frontend.builds.mapd.com/bundle.js:1028:18)
    at Object._chart._doRedraw (http://immerse-v2-2401.dev.frontend.builds.mapd.com/bundle.js:42214:88)
    at Object._chart._doRender (http://immerse-v2-2401.dev.frontend.builds.mapd.com/bundle.js:42137:24)
    at Object._chart.render (http://immerse-v2-2401.dev.frontend.builds.mapd.com/bundle.js:12731:26)
    at dataCallback (http://immerse-v2-2401.dev.frontend.builds.mapd.com/bundle.js:36409:19)
```

## Link To Dashboard

## Screenshots
![image](https://cloud.githubusercontent.com/assets/24970225/24124927/30088596-0d83-11e7-9cc3-79a137acc774.png)

## Other Information",Mrudulabaj,"bug,component-charting,stability",,
Redundant count(*) SQL calls on dashboard load,2410,,2017-03-12T19:22:01Z,2017-12-01T17:34:34Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description
Creating new dashboard on ships_ais dataset shows 2 `count(*)` queries where you would expect only one

## Steps To Reproduce
Create dashboard against ships_ais

## Link To Dashboard
https://cloud-next-demo.mapd.com

## Screenshots
![multiple sql](https://cloud.githubusercontent.com/assets/14082721/23835076/1029e7b2-071e-11e7-8950-72b9c0289142.gif)


## Other Information",edmapd,bug,,
Move Binning Post-Processing to DC,2394,,2017-03-10T01:38:25Z,2017-03-11T01:01:52Z,"# User Need

As a user, I would like to see my binned data in displayed in a user friendly way. For instance, when I choose to visualize a row chart selecting a time dimension extracted by `day`, I would like to see each bar labeled like ""Monday"", ""Tuesday"", ""Wednesday"", etc instead of ""1"", ""2"", ""3"", etc.

# Technical Specifications

* The core logic and functionality of `function unBinResults` in `modules/binning` should be moved to DC
* The core logic and functionality of `function fillBins` (around line 1505) should be moved to DC as well
* These post processing steps should be abstracted away inside a general data post-processing function invoked in `dataAsync`
* If possible, developer should separate the processing of time bin data and regular numerical bin data
* When possible, developer should clean up the code instead of just moving it 

# UI Specifications


### Date Trunc Labelling

Interval | Format
--- | ---
decade | 1981 - 1990
year | 1990
quarter | 3Q 1990
month | Oct 1990
week | April 13 - April 19, 1990
day | April 13, 1990
hour | April 13, 1990 08:00

### Extract Labelling

Interval | Format
--- | ---
year | 1981
quarter | Q1, Q2, Q3, Q4
month | Jan, Feb, Mar, ... Nov, Dec
dom | 1, 2, 3, ..., 28, 29, 30
dow | Mon, Tue, Wed, Thu, Fri, Sat, Sun
hour | 1, 2, 3, ..., 23, 34
minute | 1, 2, 3, ..., 59, 60",mrblueblue,tech,,
scatterplot rendering issue (striations),2349,,2017-03-02T17:42:09Z,2017-08-11T12:31:33Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description  strange striations on scatter plot when you zoom in .

## Steps To Reproduce
1. Select flights_123M dataset
2. depdelay,arrdelay as first 2 measures and carrier name for color 

## Expected Result
No striations

## Actual Result
strange striations . on the chart 
## Link To Dashboard
http://dashboard-v2-master.dev.frontend.builds.mapd.com/#/link/mapd/2a5b0be6
## Screenshots

![image](https://cloud.githubusercontent.com/assets/24970225/23519625/787bd13a-ff2c-11e6-92bd-c98969f74f86.png)

## Other Information
we need some definition for default  size measure (when size measure is not specified).

If we have a size measure .. we do not see this issue
![image](https://cloud.githubusercontent.com/assets/24970225/23519735/d7ce70b6-ff2c-11e6-80d5-49ea6be3cf67.png)",Mrudulabaj,"bug,component-charting,dc,needs info",,
Allow Time Types for BE Scatter,2348,,2017-03-02T16:28:58Z,2017-07-14T23:18:16Z,,mrblueblue,"component-raster,dc,enhancement,needs info",,
Document How To Write and Debug Robot Tests,2321,,2017-02-24T18:22:23Z,2017-07-14T23:19:18Z,- [ ] create a section in the readme to cover this topic.,mrblueblue,"tech,tests",,
SQLimporter tool from Immerse,2292,,2017-02-17T21:57:21Z,2017-07-21T20:09:29Z,,edmapd,feature,,"see also https://github.com/map-d/mapd2-frontend/issues/1126,edmapd"
Preserve Pointmap Color Measure When Switching To and From Table,2290,,2017-02-17T04:14:01Z,2017-07-15T16:01:03Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description

Pointmap color measure becomes size when switching to and from the table chart.

## Steps To Reproduce

1. create a pointmap chart with a color measure
1. switch to table
1. switch back to pointmap
1. see that the color measure is now a size

## Other Information

Can be fixed without tackling https://github.com/map-d/mapd2-frontend/issues/1434. However, implementing https://github.com/map-d/mapd2-frontend/issues/1434 fixes this issue as well as cases for other charts",mrblueblue,"component-raster,enhancement",,"As discussed today a design change may be in order ,edmapd"
Refactor Color State Into One Shape,2286,,2017-02-17T00:13:19Z,2017-07-21T20:10:18Z,"❓ Needs info on direction of #2262 and/or #2308

The goal of this ticket is to create and enforce one chart color state shape that is used by our application.

Recommendation of https://github.com/map-d/mapd2-frontend/issues/1759

### Existing Color Shapes

```js
const customColors = flatten([values(CUSTOM_COLORS)])

const regularColorShape = shape({
  key: oneOf(flatten([keys(ORDINAL_COLORS), keys(SOLID_COLORS), keys(QUANTITATIVE_COLORS)])).isRequired,
  type: oneOf(keys(MEASURE_DEFAULT_COLORS)).isRequired,
  val: arrayOf(oneOf(flatten([values(ORDINAL_COLORS), values(QUANTITATIVE_COLORS)]))).isRequired
})

const customColorShape = shape({
  column: string.isRequired,
  customDomain: arrayOf(string).isRequired,
  customPalette: shape({
    red: arrayOf(oneOf([""#ea5545""])),
    lime: arrayOf(oneOf([""#bdcf32""])),
    purple: arrayOf(oneOf([""#b33dc6""])),
    orange: arrayOf(oneOf([""#ef9b20""])),
    green: arrayOf(oneOf([""#87bc45""])),
    pink: arrayOf(oneOf([""#f46a9b""])),
    silver: arrayOf(oneOf([""#ace5c7""])),
    yellow: arrayOf(oneOf([""#ede15b""])),
    purpleCool: arrayOf(oneOf([""#836dc5""])),
    greenPastel: arrayOf(oneOf([""#86d87f""])),
    blue: arrayOf(oneOf([""#27aeef""]))
  }),
  customKey: oneOf([""key0""]).isRequired,
  customRange: arrayOf(oneOf(customColors)).isRequired,
  defaultOtherDomain: oneOf([""Default"", ""Other""]).isRequired,
  defaultOtherRange: oneOf(customColors).isRequired,
  isCustom: oneOf([true]).isRequired,
  type: oneOf([""custom""]).isRequired,
  val: arrayOf(oneOf(customColors))
})

const colorShape = oneOfType([regularColorShape, customColorShape])
```
#### Issues
- `customPalette` replicates a color constant
- `val` in both `regularColorShape` and `customColorShape` seems to be a replication of a color constant as well
- `isCustom` seems redundant since we already have a `type` called `custom`
- there should be one consistent color shape; something like

```js
const colorShape = shape({
  type: oneOf(),
  column: string, 
  domain: arrayOf()
  range: arrayOf()
  scale: ?
  key: ?
})

```",mrblueblue,"enhancement,needs info,tech",,
Importer: filter raw data for char \u0000,2282,,2017-02-16T04:12:36Z,2017-12-01T17:34:34Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description
Immerse is having issues when displaying 'char \u0000', 'null'  backend needs to filter the data for this characters. 
## Steps To Reproduce

## Expected Result

## Actual Result

## Link To Dashboard

## Screenshots

## Other Information",Mrudulabaj,bug,,
Heatmap query needs LIMIT,2281,,2017-02-16T00:16:38Z,2018-01-10T18:53:50Z,"# Requirements
- [x] User story: user sees heatmap load quickly on high cardinality datasets.
- [x] designs: N/A
- [ ] Verification/QA criteria: (need an example dashboard that runs slowly and should run quickly.)

currently query has no LIMIT

```SELECT ACTOR1 as key0,ACTOR2 as key1,COUNT(*) AS color FROM acled GROUP BY key0, key1 ORDER BY key0,key1;```",edmapd,bug,clhenrick,"`LIMIT` to what? ,nytai
To the number of squares which could be realistically rendered in the frontend. I thought there's a limit?,asuhan
Right, we'll need to dig around and see what the current limiting is,nytai
@nytai @edmapd @asuhan That won't work in a lot of cases when the cardinalities of the two columns are high.  You really want the top x groups of the X column and the top y columns of the Y column, not the top x*y groups of them together.  This ideally would be a subquery where you have select X as key0, Y as key1, count(*) as color from table where key0 in (select x from table group by x order by count(*) desc limit x_cardinality) and key1 in (select y from table group by y order by count(*) desc limit y_cardinality).,tmostak
We've been down this road before in https://github.com/map-d/mapd2-frontend/issues/1225 and proposed a fix that:

> do not change the query from what is used today
set a minimum cell size for the heatmap’s cells, and allow the heatmap to scroll vertically/horizontally (note this wouldn’t be an infinite scroll with results being dynamically fetched, but would just display the full dump of the query).
rely on the query watchdog to reject queries which are too large,mrblueblue
I'm well aware that adding a limit to the result isn't precise, but we'll need a fix for this one way or another, the browser struggles a lot to render huge heat maps. But anyway, if we don't want to add a limit, then sorting is redundant and we shouldn't do it. So just remove sort until we have a better way of limiting the size of the heat map.,asuhan
We have a soluton: We now have a `at_most_n` parameter in `sql_execute` that allows specifying a threshold for # rows before BE throws an exception. We should likely set this for all charts. It needs to be added to connecter along with the new thrift. 

It works similarly to `first_n` (use -1 to disable it). Don't mix `at_most_n` and `first_n`, there will be unexpected results. ,nytai
Done in master: https://github.com/mapd/mapd-core-internal/commit/6acce681e2b82b765c2687ad0138286fc8b11162.,asuhan
@nytai any suggestions for how to set the param for `at_most_n` for the heatmap? Seems like this feature has been implemented in `mapd-core-internal`,clhenrick
This is part of the trift api and would have to be included in the connector module. Not sure if we want a global `at_most_n` cap or just on heatmap. ,nytai
Thanks @nytai so it sounds like this is a larger decision that needs to be made which is a blocker to resolving this issue and potentially #3641 cc @mythilimapd ,clhenrick
@clhenrick @nytai I thought we already added it...
https://github.com/mapd/mapd-connector/pull/46/files#diff-35807bdcba6900a6472b69bd0d3bde93R621,biovisualize
Just want to note again that the proper fix is what I mentioned on Feb 15, getting the top k values for each group. Not suggesting though that we need to do that now. ,tmostak
The fix is clear and the path is clear. The only question I posed, and it doesn't have to block this issue, is:
Do we want to put `at_most_n` on all chart queries or just on heatmap? 

It likely won't make any difference in most cases, and given that immerse should be ""fast"" an argument could be made for capping all charts. We don't want to cap the sql editor queries as they use `first_n` and as alex pointed out we shouldn't mix and match those configs. 

Again, this doesn't doesn't have to block this work as the ticket clearly pertains to heatmap but something to consider. ,nytai
Okay so we should open a new issue to decide on implementing usage of `at_most_n`. This issue has to do with the `LIMIT` clause placed on Heat charts, which would prevent the front end from hanging if there was a large number of svg elements drawn. @tmostak I'm not familiar enough with how SQL queries are constructed for charts currently to evaluate the feasibility or time estimate of implementing your suggestion, but I'm most certainly eager to learn more.

I believe modern browsers are capable of rendering a fairly large number of svg elements without hanging up, AFAIK the more problematic issue is when you attempt to **animate** a few thousand or more svg elements, which will most certainly cause the browser to hang.,clhenrick
IMO, this task needs steps to reproduce and an acceptance criteria, so we can look at a heatmap that is too big and see where is the real bottleneck (backend processing, transfer, frontend data processing, rendering). If it's about data processing and transfer, we can decide how to set a limit, it it's rendering, I can show how SVG/Canvas can handle millions of data points in the browser. ,biovisualize
@biovisualize I just chatted with Tai & Todd IRL and agreed there are roughly two paths forward, 

1. we set the `at_most_n` for either all charts or just the heatmap chart. This involves getting into the internals of `crossfilter` and `connector` with the goal of throwing an exception if the user selected dimensions with way too many values that could result in hanging the browser.

2. we completely re-write the heatmap chart to decouple it from `crossfilter` so that we can use the SQL query suggested by Todd which would get to solving the root of the problem: rendering a heat map chart with an acceptable number of rows and columns even if the user selected dimensions with way too many values. 

Path 1 may be worth doing so that I can get a better understanding of how charting relates to crossfilter relates to connector. Path 2 is probably something we should do for the future that would look similar in some ways to your recent re-write of the Line Chart.,clhenrick
It shouldn't be whether rendering millions of elements is possible, but minimizing the data transferred and rendered to give the user what they want to see.  Heatmaps are two dimensional so it doesn't make sense to just take the top n along both groups. We need to use a subquery to get the top X groups of for the x axis dimension (if categorical) and the top Y groups of the y axis dimension.  Ideally we do this dynamically so the groups could change as crossfiltered (but may want to allow an ability to lock like we do for other charts). The query would look like this: ```select X as key0, Y as key1, count() as color from table where key0 in (select x from table group by x order by count() desc limit x_cardinality) and key1 in (select y from table group by y order by count() desc limit y_cardinality)``` (Note we'd probably like to use similar query structure to get the dynamic top k groups we've talked about for line and histogram charts when grouping by categorical dimensions).

One of the practical issues with just going with ``at_most_n`` is I suspect the heatmap is creating cells for all groups along the two axes even if there is not data. So if I return two rows, ""New York X United Airlines"" and ""Florida X American Airlines"" it will likely create svg elements for the empty cells ""New York X American Airlines"" and ""Florida X United Airlines"".  In pathological cases (imagine grouping a user_name on twitter by user_id), we could end up creating limit^2 number of cells.  

Again we may want to punt on this but just expressing my two cents on why just a flat limit or ``at_most_n`` is at most a partial band-aid on the problem.
  ,tmostak
there isn't anything to reproduce besides the browser hangs and the chart doesn't render, the bottleneck is physics in this case. 

Try building a heatmap using `tweets_2017_may` dataset and using `sender_name` for both x,y dimensions and # records for the measure. 

There are approx. 4,304,329 distinct values for `sender_name`, so you're trying the render a grid with over 16m cells, that's more cells than monitors have pixels. 
 


,nytai
Actually @nytai it would be 4.3M squared so over 18 trillion cells (!) :),tmostak"
Mockups for top n / auto-coloring,2262,,2017-02-14T00:50:05Z,2018-02-02T00:37:10Z,,edmapd,,,"![multi-series-top-n-5-a](https://cloud.githubusercontent.com/assets/645555/23276823/9ac425ec-f9c0-11e6-8b92-9ae5d44c760d.png)
![multi-series-top-n-5-a1](https://cloud.githubusercontent.com/assets/645555/23276822/9ac2ec72-f9c0-11e6-884e-d9b237d6eb60.png)
![multi-series-top-n-5-b](https://cloud.githubusercontent.com/assets/645555/23276821/9ac00d68-f9c0-11e6-9302-4f815e75e8e4.png)
![multi-series-top-n-5-b-1](https://cloud.githubusercontent.com/assets/645555/23276820/9abcbd2a-f9c0-11e6-8313-ab51494ba55f.png)
,duhoang"
"Shape Importer: If column type is an array, only allow strings to be displayed.",2260,,2017-02-13T23:41:16Z,2017-12-01T17:34:34Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description
Immerse hangs when trying to connect to a column , from the dataset that was created via shape file 

## Steps To Reproduce
1. Go to dashboards page , click ->New dashboards
2. Click Import data
3. Drag and drop Geojson file
[countries.geojson.zip](https://github.com/map-d/mapd2-frontend/files/772699/countries.geojson.zip)
4. Give table name 
5. Create a table chart 


## Expected Result
Connect to table chart without any errors 

## Actual Result
Error in the console
Uncaught (in promise) Error: Exception: Unsupported type: ARRAY
    at i (a2f3299….bundle.js:34)
    at a2f3299….bundle.js:34
    at eval (eval at e.exports (a2f3299….bundle.js:1), <anonymous>:7170:7)
    at XMLHttpRequest.eval (eval at e.exports (a2f3299….bundle.js:1), <anonymous>:342:21)

when a get time column is selected 

Uncaught TypeError: Cannot read property 'getTime' of null
    at o (a2f3299….bundle.js:41)
    at a2f3299….bundle.js:41
    at a (a2f3299….bundle.js:41)
    at A (a2f3299….bundle.js:41)
    at a2f3299….vendor.bundle.js:8
    at u (a2f3299….vendor.bundle.js:50)
    at a2f3299….vendor.bundle.js:8
    at e.render (a2f3299….vendor.bundle.js:8)
    at f._renderValidatedComponentWithoutOwnerOrContext (a2f3299….vendor.bundle.js:69)
    at f._renderValidatedComponent (a2f3299….vendor.bundle.js:69)

## Link To Dashboard

## Screenshots
![image](https://cloud.githubusercontent.com/assets/24970225/22908344/bb86b256-f202-11e6-94b6-863aaa8cd3ad.png)

## Other Information",Mrudulabaj,bug,,"To clarify this is not specific to shapefiles at all, but rather to non-text arrays. (Internally polygons are stored as four int and double arrays, with names prefixed by `mapd_geo_`).

I've created a table on Kali named `arrays_test` which has text, int, and double arrays. ,andrewseidl
yes, we should likely hide `arrays` from dimensions,MarcBalaban
might be a good idea to do #2148 at the same time,nytai
IQT scope wasn't to use shapefile as a datasource. ,nytai"
White flashing of pointmap is back!,2214,,2017-02-03T22:47:06Z,2017-07-15T16:03:41Z,"## General Info
- **Platform**: All
- **Browser Name**: Chrome
- **Browser Version**: All
- **Application Version**: master dev
- **Computer-Type**: 13"" Macbook Pro (13"" Macbook Air does not have this problem)

## Steps To Reproduce
1) create a pointmap.
2) make the container larger.
3) zoom in and out.

## Expected Result
- No white flashing

## Actual Result
- White flashing",MarcBalaban,"bug,component-raster,dc,needs info",vastcharade,"Original issue :
https://github.com/map-d/mapd2-frontend/issues/1601,edmapd
@vastcharade I'm able to repro a bad case on my machine using the ""airliner tracks"" dashboard on kali. Stop by tomorrow if you want to see.,edmapd"
Refactor Color Chart,2210,,2017-02-03T17:58:09Z,2017-07-24T03:22:35Z,"`color-chart` seems like an unnecessary abstraction to some degree. A lot of the logic can be inlined in our chart files. Moreover, a lot of logic should be ported to the DC level. ",mrblueblue,"enhancement,tech",,"perhaps this would take care of https://github.com/mapd/mapd-immerse/issues/2040,edmapd"
Contributions demo : blurry image shows up before the image gets crisp,2199,,2017-02-02T00:23:49Z,2017-07-15T16:04:40Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description
For contributions demo , on titan _minos , before the dashboard gets crisp a blurry image shows up 
## Steps To Reproduce
1. Login into Titan on minos 
2. select US political donations dashboard 

## Expected Result
A crisp image would load

## Actual Result
A blurry image before it gets crispy 
## Link To Dashboard

## Screenshots

## Other Information

![fe-minos-flash](https://cloud.githubusercontent.com/assets/24970225/22532272/13b3d2ea-e89b-11e6-87d2-d86041f26da9.gif)",Mrudulabaj,"bug,component-raster,needs info",,"from @vastcharade 
>I assume there's a resize happening that results in two render queries being sent. The blurry image is from the first query that was rendered at a smaller scale, but the resize already happened on the mapbox div and it hasn't received the result from the 2nd render yet.,edmapd
This bug reminds me of this older one:
https://github.com/map-d/mapd2-frontend/issues/1687,edmapd
I'm not sure there's much we can do about this. 2 renders are necessary since that dashboard was created and saved on a screen with a different resolution. A way of avoiding this is to render mapbox first, then get the screen resolution and adjust the render call with the updated resolution. This is a non-trivial amount of work and we would have to be made to determine if the gains are worth it. ,nytai
lately i am seeing this issue consistently.  ,Mrudulabaj
I haven't looked at the mapbox code, but it's possible they could be 
applying some kind of blur filter too. Something to consider when debugging.


On 03/15/2017 11:59 AM, Mrudulabaj wrote:
>
> lately i am seeing this issue consistently.
>
> —
> You are receiving this because you were mentioned.
> Reply to this email directly, view it on GitHub 
> <https://github.com/map-d/mapd2-frontend/issues/2199#issuecomment-286845427>, 
> or mute the thread 
> <https://github.com/notifications/unsubscribe-auth/AFgFXVDL00E_Afr47zO5DCy7zRytbmDfks5rmDT7gaJpZM4L0kWR>.
>

,vastcharade
From @vastcharade:

> my first guess was that it was a differing resolution issue, but having seen the issue a couple times, it looks moreso like a post-processing blur. Requires investigation -- first, checking the vega calls to see what the image resolution is, and that it aligns with the mapbox width/height, and then digging to see what mapbox might be doing with possible post-processing effects. I do know that they recently introduced a fade in/fade out effect for image sources, which I've had to disable when the image source is added, so it's possible there could be a blur applied too.


After investigation, if it is a differing resolution issue, make another ticket to move forward with the enhancement work outlined above https://github.com/map-d/mapd2-frontend/issues/2199#issuecomment-277380026,nytai"
Enable Chart Spinners on Render,2183,,2017-01-31T19:42:36Z,2017-12-01T17:34:54Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description
1.Create any with contributions data set via brand new dashbaord
2. Dim : committee_party & committe_Name
3. Measure :  records
4. Switch between charts 

## Expected Result
spinner would show until the chart is rendered
## Actual Result
No spinner 


## Link To Dashboard

## Screenshots
![fe-minos-scatter](https://cloud.githubusercontent.com/assets/24970225/22481476/486de5bc-e7aa-11e6-832d-bcf11e414967.gif)
## Other Information",Mrudulabaj,"feature,needs info",,"Need's more of a user oriented specification. For instance, we should outline what the user need is: ""as a user I would like to be notified when a chart is being created"",mrblueblue
Agreed, I'm not even sure what the problem is.,MarcBalaban"
custom filter on FLOAT column and non-integer fails with overflow/underflow,2156,,2017-01-24T23:20:18Z,2017-12-01T17:34:34Z,"## General Info
- **Platform**: 
- **Browser Name**: Chrome
- **Browser Version**: 22
- **Application Version**: 2.0.2

## Issue Description
Custom filter against FLOAT column reports o

## Steps To Reproduce
Go to mapd.com taxi demo.  Enter a custom filter for tip_amount >  .2  * fare_amount.

## Expected Result
Should work.

## Actual Result
tip_amount >.2 * fare_amount : fails on underflow/overflow
tip_amount > fare_amount * .2 : works
tip_amount > cast (.2 as float) * fare_amount : works
tip_amount > 2 * fare_amount : works
tip_amount > 2.1 * fare_amount :fails

## Link To Dashboard

## Screenshots
![screen shot 2017-01-24 at 3 08 06 pm](https://cloud.githubusercontent.com/assets/7409656/22270977/1b1efdd4-e247-11e6-904a-72452497f22e.png)
![screen shot 2017-01-24 at 3 07 49 pm](https://cloud.githubusercontent.com/assets/7409656/22270978/1b203866-e247-11e6-8be8-2dbc2f99a21c.png)

## Other Information",billmaimone,,,
Distorted Pie chart .. sporadic behavior ,2145,,2017-01-20T19:41:56Z,2017-07-15T16:05:24Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description
Not able to constantly reproduce this issue . while adding couple of various charts to the dashboard , i have seen this issue
## Steps To Reproduce
1. on Minos dataset tweets
2. add couple of  charts 
## Expected Result
a clearer pie chart
## Actual Result
distorted pie chart
## Link To Dashboard

http://minos.mapd.com:8000/#/link/mapd/710db85a

## Screenshots
![image](https://cloud.githubusercontent.com/assets/24970225/22162591/2fa092fe-df04-11e6-8c01-8897a7f822d0.png)

![image](https://cloud.githubusercontent.com/assets/24970225/22162880/5ed9ae38-df05-11e6-8cd3-71bc559b2d5b.png)


## Other Information",Mrudulabaj,"blocked,component-charting,lo-pri",,"Note @mrudula that link to dashboard doesn't work. Instead of grabbing url from browser address bar you need to hit share button in dashboard and get that link. ,edmapd
@edmapd updated the dashboard link ,Mrudulabaj
these repro steps are not enough to flush out the bug.  It will be difficult to fix without being able to see the problem.,MarcBalaban"
"[Minos] [Pie chart, Heat map]cannot change color palette, some cases",2142,,2017-01-19T22:56:25Z,2017-12-01T17:34:49Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description color palette is wrong and unable to +add dimension by color via color palette

## Steps To Reproduce
1. on Minos create a dashboard and Pie chart using tweets data
2. Dim : followers, followees and google_X
3. Measure : # records and color by unique county_state

## Expected Result

Should be able to change color palette

## Actual Result
unable to change color palette

## Link To Dashboard
http://dashboard-v2-master.dev.frontend.builds.mapd.com/#/link/mapd/722c21b5
![fe-minos-color](https://cloud.githubusercontent.com/assets/24970225/22128844/718754d0-de57-11e6-9cfa-e2e75cf822cf.gif)

## Screenshots
![image](https://cloud.githubusercontent.com/assets/24970225/22128707/cfe2de1a-de56-11e6-8538-5c691e03056c.png)

## Other Information",Mrudulabaj,bug,,"`Cannot read property 'label' of undefined`
![screen shot 2017-02-03 at 9 46 13 am](https://cloud.githubusercontent.com/assets/9220038/22601853/ad4d644c-e9f5-11e6-836a-1390bc039bb1.png)
,mrblueblue
i still see this issue 3.2.1 ,Mrudulabaj"
Color Manager,2129,,2017-01-17T22:15:45Z,2018-01-23T21:04:37Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description

Color is persistently broken in Immerse. One of the reason for this is color has a big and complicated feature set. And that the entire front-end team built it piece-meal over the course of a year, and without a full spec.

We should consolidate the code, and find a definitive code path to color charts, or else it will continue to be buggy and difficult to patch.

Refactor should preserve  - at least color by dimension versus color by measure even if we cannot keep the exact colors. Refactor should allow for color by dimension or color by measure where applicable. Today **Color by dimension** appears on the right side of the chart as visual customizations for a bar chart. However for line and histogram the exact same thing is exposed as **Series** on the left side of the chart as  data settings.

- Also ensure the default color palette for discrete colors (ordinal) is a palette of 10 or 12 and not 9 colors. 


And the first step to do this would be a code spec, based on this UX spec: https://docs.google.com/document/d/1Us4kHgLt0pJbQg_wn5MW8NowFGYMsR2iNN98jk_M3q8

## Steps To Reproduce

## Expected Result

## Actual Result

## Link To Dashboard

## Screenshots

## Other Information",duhoang,,,"There seem to be two main areas to address in the code

1. What is the shape of our ""color"" state? How does that change with certain user actions? The piece of work here is to refactor our color reducers.

2. How does our application take the color state and update the actual colors of the chart? Are we doing this at the right abstraction level (actions, component, or DC itself). The piece of work here is to refactor `color-chart` and specific chart updates

The first seems to be much easier to address with a spec. I would suggest writing unit tests for all possible color state changes and then rewriting any reducers to pass these expectations,mrblueblue
Another area to refactor is our React color widgets. There have consistently been bugs around mapping `undefined` things.,mrblueblue"
Set default # bins using Freedman-Diaconis,2120,,2017-01-14T02:58:27Z,2017-12-01T17:34:34Z,"https://en.wikipedia.org/wiki/Freedman%E2%80%93Diaconis_rule

Rule specifies how to pick the ideal number of bins to display for a histogram.

Blocked till backend adds PERCENTILE",edmapd,"blocked,dc,enhancement,lo-pri",,
table: incorrect filter generated with timestamps,2087,[object Object],2017-01-09T22:59:21Z,2017-12-01T17:34:34Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description
Haven't tested too in depth yet, but adding a timestamp column to a table results in the most recent row being filtered out. Example sql generated:

    SELECT
      a as key0,
      date_trunc(second, ts) as key1,
      COUNT(*) AS val
    FROM andrew_ts_bug
    WHERE
      (ts >= TIMESTAMP(0) '2017-01-09 14:40:01' AND
       ts < TIMESTAMP(0) '2017-01-09 14:40:03')
    GROUP BY key0, key1
    ORDER BY val
    DESC LIMIT 50
    OFFSET 400;

Generated sql is asking for `ts < max(ts)` instead of `ts <= max(ts)`.

## Steps To Reproduce
- On Kali, table `andrew_ts_bug`
- create table chart
- add column `a`. Note that there are `n` rows.
- add column `ts`, bin by seconds. Note that there are now only `n-1` rows shown, though the count in the top right says `n of n`.

## Link To Dashboard
http://dashboard-v2-master.prod.frontend.builds.mapd.com/#/link/mapd/eecf3c58",andrewseidl,bug,,"This is a simple fix.  

See here in crossfilter.js

<img width=""843"" alt=""screen shot 2017-02-15 at 1 59 10 pm"" src=""https://cloud.githubusercontent.com/assets/953210/22997390/086a787a-f387-11e6-80a6-915dde2c89f9.png"">

Is there any reason why we would want < instead of <= on lines 715 and 720?

Note the numeric filters are  both < and > which may not be desired as either.  Guessing that the user would expect inclusive filtering on a chart.

,tmostak
This appears to be a duplicate of #769,dwayneberry
Let's just fix it and close both out. :),tmostak
@edmapd do you have any thoughts on desired behavior of visual filters. Should they be exclusive or inclusive. At least for the case Andrew cited it seems inclusive would be desired behavior.,tmostak
I think it has to be inclusive, for the benchmark example we cannot look at the latest data until a day later if these filters are applied
,dwayneberry
Inclusive on both the ""from""  and the ""to"" side makes sense to me. ,edmapd
Ok agreed. Can we add this to the sprint so we'll be done with it? There are a few more lines with range filters but the changes should take just a minute or so. ,tmostak
@nytai Should this fix be in v3 when I look at benchmark results I still seem to be losing the last day entry

see http://72.28.97.185:9092 look at MasterTest as soon as you try to look at end of time line you lose the latest date ,dwayneberry
@dwayneberry the generated query seems correct, not sure why the data isn't coming back.

```
SELECT date_trunc(day, run_timestamp) as key0,CASE when query_id IN ('Q017','Q002','Q014','Q012','Q011','Q008','Q007','Q001','Q013','Q005','Q015','Q006','Q003','Q004','Q016','Q100') then query_id ELSE 'other' END as key1,AVG(execute_avg) AS val FROM results WHERE (run_timestamp >= TIMESTAMP(0) '2016-11-12 14:57:01' AND run_timestamp <= TIMESTAMP(0) '2017-05-02 03:04:19') AND run_label = 'MasterTest' AND execute_avg IS NOT NULL GROUP BY key0, key1 ORDER BY key0,key1
```,nytai
Actually It's just the dates on that time chart are incorrect. I'm able to see today's queries 
<img width=""743"" alt=""screen shot 2017-05-02 at 11 53 18 am"" src=""https://cloud.githubusercontent.com/assets/10255196/25634026/035facc8-2f2e-11e7-8973-8bf1875a6cf9.png"">

,nytai
@nytai now zoom in on the last quater in the bottom part of the chart
,dwayneberry
![baddate](https://cloud.githubusercontent.com/assets/4306442/25634236/b6559162-2f2e-11e7-8689-9cc6b3378392.png)
,dwayneberry
Interesting. Looks like both the date boxes and the range chart are using the exclusive filter. Additional work for this ticket is to change the chart filters to also be inclusive. 


I think only table chart was used to verify this. ,nytai
on the dashboard : http://immerse-2802.dev.frontend.builds.mapd.com/#/link/mapd/9c49aafd
Inserted data into  `Insert into andrew_ts_bug values ('Z','2017-07-19 112820')` . i saw the value on the chart of the dashboard after i refreshed the dashboard
,Mrudulabaj
Added couple more records ``` insert into andrew_ts_bug values ('S' , ' 2017-07-19 114410');
Success: 11ms
insert into andrew_ts_bug values ('M' , ' 2017-07-19 114410');
Success: 9ms ```

but i do not see it in the line chart  http://immerse-2802.dev.frontend.builds.mapd.com/#/link/mapd/f7ce1ee1,Mrudulabaj"
blank axis when all values in dimension are the same (cardinality=1),2055,,2017-01-03T18:05:08Z,2017-09-27T20:26:11Z,"@edmapd commented on [Mon Jan 02 2017](https://github.com/map-d/mapd2/issues/538)

1) go to http://dashboard-v2-master.dev.frontend.builds.mapd.com/
2) log out and connect to http://173.46.67.94:9092/
3) hit this URL (http://dashboard-v2-master.dev.frontend.builds.mapd.com/#/link/mapd/257adeb4) or within ships_ais dataset, create scatterplot with axes VoyageID and ZHeight

<img width=""900"" alt=""screen shot 2017-01-02 at 5 03 06 pm"" src=""https://cloud.githubusercontent.com/assets/14082721/21598217/60ee52d8-d10d-11e6-8ead-cb35ffd96919.png"">

(FYI It appears that all entries in the column ZHeight are equal to 0)

I think in a case like this we'd expect to see something like a scatterplot condensed along one line.

---

@vastcharade commented on [Tue Jan 03 2017](https://github.com/map-d/mapd2/issues/538#issuecomment-270158590)

Here's the query for the above screenshot:

```SELECT VoyageID as x,ZHeight as y,ships_ais.rowid FROM ships_ais WHERE (VoyageID >= -32767 AND VoyageID < 32767) AND (ZHeight >= 0 AND ZHeight < 0) LIMIT 2000000```

This query results in 0 returned rows because ZHeight >= 0 AND ZHeight < 0 will always return 0 rows. When the min/max are the same that query needs to be adjusted, probably to something like this `ZHeight >= 0 AND ZHeight <= 0`. This is a frontend issue.",edmapd,"P1,bug,component-charting,dc",,"Can't repro because of an exception that is blocking the dashboard to load. Immerse V3.2.3

![screen shot 2017-09-27 at 1 22 30 pm](https://user-images.githubusercontent.com/10747240/30936025-6256eaf2-a387-11e7-8347-8f65f5df758e.png)
,Davidiskander"
Set backend-rendered color scale w/ 1 round trip via Vega,2054,,2016-12-30T19:08:49Z,2017-07-15T16:08:36Z,"Currently color scale for pointmap is set to universal min/max, and is not adjusted as the map zooms.  This makes the color scale pretty useless as you get to tight zooms.

![color scale pointmap](https://cloud.githubusercontent.com/assets/14082721/21571020/1e94ca64-ce80-11e6-84ed-0b101ab79c49.gif)

[From Todd](https://mapd.slack.com/archives/engineering-frontend/p1483124459000851):
>Ideally we'd do it all in one call through vega
>Rather than doing two trips",edmapd,"blocked,component-raster,dc,enhancement",,"@edmapd @duhoang this is the same problem as we were discussing for autofilling categorical colors. I'd say it's blocked pending a clearer spec.,mLuby"
"Control-click/Command-click the ""Dashboards"" header link or a dashboard name should open in new tab",2047,,2016-12-27T02:31:01Z,2017-12-01T17:34:54Z,"<img width=""471"" alt=""screen shot 2016-12-26 at 9 30 24 pm"" src=""https://cloud.githubusercontent.com/assets/14082721/21488865/89697414-cbb2-11e6-8e9c-1e6eb3792d65.png"">",edmapd,"enhancement,lo-pri",,
"Add ""(Group By)"" after Dimensions in chart builder",2046,,2016-12-23T02:56:55Z,2017-12-01T17:34:54Z,"It seems that a lot of people (including our Nvidia POC) don't know what Dimensions mean and often use measures for the same purpose.  Let's try to make things clear by adding an annotation for Dimensions such that it reads ""Dimensions (Group By)"".",tmostak,enhancement,,"Blocked as per ed's request,nytai"
Color By Dimension Need to Update CustomKey On Dimension Drag/Drop,2040,,2016-12-22T01:08:13Z,2018-02-02T00:37:09Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description

When a chart is colored by dimensions. If you drag and drop dimensions into a different slot. The customKey is not updated, and the chart is colored incorrectly.

## Steps To Reproduce

- Create a pie chart that has 2 dimensions
- Color by one of the dimension
- Drag and drop so the 2 dimensions switch places
- Notice that the color of the chart is not correct.

## Link To Dashboard

## Screenshots

## Other Information",duhoang,bug,,
"Relative (""percentage"") view",2035,,2016-12-21T22:11:24Z,2018-01-30T22:51:34Z,"Request from NVIDIA-GFE and CMT

Feature to reproduce what v.1 immerse offered with its view for ""percentage"" (which was a bit of a misnomer).

example from v.1
http://dashboard-v1-master.dev.frontend.builds.mapd.com/#mapd/3f0db5d7

**without** percentage view applied, sql for row chart in this dashboard looks like this:
```SELECT flights_123M.dest_city as key0,COUNT(*) AS val FROM flights_123M WHERE (flights_123M.origin_state = 'NY') GROUP BY key0 ORDER BY val DESC LIMIT 12;```

**with** percentage view:
```SELECT flights_123M.dest_city as key0, AVG(CASE WHEN (flights_123M.origin_state = 'NY') THEN 1 ELSE 0 END) AS val FROM flights_123M GROUP BY key0 ORDER BY val DESC LIMIT 12;```

when percentage view was applied, dashboard looked like

<img width=""1268"" alt=""screen shot 2016-12-21 at 5 11 31 pm"" src=""https://cloud.githubusercontent.com/assets/14082721/21408024/99f43938-c7a0-11e6-8feb-633f10ae3f5f.png"">",edmapd,"NVIDIA-GFE,customer,feature",,
Search Dashboards Box is quite sluggish with 300+ dashboards,2026,,2016-12-19T23:20:10Z,2017-12-01T17:34:54Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description

There is quite a bit of lag when searching through the dashboards.

Although this isn't a large problem right now,  I could imagine a situation where any client that had a large quantity of dashboards (500 - 1000+) will run into an exponentially slower experience.

![image](https://cloud.githubusercontent.com/assets/2932405/21332632/9dbf0ab4-c5fe-11e6-9027-87f018a8bfc4.png)",MarcBalaban,lo-pri,,"This could also be solved by switching from a giant list to some grouping, role-based access, etc.,biovisualize"
Improper exception handling: `get_link_view`,2024,,2016-12-19T16:29:52Z,2017-12-01T17:34:34Z,"## General Info
- **Platform**: All
- **Browser Name**: All
- **Browser Version**: All
- **Application Version**: master dev

## Issue Description
The exception thrown by `get_link_view` when requesting an invalid saved link is not handled correctly. Backend throws an exception saying `Link abc1234 is not valid.` but Immerse ignores this and tries to parse the (empty) view_state, resulting in:

    InvalidCharacterError: Failed to execute 'atob' on 'Window': The string to be decoded is not correctly encoded.

## Steps To Reproduce
1) Generate a link
2) Change the ID in the link to something random/most likely not in the DB
3) Attempt to load new link

## Link To Dashboard
http://dashboard-v2-release.dev.frontend.builds.mapd.com/#/link/mapd/abc1234",andrewseidl,"bug,lo-pri",,"we no longer show the `Failed to execute 'atob' on 'Window'` error.  Now you just get an empty dashboards screen.
Correct behavior would be to pass through the error from backend (`Link abc1234 is not valid.`) into our modal window ,edmapd"
"Server heartbeat check from frontend (""Server may be down"")",2017,,2016-12-16T01:45:22Z,2017-12-01T17:34:54Z,"Saw while Nvidia was testing their dashboard that server crashed, and they were waiting for a long time for query to come back to frontend, when server was already dead.",edmapd,enhancement,,
Drag functionality for columns in pointmap/scatter popup box,2012,,2016-12-15T20:52:37Z,2017-07-15T16:14:10Z,,edmapd,"component-raster,enhancement",,
"mapdcon: update `get_users`, `get_databases`",1998,,2016-12-13T19:52:55Z,2017-12-01T17:34:34Z,"Breaking change in the Thrift API, `get_users` and `get_databases` now require authentication. These methods do not appear to be used anywhere in Immerse, but there are tests which will break until they're updated.

All that should be needed is to add the session id to those tests. I'll update Kali and Forge to use the new API once I have a PR ready.",andrewseidl,,andrewseidl,
Multi-line checkbox for data importer,1978,,2016-12-07T22:20:05Z,2017-12-01T17:34:49Z,"Having a checkbox here indicating whether data contains multi-line fields will let us parallelize import in case of no multi-lines.

Add a checkbox for ""**Data contains multi-line fields**""



<img width=""590"" alt=""screen shot 2016-12-07 at 2 18 06 pm"" src=""https://cloud.githubusercontent.com/assets/14082721/20989012/045484c8-bc88-11e6-9ad6-6b394af58b18.png"">",edmapd,enhancement,,